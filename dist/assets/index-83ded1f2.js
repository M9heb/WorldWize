function LA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var NA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ia(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var R1={exports:{}},Qd={},b1={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hu=Symbol.for("react.element"),VA=Symbol.for("react.portal"),FA=Symbol.for("react.fragment"),UA=Symbol.for("react.strict_mode"),BA=Symbol.for("react.profiler"),$A=Symbol.for("react.provider"),jA=Symbol.for("react.context"),zA=Symbol.for("react.forward_ref"),WA=Symbol.for("react.suspense"),HA=Symbol.for("react.memo"),YA=Symbol.for("react.lazy"),o0=Symbol.iterator;function qA(t){return t===null||typeof t!="object"?null:(t=o0&&t[o0]||t["@@iterator"],typeof t=="function"?t:null)}var O1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M1=Object.assign,L1={};function ka(t,e,n){this.props=t,this.context=e,this.refs=L1,this.updater=n||O1}ka.prototype.isReactComponent={};ka.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ka.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function N1(){}N1.prototype=ka.prototype;function Dv(t,e,n){this.props=t,this.context=e,this.refs=L1,this.updater=n||O1}var Av=Dv.prototype=new N1;Av.constructor=Dv;M1(Av,ka.prototype);Av.isPureReactComponent=!0;var s0=Array.isArray,V1=Object.prototype.hasOwnProperty,Rv={current:null},F1={key:!0,ref:!0,__self:!0,__source:!0};function U1(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)V1.call(e,r)&&!F1.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Hu,type:t,key:o,ref:a,props:i,_owner:Rv.current}}function KA(t,e){return{$$typeof:Hu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hu}function ZA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var a0=/\/+/g;function bp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ZA(""+t.key):e.toString(36)}function vh(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Hu:case VA:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+bp(a,0):r,s0(i)?(n="",t!=null&&(n=t.replace(a0,"$&/")+"/"),vh(i,e,n,"",function(d){return d})):i!=null&&(bv(i)&&(i=KA(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(a0,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",s0(t))for(var u=0;u<t.length;u++){o=t[u];var c=r+bp(o,u);a+=vh(o,e,n,c,i)}else if(c=qA(t),typeof c=="function")for(t=c.call(t),u=0;!(o=t.next()).done;)o=o.value,c=r+bp(o,u++),a+=vh(o,e,n,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Bc(t,e,n){if(t==null)return t;var r=[],i=0;return vh(t,r,"","",function(o){return e.call(n,o,i++)}),r}function GA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},_h={transition:null},QA={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:_h,ReactCurrentOwner:Rv};Ie.Children={map:Bc,forEach:function(t,e,n){Bc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bc(t,function(){e++}),e},toArray:function(t){return Bc(t,function(e){return e})||[]},only:function(t){if(!bv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=ka;Ie.Fragment=FA;Ie.Profiler=BA;Ie.PureComponent=Dv;Ie.StrictMode=UA;Ie.Suspense=WA;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QA;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=M1({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Rv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)V1.call(e,c)&&!F1.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:Hu,type:t.type,key:i,ref:o,props:r,_owner:a}};Ie.createContext=function(t){return t={$$typeof:jA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$A,_context:t},t.Consumer=t};Ie.createElement=U1;Ie.createFactory=function(t){var e=U1.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:zA,render:t}};Ie.isValidElement=bv;Ie.lazy=function(t){return{$$typeof:YA,_payload:{_status:-1,_result:t},_init:GA}};Ie.memo=function(t,e){return{$$typeof:HA,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=_h.transition;_h.transition={};try{t()}finally{_h.transition=e}};Ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ie.useCallback=function(t,e){return vn.current.useCallback(t,e)};Ie.useContext=function(t){return vn.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return vn.current.useEffect(t,e)};Ie.useId=function(){return vn.current.useId()};Ie.useImperativeHandle=function(t,e,n){return vn.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return vn.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return vn.current.useReducer(t,e,n)};Ie.useRef=function(t){return vn.current.useRef(t)};Ie.useState=function(t){return vn.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return vn.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return vn.current.useTransition()};Ie.version="18.2.0";b1.exports=Ie;var R=b1.exports;const M=Ia(R),XA=LA({__proto__:null,default:M},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA=R,eR=Symbol.for("react.element"),tR=Symbol.for("react.fragment"),nR=Object.prototype.hasOwnProperty,rR=JA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iR={key:!0,ref:!0,__self:!0,__source:!0};function B1(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)nR.call(e,r)&&!iR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:eR,type:t,key:o,ref:a,props:i,_owner:rR.current}}Qd.Fragment=tR;Qd.jsx=B1;Qd.jsxs=B1;R1.exports=Qd;var A=R1.exports,Bm={},$1={exports:{}},Un={},j1={exports:{}},z1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,re){var W=U.length;U.push(re);e:for(;0<W;){var oe=W-1>>>1,fe=U[oe];if(0<i(fe,re))U[oe]=re,U[W]=fe,W=oe;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var re=U[0],W=U.pop();if(W!==re){U[0]=W;e:for(var oe=0,fe=U.length,qe=fe>>>1;oe<qe;){var ye=2*(oe+1)-1,me=U[ye],ae=ye+1,tt=U[ae];if(0>i(me,W))ae<fe&&0>i(tt,me)?(U[oe]=tt,U[ae]=W,oe=ae):(U[oe]=me,U[ye]=W,oe=ye);else if(ae<fe&&0>i(tt,W))U[oe]=tt,U[ae]=W,oe=ae;else break e}}return re}function i(U,re){var W=U.sortIndex-re.sortIndex;return W!==0?W:U.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],d=[],f=1,m=null,v=3,y=!1,E=!1,P=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(U){for(var re=n(d);re!==null;){if(re.callback===null)r(d);else if(re.startTime<=U)r(d),re.sortIndex=re.expirationTime,e(c,re);else break;re=n(d)}}function D(U){if(P=!1,S(U),!E)if(n(c)!==null)E=!0,de(O);else{var re=n(d);re!==null&&je(D,re.startTime-U)}}function O(U,re){E=!1,P&&(P=!1,T(H),H=-1),y=!0;var W=v;try{for(S(re),m=n(c);m!==null&&(!(m.expirationTime>re)||U&&!le());){var oe=m.callback;if(typeof oe=="function"){m.callback=null,v=m.priorityLevel;var fe=oe(m.expirationTime<=re);re=t.unstable_now(),typeof fe=="function"?m.callback=fe:m===n(c)&&r(c),S(re)}else r(c);m=n(c)}if(m!==null)var qe=!0;else{var ye=n(d);ye!==null&&je(D,ye.startTime-re),qe=!1}return qe}finally{m=null,v=W,y=!1}}var V=!1,F=null,H=-1,te=5,K=-1;function le(){return!(t.unstable_now()-K<te)}function Se(){if(F!==null){var U=t.unstable_now();K=U;var re=!0;try{re=F(!0,U)}finally{re?Be():(V=!1,F=null)}}else V=!1}var Be;if(typeof w=="function")Be=function(){w(Se)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,$e=et.port2;et.port1.onmessage=Se,Be=function(){$e.postMessage(null)}}else Be=function(){x(Se,0)};function de(U){F=U,V||(V=!0,Be())}function je(U,re){H=x(function(){U(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){E||y||(E=!0,de(O))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(v){case 1:case 2:case 3:var re=3;break;default:re=v}var W=v;v=re;try{return U()}finally{v=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,re){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var W=v;v=U;try{return re()}finally{v=W}},t.unstable_scheduleCallback=function(U,re,W){var oe=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?oe+W:oe):W=oe,U){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=W+fe,U={id:f++,callback:re,priorityLevel:U,startTime:W,expirationTime:fe,sortIndex:-1},W>oe?(U.sortIndex=W,e(d,U),n(c)===null&&U===n(d)&&(P?(T(H),H=-1):P=!0,je(D,W-oe))):(U.sortIndex=fe,e(c,U),E||y||(E=!0,de(O))),U},t.unstable_shouldYield=le,t.unstable_wrapCallback=function(U){var re=v;return function(){var W=v;v=re;try{return U.apply(this,arguments)}finally{v=W}}}})(z1);j1.exports=z1;var oR=j1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1=R,Nn=oR;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H1=new Set,iu={};function Xo(t,e){na(t,e),na(t+"Capture",e)}function na(t,e){for(iu[t]=e,t=0;t<e.length;t++)H1.add(e[t])}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$m=Object.prototype.hasOwnProperty,sR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l0={},u0={};function aR(t){return $m.call(u0,t)?!0:$m.call(l0,t)?!1:sR.test(t)?u0[t]=!0:(l0[t]=!0,!1)}function lR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uR(t,e,n,r){if(e===null||typeof e>"u"||lR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _n(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qt[t]=new _n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qt[e]=new _n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qt[t]=new _n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qt[t]=new _n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qt[t]=new _n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qt[t]=new _n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qt[t]=new _n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qt[t]=new _n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qt[t]=new _n(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ov=/[\-:]([a-z])/g;function Mv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ov,Mv);qt[e]=new _n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ov,Mv);qt[e]=new _n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ov,Mv);qt[e]=new _n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qt[t]=new _n(t,1,!1,t.toLowerCase(),null,!1,!1)});qt.xlinkHref=new _n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qt[t]=new _n(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lv(t,e,n,r){var i=qt.hasOwnProperty(e)?qt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uR(e,n,i,r)&&(n=null),r||i===null?aR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fi=W1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$c=Symbol.for("react.element"),Ds=Symbol.for("react.portal"),As=Symbol.for("react.fragment"),Nv=Symbol.for("react.strict_mode"),jm=Symbol.for("react.profiler"),Y1=Symbol.for("react.provider"),q1=Symbol.for("react.context"),Vv=Symbol.for("react.forward_ref"),zm=Symbol.for("react.suspense"),Wm=Symbol.for("react.suspense_list"),Fv=Symbol.for("react.memo"),Ei=Symbol.for("react.lazy"),K1=Symbol.for("react.offscreen"),c0=Symbol.iterator;function ll(t){return t===null||typeof t!="object"?null:(t=c0&&t[c0]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,Op;function Sl(t){if(Op===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Op=e&&e[1]||""}return`
`+Op+t}var Mp=!1;function Lp(t,e){if(!t||Mp)return"";Mp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,u=o.length-1;1<=a&&0<=u&&i[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==o[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==o[u]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=u);break}}}finally{Mp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sl(t):""}function cR(t){switch(t.tag){case 5:return Sl(t.type);case 16:return Sl("Lazy");case 13:return Sl("Suspense");case 19:return Sl("SuspenseList");case 0:case 2:case 15:return t=Lp(t.type,!1),t;case 11:return t=Lp(t.type.render,!1),t;case 1:return t=Lp(t.type,!0),t;default:return""}}function Hm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case As:return"Fragment";case Ds:return"Portal";case jm:return"Profiler";case Nv:return"StrictMode";case zm:return"Suspense";case Wm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case q1:return(t.displayName||"Context")+".Consumer";case Y1:return(t._context.displayName||"Context")+".Provider";case Vv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fv:return e=t.displayName||null,e!==null?e:Hm(t.type)||"Memo";case Ei:e=t._payload,t=t._init;try{return Hm(t(e))}catch{}}return null}function hR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hm(e);case 8:return e===Nv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Z1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dR(t){var e=Z1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jc(t){t._valueTracker||(t._valueTracker=dR(t))}function G1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Z1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $h(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ym(t,e){var n=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function h0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Q1(t,e){e=e.checked,e!=null&&Lv(t,"checked",e,!1)}function qm(t,e){Q1(t,e);var n=Xi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Km(t,e.type,n):e.hasOwnProperty("defaultValue")&&Km(t,e.type,Xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function d0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Km(t,e,n){(e!=="number"||$h(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Cl=Array.isArray;function Hs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function f0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Cl(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xi(n)}}function X1(t,e){var n=Xi(e.value),r=Xi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function p0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function J1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?J1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zc,eP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zc=zc||document.createElement("div"),zc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ou(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fR=["Webkit","ms","Moz","O"];Object.keys(Nl).forEach(function(t){fR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nl[e]=Nl[t]})});function tP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nl.hasOwnProperty(t)&&Nl[t]?(""+e).trim():e+"px"}function nP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var pR=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qm(t,e){if(e){if(pR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Xm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jm=null;function Uv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var eg=null,Ys=null,qs=null;function m0(t){if(t=Ku(t)){if(typeof eg!="function")throw Error(z(280));var e=t.stateNode;e&&(e=nf(e),eg(t.stateNode,t.type,e))}}function rP(t){Ys?qs?qs.push(t):qs=[t]:Ys=t}function iP(){if(Ys){var t=Ys,e=qs;if(qs=Ys=null,m0(t),e)for(t=0;t<e.length;t++)m0(e[t])}}function oP(t,e){return t(e)}function sP(){}var Np=!1;function aP(t,e,n){if(Np)return t(e,n);Np=!0;try{return oP(t,e,n)}finally{Np=!1,(Ys!==null||qs!==null)&&(sP(),iP())}}function su(t,e){var n=t.stateNode;if(n===null)return null;var r=nf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var tg=!1;if(ii)try{var ul={};Object.defineProperty(ul,"passive",{get:function(){tg=!0}}),window.addEventListener("test",ul,ul),window.removeEventListener("test",ul,ul)}catch{tg=!1}function mR(t,e,n,r,i,o,a,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var Vl=!1,jh=null,zh=!1,ng=null,gR={onError:function(t){Vl=!0,jh=t}};function vR(t,e,n,r,i,o,a,u,c){Vl=!1,jh=null,mR.apply(gR,arguments)}function _R(t,e,n,r,i,o,a,u,c){if(vR.apply(this,arguments),Vl){if(Vl){var d=jh;Vl=!1,jh=null}else throw Error(z(198));zh||(zh=!0,ng=d)}}function Jo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function g0(t){if(Jo(t)!==t)throw Error(z(188))}function yR(t){var e=t.alternate;if(!e){if(e=Jo(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return g0(i),t;if(o===r)return g0(i),e;o=o.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function uP(t){return t=yR(t),t!==null?cP(t):null}function cP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cP(t);if(e!==null)return e;t=t.sibling}return null}var hP=Nn.unstable_scheduleCallback,v0=Nn.unstable_cancelCallback,wR=Nn.unstable_shouldYield,ER=Nn.unstable_requestPaint,pt=Nn.unstable_now,TR=Nn.unstable_getCurrentPriorityLevel,Bv=Nn.unstable_ImmediatePriority,dP=Nn.unstable_UserBlockingPriority,Wh=Nn.unstable_NormalPriority,PR=Nn.unstable_LowPriority,fP=Nn.unstable_IdlePriority,Xd=null,Ar=null;function SR(t){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(Xd,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:kR,CR=Math.log,IR=Math.LN2;function kR(t){return t>>>=0,t===0?32:31-(CR(t)/IR|0)|0}var Wc=64,Hc=4194304;function Il(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~i;u!==0?r=Il(u):(o&=a,o!==0&&(r=Il(o)))}else a=n&~i,a!==0?r=Il(a):o!==0&&(r=Il(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ur(e),i=1<<n,r|=t[n],e&=~i;return r}function xR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ur(o),u=1<<a,c=i[a];c===-1?(!(u&n)||u&r)&&(i[a]=xR(u,e)):c<=e&&(t.expiredLanes|=u),o&=~u}}function rg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pP(){var t=Wc;return Wc<<=1,!(Wc&4194240)&&(Wc=64),t}function Vp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=n}function AR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ur(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function $v(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ur(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var We=0;function mP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gP,jv,vP,_P,yP,ig=!1,Yc=[],Ni=null,Vi=null,Fi=null,au=new Map,lu=new Map,Si=[],RR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _0(t,e){switch(t){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":au.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(e.pointerId)}}function cl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ku(e),e!==null&&jv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bR(t,e,n,r,i){switch(e){case"focusin":return Ni=cl(Ni,t,e,n,r,i),!0;case"dragenter":return Vi=cl(Vi,t,e,n,r,i),!0;case"mouseover":return Fi=cl(Fi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return au.set(o,cl(au.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lu.set(o,cl(lu.get(o)||null,t,e,n,r,i)),!0}return!1}function wP(t){var e=Co(t.target);if(e!==null){var n=Jo(e);if(n!==null){if(e=n.tag,e===13){if(e=lP(n),e!==null){t.blockedOn=e,yP(t.priority,function(){vP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=og(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Jm=r,n.target.dispatchEvent(r),Jm=null}else return e=Ku(n),e!==null&&jv(e),t.blockedOn=n,!1;e.shift()}return!0}function y0(t,e,n){yh(t)&&n.delete(e)}function OR(){ig=!1,Ni!==null&&yh(Ni)&&(Ni=null),Vi!==null&&yh(Vi)&&(Vi=null),Fi!==null&&yh(Fi)&&(Fi=null),au.forEach(y0),lu.forEach(y0)}function hl(t,e){t.blockedOn===e&&(t.blockedOn=null,ig||(ig=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,OR)))}function uu(t){function e(i){return hl(i,t)}if(0<Yc.length){hl(Yc[0],t);for(var n=1;n<Yc.length;n++){var r=Yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ni!==null&&hl(Ni,t),Vi!==null&&hl(Vi,t),Fi!==null&&hl(Fi,t),au.forEach(e),lu.forEach(e),n=0;n<Si.length;n++)r=Si[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Si.length&&(n=Si[0],n.blockedOn===null);)wP(n),n.blockedOn===null&&Si.shift()}var Ks=fi.ReactCurrentBatchConfig,Yh=!0;function MR(t,e,n,r){var i=We,o=Ks.transition;Ks.transition=null;try{We=1,zv(t,e,n,r)}finally{We=i,Ks.transition=o}}function LR(t,e,n,r){var i=We,o=Ks.transition;Ks.transition=null;try{We=4,zv(t,e,n,r)}finally{We=i,Ks.transition=o}}function zv(t,e,n,r){if(Yh){var i=og(t,e,n,r);if(i===null)qp(t,e,r,qh,n),_0(t,r);else if(bR(i,t,e,n,r))r.stopPropagation();else if(_0(t,r),e&4&&-1<RR.indexOf(t)){for(;i!==null;){var o=Ku(i);if(o!==null&&gP(o),o=og(t,e,n,r),o===null&&qp(t,e,r,qh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else qp(t,e,r,null,n)}}var qh=null;function og(t,e,n,r){if(qh=null,t=Uv(r),t=Co(t),t!==null)if(e=Jo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qh=t,null}function EP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TR()){case Bv:return 1;case dP:return 4;case Wh:case PR:return 16;case fP:return 536870912;default:return 16}default:return 16}}var Ai=null,Wv=null,wh=null;function TP(){if(wh)return wh;var t,e=Wv,n=e.length,r,i="value"in Ai?Ai.value:Ai.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return wh=i.slice(t,1<r?1-r:void 0)}function Eh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qc(){return!0}function w0(){return!1}function Bn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?qc:w0,this.isPropagationStopped=w0,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qc)},persist:function(){},isPersistent:qc}),e}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hv=Bn(xa),qu=lt({},xa,{view:0,detail:0}),NR=Bn(qu),Fp,Up,dl,Jd=lt({},qu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dl&&(dl&&t.type==="mousemove"?(Fp=t.screenX-dl.screenX,Up=t.screenY-dl.screenY):Up=Fp=0,dl=t),Fp)},movementY:function(t){return"movementY"in t?t.movementY:Up}}),E0=Bn(Jd),VR=lt({},Jd,{dataTransfer:0}),FR=Bn(VR),UR=lt({},qu,{relatedTarget:0}),Bp=Bn(UR),BR=lt({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),$R=Bn(BR),jR=lt({},xa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zR=Bn(jR),WR=lt({},xa,{data:0}),T0=Bn(WR),HR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qR[t])?!!e[t]:!1}function Yv(){return KR}var ZR=lt({},qu,{key:function(t){if(t.key){var e=HR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Eh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yv,charCode:function(t){return t.type==="keypress"?Eh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Eh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GR=Bn(ZR),QR=lt({},Jd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P0=Bn(QR),XR=lt({},qu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yv}),JR=Bn(XR),eb=lt({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),tb=Bn(eb),nb=lt({},Jd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rb=Bn(nb),ib=[9,13,27,32],qv=ii&&"CompositionEvent"in window,Fl=null;ii&&"documentMode"in document&&(Fl=document.documentMode);var ob=ii&&"TextEvent"in window&&!Fl,PP=ii&&(!qv||Fl&&8<Fl&&11>=Fl),S0=String.fromCharCode(32),C0=!1;function SP(t,e){switch(t){case"keyup":return ib.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rs=!1;function sb(t,e){switch(t){case"compositionend":return CP(e);case"keypress":return e.which!==32?null:(C0=!0,S0);case"textInput":return t=e.data,t===S0&&C0?null:t;default:return null}}function ab(t,e){if(Rs)return t==="compositionend"||!qv&&SP(t,e)?(t=TP(),wh=Wv=Ai=null,Rs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PP&&e.locale!=="ko"?null:e.data;default:return null}}var lb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lb[t.type]:e==="textarea"}function IP(t,e,n,r){rP(r),e=Kh(e,"onChange"),0<e.length&&(n=new Hv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ul=null,cu=null;function ub(t){VP(t,0)}function ef(t){var e=Ms(t);if(G1(e))return t}function cb(t,e){if(t==="change")return e}var kP=!1;if(ii){var $p;if(ii){var jp="oninput"in document;if(!jp){var k0=document.createElement("div");k0.setAttribute("oninput","return;"),jp=typeof k0.oninput=="function"}$p=jp}else $p=!1;kP=$p&&(!document.documentMode||9<document.documentMode)}function x0(){Ul&&(Ul.detachEvent("onpropertychange",xP),cu=Ul=null)}function xP(t){if(t.propertyName==="value"&&ef(cu)){var e=[];IP(e,cu,t,Uv(t)),aP(ub,e)}}function hb(t,e,n){t==="focusin"?(x0(),Ul=e,cu=n,Ul.attachEvent("onpropertychange",xP)):t==="focusout"&&x0()}function db(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ef(cu)}function fb(t,e){if(t==="click")return ef(e)}function pb(t,e){if(t==="input"||t==="change")return ef(e)}function mb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hr=typeof Object.is=="function"?Object.is:mb;function hu(t,e){if(hr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$m.call(e,i)||!hr(t[i],e[i]))return!1}return!0}function D0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function A0(t,e){var n=D0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=D0(n)}}function DP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function AP(){for(var t=window,e=$h();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$h(t.document)}return e}function Kv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gb(t){var e=AP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&DP(n.ownerDocument.documentElement,n)){if(r!==null&&Kv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=A0(n,o);var a=A0(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vb=ii&&"documentMode"in document&&11>=document.documentMode,bs=null,sg=null,Bl=null,ag=!1;function R0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ag||bs==null||bs!==$h(r)||(r=bs,"selectionStart"in r&&Kv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bl&&hu(Bl,r)||(Bl=r,r=Kh(sg,"onSelect"),0<r.length&&(e=new Hv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bs)))}function Kc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Os={animationend:Kc("Animation","AnimationEnd"),animationiteration:Kc("Animation","AnimationIteration"),animationstart:Kc("Animation","AnimationStart"),transitionend:Kc("Transition","TransitionEnd")},zp={},RP={};ii&&(RP=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function tf(t){if(zp[t])return zp[t];if(!Os[t])return t;var e=Os[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in RP)return zp[t]=e[n];return t}var bP=tf("animationend"),OP=tf("animationiteration"),MP=tf("animationstart"),LP=tf("transitionend"),NP=new Map,b0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function io(t,e){NP.set(t,e),Xo(e,[t])}for(var Wp=0;Wp<b0.length;Wp++){var Hp=b0[Wp],_b=Hp.toLowerCase(),yb=Hp[0].toUpperCase()+Hp.slice(1);io(_b,"on"+yb)}io(bP,"onAnimationEnd");io(OP,"onAnimationIteration");io(MP,"onAnimationStart");io("dblclick","onDoubleClick");io("focusin","onFocus");io("focusout","onBlur");io(LP,"onTransitionEnd");na("onMouseEnter",["mouseout","mouseover"]);na("onMouseLeave",["mouseout","mouseover"]);na("onPointerEnter",["pointerout","pointerover"]);na("onPointerLeave",["pointerout","pointerover"]);Xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wb=new Set("cancel close invalid load scroll toggle".split(" ").concat(kl));function O0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_R(r,e,void 0,t),t.currentTarget=null}function VP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var u=r[a],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==o&&i.isPropagationStopped())break e;O0(i,u,d),o=c}else for(a=0;a<r.length;a++){if(u=r[a],c=u.instance,d=u.currentTarget,u=u.listener,c!==o&&i.isPropagationStopped())break e;O0(i,u,d),o=c}}}if(zh)throw t=ng,zh=!1,ng=null,t}function Ge(t,e){var n=e[dg];n===void 0&&(n=e[dg]=new Set);var r=t+"__bubble";n.has(r)||(FP(e,t,2,!1),n.add(r))}function Yp(t,e,n){var r=0;e&&(r|=4),FP(n,t,r,e)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function du(t){if(!t[Zc]){t[Zc]=!0,H1.forEach(function(n){n!=="selectionchange"&&(wb.has(n)||Yp(n,!1,t),Yp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zc]||(e[Zc]=!0,Yp("selectionchange",!1,e))}}function FP(t,e,n,r){switch(EP(e)){case 1:var i=MR;break;case 4:i=LR;break;default:i=zv}n=i.bind(null,e,n,t),i=void 0,!tg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qp(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;u!==null;){if(a=Co(u),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}u=u.parentNode}}r=r.return}aP(function(){var d=o,f=Uv(n),m=[];e:{var v=NP.get(t);if(v!==void 0){var y=Hv,E=t;switch(t){case"keypress":if(Eh(n)===0)break e;case"keydown":case"keyup":y=GR;break;case"focusin":E="focus",y=Bp;break;case"focusout":E="blur",y=Bp;break;case"beforeblur":case"afterblur":y=Bp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=E0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=FR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=JR;break;case bP:case OP:case MP:y=$R;break;case LP:y=tb;break;case"scroll":y=NR;break;case"wheel":y=rb;break;case"copy":case"cut":case"paste":y=zR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=P0}var P=(e&4)!==0,x=!P&&t==="scroll",T=P?v!==null?v+"Capture":null:v;P=[];for(var w=d,S;w!==null;){S=w;var D=S.stateNode;if(S.tag===5&&D!==null&&(S=D,T!==null&&(D=su(w,T),D!=null&&P.push(fu(w,D,S)))),x)break;w=w.return}0<P.length&&(v=new y(v,E,null,n,f),m.push({event:v,listeners:P}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",v&&n!==Jm&&(E=n.relatedTarget||n.fromElement)&&(Co(E)||E[oi]))break e;if((y||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,y?(E=n.relatedTarget||n.toElement,y=d,E=E?Co(E):null,E!==null&&(x=Jo(E),E!==x||E.tag!==5&&E.tag!==6)&&(E=null)):(y=null,E=d),y!==E)){if(P=E0,D="onMouseLeave",T="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(P=P0,D="onPointerLeave",T="onPointerEnter",w="pointer"),x=y==null?v:Ms(y),S=E==null?v:Ms(E),v=new P(D,w+"leave",y,n,f),v.target=x,v.relatedTarget=S,D=null,Co(f)===d&&(P=new P(T,w+"enter",E,n,f),P.target=S,P.relatedTarget=x,D=P),x=D,y&&E)t:{for(P=y,T=E,w=0,S=P;S;S=Es(S))w++;for(S=0,D=T;D;D=Es(D))S++;for(;0<w-S;)P=Es(P),w--;for(;0<S-w;)T=Es(T),S--;for(;w--;){if(P===T||T!==null&&P===T.alternate)break t;P=Es(P),T=Es(T)}P=null}else P=null;y!==null&&M0(m,v,y,P,!1),E!==null&&x!==null&&M0(m,x,E,P,!0)}}e:{if(v=d?Ms(d):window,y=v.nodeName&&v.nodeName.toLowerCase(),y==="select"||y==="input"&&v.type==="file")var O=cb;else if(I0(v))if(kP)O=pb;else{O=db;var V=hb}else(y=v.nodeName)&&y.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(O=fb);if(O&&(O=O(t,d))){IP(m,O,n,f);break e}V&&V(t,v,d),t==="focusout"&&(V=v._wrapperState)&&V.controlled&&v.type==="number"&&Km(v,"number",v.value)}switch(V=d?Ms(d):window,t){case"focusin":(I0(V)||V.contentEditable==="true")&&(bs=V,sg=d,Bl=null);break;case"focusout":Bl=sg=bs=null;break;case"mousedown":ag=!0;break;case"contextmenu":case"mouseup":case"dragend":ag=!1,R0(m,n,f);break;case"selectionchange":if(vb)break;case"keydown":case"keyup":R0(m,n,f)}var F;if(qv)e:{switch(t){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else Rs?SP(t,n)&&(H="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(PP&&n.locale!=="ko"&&(Rs||H!=="onCompositionStart"?H==="onCompositionEnd"&&Rs&&(F=TP()):(Ai=f,Wv="value"in Ai?Ai.value:Ai.textContent,Rs=!0)),V=Kh(d,H),0<V.length&&(H=new T0(H,t,null,n,f),m.push({event:H,listeners:V}),F?H.data=F:(F=CP(n),F!==null&&(H.data=F)))),(F=ob?sb(t,n):ab(t,n))&&(d=Kh(d,"onBeforeInput"),0<d.length&&(f=new T0("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:d}),f.data=F))}VP(m,e)})}function fu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Kh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=su(t,n),o!=null&&r.unshift(fu(t,o,i)),o=su(t,e),o!=null&&r.push(fu(t,o,i))),t=t.return}return r}function Es(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function M0(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&d!==null&&(u=d,i?(c=su(n,o),c!=null&&a.unshift(fu(n,c,u))):i||(c=su(n,o),c!=null&&a.push(fu(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Eb=/\r\n?/g,Tb=/\u0000|\uFFFD/g;function L0(t){return(typeof t=="string"?t:""+t).replace(Eb,`
`).replace(Tb,"")}function Gc(t,e,n){if(e=L0(e),L0(t)!==e&&n)throw Error(z(425))}function Zh(){}var lg=null,ug=null;function cg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hg=typeof setTimeout=="function"?setTimeout:void 0,Pb=typeof clearTimeout=="function"?clearTimeout:void 0,N0=typeof Promise=="function"?Promise:void 0,Sb=typeof queueMicrotask=="function"?queueMicrotask:typeof N0<"u"?function(t){return N0.resolve(null).then(t).catch(Cb)}:hg;function Cb(t){setTimeout(function(){throw t})}function Kp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),uu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);uu(e)}function Ui(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function V0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Da=Math.random().toString(36).slice(2),Sr="__reactFiber$"+Da,pu="__reactProps$"+Da,oi="__reactContainer$"+Da,dg="__reactEvents$"+Da,Ib="__reactListeners$"+Da,kb="__reactHandles$"+Da;function Co(t){var e=t[Sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[oi]||n[Sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=V0(t);t!==null;){if(n=t[Sr])return n;t=V0(t)}return e}t=n,n=t.parentNode}return null}function Ku(t){return t=t[Sr]||t[oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ms(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function nf(t){return t[pu]||null}var fg=[],Ls=-1;function oo(t){return{current:t}}function Xe(t){0>Ls||(t.current=fg[Ls],fg[Ls]=null,Ls--)}function Ze(t,e){Ls++,fg[Ls]=t.current,t.current=e}var Ji={},an=oo(Ji),Pn=oo(!1),Vo=Ji;function ra(t,e){var n=t.type.contextTypes;if(!n)return Ji;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Sn(t){return t=t.childContextTypes,t!=null}function Gh(){Xe(Pn),Xe(an)}function F0(t,e,n){if(an.current!==Ji)throw Error(z(168));Ze(an,e),Ze(Pn,n)}function UP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,hR(t)||"Unknown",i));return lt({},n,r)}function Qh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ji,Vo=an.current,Ze(an,t),Ze(Pn,Pn.current),!0}function U0(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=UP(t,e,Vo),r.__reactInternalMemoizedMergedChildContext=t,Xe(Pn),Xe(an),Ze(an,t)):Xe(Pn),Ze(Pn,n)}var Zr=null,rf=!1,Zp=!1;function BP(t){Zr===null?Zr=[t]:Zr.push(t)}function xb(t){rf=!0,BP(t)}function so(){if(!Zp&&Zr!==null){Zp=!0;var t=0,e=We;try{var n=Zr;for(We=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zr=null,rf=!1}catch(i){throw Zr!==null&&(Zr=Zr.slice(t+1)),hP(Bv,so),i}finally{We=e,Zp=!1}}return null}var Ns=[],Vs=0,Xh=null,Jh=0,Hn=[],Yn=0,Fo=null,Qr=1,Xr="";function Eo(t,e){Ns[Vs++]=Jh,Ns[Vs++]=Xh,Xh=t,Jh=e}function $P(t,e,n){Hn[Yn++]=Qr,Hn[Yn++]=Xr,Hn[Yn++]=Fo,Fo=t;var r=Qr;t=Xr;var i=32-ur(r)-1;r&=~(1<<i),n+=1;var o=32-ur(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qr=1<<32-ur(e)+i|n<<i|r,Xr=o+t}else Qr=1<<o|n<<i|r,Xr=t}function Zv(t){t.return!==null&&(Eo(t,1),$P(t,1,0))}function Gv(t){for(;t===Xh;)Xh=Ns[--Vs],Ns[Vs]=null,Jh=Ns[--Vs],Ns[Vs]=null;for(;t===Fo;)Fo=Hn[--Yn],Hn[Yn]=null,Xr=Hn[--Yn],Hn[Yn]=null,Qr=Hn[--Yn],Hn[Yn]=null}var Mn=null,An=null,nt=!1,ar=null;function jP(t,e){var n=Kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function B0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mn=t,An=Ui(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mn=t,An=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fo!==null?{id:Qr,overflow:Xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mn=t,An=null,!0):!1;default:return!1}}function pg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mg(t){if(nt){var e=An;if(e){var n=e;if(!B0(t,e)){if(pg(t))throw Error(z(418));e=Ui(n.nextSibling);var r=Mn;e&&B0(t,e)?jP(r,n):(t.flags=t.flags&-4097|2,nt=!1,Mn=t)}}else{if(pg(t))throw Error(z(418));t.flags=t.flags&-4097|2,nt=!1,Mn=t}}}function $0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function Qc(t){if(t!==Mn)return!1;if(!nt)return $0(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cg(t.type,t.memoizedProps)),e&&(e=An)){if(pg(t))throw zP(),Error(z(418));for(;e;)jP(t,e),e=Ui(e.nextSibling)}if($0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){An=Ui(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}An=null}}else An=Mn?Ui(t.stateNode.nextSibling):null;return!0}function zP(){for(var t=An;t;)t=Ui(t.nextSibling)}function ia(){An=Mn=null,nt=!1}function Qv(t){ar===null?ar=[t]:ar.push(t)}var Db=fi.ReactCurrentBatchConfig;function or(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ed=oo(null),td=null,Fs=null,Xv=null;function Jv(){Xv=Fs=td=null}function e_(t){var e=ed.current;Xe(ed),t._currentValue=e}function gg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zs(t,e){td=t,Xv=Fs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tn=!0),t.firstContext=null)}function Qn(t){var e=t._currentValue;if(Xv!==t)if(t={context:t,memoizedValue:e,next:null},Fs===null){if(td===null)throw Error(z(308));Fs=t,td.dependencies={lanes:0,firstContext:t}}else Fs=Fs.next=t;return e}var Io=null;function t_(t){Io===null?Io=[t]:Io.push(t)}function WP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,t_(e)):(n.next=i.next,i.next=n),e.interleaved=n,si(t,r)}function si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ti=!1;function n_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,si(t,n)}return i=r.interleaved,i===null?(e.next=e,t_(r)):(e.next=i.next,i.next=e),r.interleaved=e,si(t,n)}function Th(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$v(t,n)}}function j0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nd(t,e,n,r){var i=t.updateQueue;Ti=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,d=c.next;c.next=null,a===null?o=d:a.next=d,a=c;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==a&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(o!==null){var m=i.baseState;a=0,f=d=c=null,u=o;do{var v=u.lane,y=u.eventTime;if((r&v)===v){f!==null&&(f=f.next={eventTime:y,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=t,P=u;switch(v=e,y=n,P.tag){case 1:if(E=P.payload,typeof E=="function"){m=E.call(y,m,v);break e}m=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=P.payload,v=typeof E=="function"?E.call(y,m,v):E,v==null)break e;m=lt({},m,v);break e;case 2:Ti=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[u]:v.push(u))}else y={eventTime:y,lane:v,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=y,c=m):f=f.next=y,a|=v;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;v=u,u=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(1);if(f===null&&(c=m),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Bo|=a,t.lanes=a,t.memoizedState=m}}function z0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var YP=new W1.Component().refs;function vg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:lt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var of={isMounted:function(t){return(t=t._reactInternals)?Jo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mn(),i=ji(t),o=ri(r,i);o.payload=e,n!=null&&(o.callback=n),e=Bi(t,o,i),e!==null&&(cr(e,t,i,r),Th(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mn(),i=ji(t),o=ri(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Bi(t,o,i),e!==null&&(cr(e,t,i,r),Th(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mn(),r=ji(t),i=ri(n,r);i.tag=2,e!=null&&(i.callback=e),e=Bi(t,i,r),e!==null&&(cr(e,t,r,n),Th(e,t,r))}};function W0(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!hu(n,r)||!hu(i,o):!0}function qP(t,e,n){var r=!1,i=Ji,o=e.contextType;return typeof o=="object"&&o!==null?o=Qn(o):(i=Sn(e)?Vo:an.current,r=e.contextTypes,o=(r=r!=null)?ra(t,i):Ji),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=of,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function H0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&of.enqueueReplaceState(e,e.state,null)}function _g(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=YP,n_(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Qn(o):(o=Sn(e)?Vo:an.current,i.context=ra(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(vg(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&of.enqueueReplaceState(i,i.state,null),nd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var u=i.refs;u===YP&&(u=i.refs={}),a===null?delete u[o]:u[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Xc(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Y0(t){var e=t._init;return e(t._payload)}function KP(t){function e(T,w){if(t){var S=T.deletions;S===null?(T.deletions=[w],T.flags|=16):S.push(w)}}function n(T,w){if(!t)return null;for(;w!==null;)e(T,w),w=w.sibling;return null}function r(T,w){for(T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function i(T,w){return T=zi(T,w),T.index=0,T.sibling=null,T}function o(T,w,S){return T.index=S,t?(S=T.alternate,S!==null?(S=S.index,S<w?(T.flags|=2,w):S):(T.flags|=2,w)):(T.flags|=1048576,w)}function a(T){return t&&T.alternate===null&&(T.flags|=2),T}function u(T,w,S,D){return w===null||w.tag!==6?(w=nm(S,T.mode,D),w.return=T,w):(w=i(w,S),w.return=T,w)}function c(T,w,S,D){var O=S.type;return O===As?f(T,w,S.props.children,D,S.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ei&&Y0(O)===w.type)?(D=i(w,S.props),D.ref=fl(T,w,S),D.return=T,D):(D=xh(S.type,S.key,S.props,null,T.mode,D),D.ref=fl(T,w,S),D.return=T,D)}function d(T,w,S,D){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=rm(S,T.mode,D),w.return=T,w):(w=i(w,S.children||[]),w.return=T,w)}function f(T,w,S,D,O){return w===null||w.tag!==7?(w=bo(S,T.mode,D,O),w.return=T,w):(w=i(w,S),w.return=T,w)}function m(T,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=nm(""+w,T.mode,S),w.return=T,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $c:return S=xh(w.type,w.key,w.props,null,T.mode,S),S.ref=fl(T,null,w),S.return=T,S;case Ds:return w=rm(w,T.mode,S),w.return=T,w;case Ei:var D=w._init;return m(T,D(w._payload),S)}if(Cl(w)||ll(w))return w=bo(w,T.mode,S,null),w.return=T,w;Xc(T,w)}return null}function v(T,w,S,D){var O=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return O!==null?null:u(T,w,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $c:return S.key===O?c(T,w,S,D):null;case Ds:return S.key===O?d(T,w,S,D):null;case Ei:return O=S._init,v(T,w,O(S._payload),D)}if(Cl(S)||ll(S))return O!==null?null:f(T,w,S,D,null);Xc(T,S)}return null}function y(T,w,S,D,O){if(typeof D=="string"&&D!==""||typeof D=="number")return T=T.get(S)||null,u(w,T,""+D,O);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case $c:return T=T.get(D.key===null?S:D.key)||null,c(w,T,D,O);case Ds:return T=T.get(D.key===null?S:D.key)||null,d(w,T,D,O);case Ei:var V=D._init;return y(T,w,S,V(D._payload),O)}if(Cl(D)||ll(D))return T=T.get(S)||null,f(w,T,D,O,null);Xc(w,D)}return null}function E(T,w,S,D){for(var O=null,V=null,F=w,H=w=0,te=null;F!==null&&H<S.length;H++){F.index>H?(te=F,F=null):te=F.sibling;var K=v(T,F,S[H],D);if(K===null){F===null&&(F=te);break}t&&F&&K.alternate===null&&e(T,F),w=o(K,w,H),V===null?O=K:V.sibling=K,V=K,F=te}if(H===S.length)return n(T,F),nt&&Eo(T,H),O;if(F===null){for(;H<S.length;H++)F=m(T,S[H],D),F!==null&&(w=o(F,w,H),V===null?O=F:V.sibling=F,V=F);return nt&&Eo(T,H),O}for(F=r(T,F);H<S.length;H++)te=y(F,T,H,S[H],D),te!==null&&(t&&te.alternate!==null&&F.delete(te.key===null?H:te.key),w=o(te,w,H),V===null?O=te:V.sibling=te,V=te);return t&&F.forEach(function(le){return e(T,le)}),nt&&Eo(T,H),O}function P(T,w,S,D){var O=ll(S);if(typeof O!="function")throw Error(z(150));if(S=O.call(S),S==null)throw Error(z(151));for(var V=O=null,F=w,H=w=0,te=null,K=S.next();F!==null&&!K.done;H++,K=S.next()){F.index>H?(te=F,F=null):te=F.sibling;var le=v(T,F,K.value,D);if(le===null){F===null&&(F=te);break}t&&F&&le.alternate===null&&e(T,F),w=o(le,w,H),V===null?O=le:V.sibling=le,V=le,F=te}if(K.done)return n(T,F),nt&&Eo(T,H),O;if(F===null){for(;!K.done;H++,K=S.next())K=m(T,K.value,D),K!==null&&(w=o(K,w,H),V===null?O=K:V.sibling=K,V=K);return nt&&Eo(T,H),O}for(F=r(T,F);!K.done;H++,K=S.next())K=y(F,T,H,K.value,D),K!==null&&(t&&K.alternate!==null&&F.delete(K.key===null?H:K.key),w=o(K,w,H),V===null?O=K:V.sibling=K,V=K);return t&&F.forEach(function(Se){return e(T,Se)}),nt&&Eo(T,H),O}function x(T,w,S,D){if(typeof S=="object"&&S!==null&&S.type===As&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case $c:e:{for(var O=S.key,V=w;V!==null;){if(V.key===O){if(O=S.type,O===As){if(V.tag===7){n(T,V.sibling),w=i(V,S.props.children),w.return=T,T=w;break e}}else if(V.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ei&&Y0(O)===V.type){n(T,V.sibling),w=i(V,S.props),w.ref=fl(T,V,S),w.return=T,T=w;break e}n(T,V);break}else e(T,V);V=V.sibling}S.type===As?(w=bo(S.props.children,T.mode,D,S.key),w.return=T,T=w):(D=xh(S.type,S.key,S.props,null,T.mode,D),D.ref=fl(T,w,S),D.return=T,T=D)}return a(T);case Ds:e:{for(V=S.key;w!==null;){if(w.key===V)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(T,w.sibling),w=i(w,S.children||[]),w.return=T,T=w;break e}else{n(T,w);break}else e(T,w);w=w.sibling}w=rm(S,T.mode,D),w.return=T,T=w}return a(T);case Ei:return V=S._init,x(T,w,V(S._payload),D)}if(Cl(S))return E(T,w,S,D);if(ll(S))return P(T,w,S,D);Xc(T,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(T,w.sibling),w=i(w,S),w.return=T,T=w):(n(T,w),w=nm(S,T.mode,D),w.return=T,T=w),a(T)):n(T,w)}return x}var oa=KP(!0),ZP=KP(!1),Zu={},Rr=oo(Zu),mu=oo(Zu),gu=oo(Zu);function ko(t){if(t===Zu)throw Error(z(174));return t}function r_(t,e){switch(Ze(gu,e),Ze(mu,t),Ze(Rr,Zu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gm(e,t)}Xe(Rr),Ze(Rr,e)}function sa(){Xe(Rr),Xe(mu),Xe(gu)}function GP(t){ko(gu.current);var e=ko(Rr.current),n=Gm(e,t.type);e!==n&&(Ze(mu,t),Ze(Rr,n))}function i_(t){mu.current===t&&(Xe(Rr),Xe(mu))}var ot=oo(0);function rd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gp=[];function o_(){for(var t=0;t<Gp.length;t++)Gp[t]._workInProgressVersionPrimary=null;Gp.length=0}var Ph=fi.ReactCurrentDispatcher,Qp=fi.ReactCurrentBatchConfig,Uo=0,at=null,Ct=null,bt=null,id=!1,$l=!1,vu=0,Ab=0;function Zt(){throw Error(z(321))}function s_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hr(t[n],e[n]))return!1;return!0}function a_(t,e,n,r,i,o){if(Uo=o,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ph.current=t===null||t.memoizedState===null?Mb:Lb,t=n(r,i),$l){o=0;do{if($l=!1,vu=0,25<=o)throw Error(z(301));o+=1,bt=Ct=null,e.updateQueue=null,Ph.current=Nb,t=n(r,i)}while($l)}if(Ph.current=od,e=Ct!==null&&Ct.next!==null,Uo=0,bt=Ct=at=null,id=!1,e)throw Error(z(300));return t}function l_(){var t=vu!==0;return vu=0,t}function Pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?at.memoizedState=bt=t:bt=bt.next=t,bt}function Xn(){if(Ct===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=Ct.next;var e=bt===null?at.memoizedState:bt.next;if(e!==null)bt=e,Ct=t;else{if(t===null)throw Error(z(310));Ct=t,t={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},bt===null?at.memoizedState=bt=t:bt=bt.next=t}return bt}function _u(t,e){return typeof e=="function"?e(t):e}function Xp(t){var e=Xn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Ct,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var u=a=null,c=null,d=o;do{var f=d.lane;if((Uo&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=m,a=r):c=c.next=m,at.lanes|=f,Bo|=f}d=d.next}while(d!==null&&d!==o);c===null?a=r:c.next=u,hr(r,e.memoizedState)||(Tn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,at.lanes|=o,Bo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jp(t){var e=Xn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);hr(o,e.memoizedState)||(Tn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function QP(){}function XP(t,e){var n=at,r=Xn(),i=e(),o=!hr(r.memoizedState,i);if(o&&(r.memoizedState=i,Tn=!0),r=r.queue,u_(tS.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,yu(9,eS.bind(null,n,r,i,e),void 0,null),Mt===null)throw Error(z(349));Uo&30||JP(n,e,i)}return i}function JP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eS(t,e,n,r){e.value=n,e.getSnapshot=r,nS(e)&&rS(t)}function tS(t,e,n){return n(function(){nS(e)&&rS(t)})}function nS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hr(t,n)}catch{return!0}}function rS(t){var e=si(t,1);e!==null&&cr(e,t,1,-1)}function q0(t){var e=Pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_u,lastRenderedState:t},e.queue=t,t=t.dispatch=Ob.bind(null,at,t),[e.memoizedState,t]}function yu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function iS(){return Xn().memoizedState}function Sh(t,e,n,r){var i=Pr();at.flags|=t,i.memoizedState=yu(1|e,n,void 0,r===void 0?null:r)}function sf(t,e,n,r){var i=Xn();r=r===void 0?null:r;var o=void 0;if(Ct!==null){var a=Ct.memoizedState;if(o=a.destroy,r!==null&&s_(r,a.deps)){i.memoizedState=yu(e,n,o,r);return}}at.flags|=t,i.memoizedState=yu(1|e,n,o,r)}function K0(t,e){return Sh(8390656,8,t,e)}function u_(t,e){return sf(2048,8,t,e)}function oS(t,e){return sf(4,2,t,e)}function sS(t,e){return sf(4,4,t,e)}function aS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lS(t,e,n){return n=n!=null?n.concat([t]):null,sf(4,4,aS.bind(null,e,t),n)}function c_(){}function uS(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&s_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cS(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&s_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hS(t,e,n){return Uo&21?(hr(n,e)||(n=pP(),at.lanes|=n,Bo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tn=!0),t.memoizedState=n)}function Rb(t,e){var n=We;We=n!==0&&4>n?n:4,t(!0);var r=Qp.transition;Qp.transition={};try{t(!1),e()}finally{We=n,Qp.transition=r}}function dS(){return Xn().memoizedState}function bb(t,e,n){var r=ji(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fS(t))pS(e,n);else if(n=WP(t,e,n,r),n!==null){var i=mn();cr(n,t,r,i),mS(n,e,r)}}function Ob(t,e,n){var r=ji(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fS(t))pS(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,u=o(a,n);if(i.hasEagerState=!0,i.eagerState=u,hr(u,a)){var c=e.interleaved;c===null?(i.next=i,t_(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=WP(t,e,i,r),n!==null&&(i=mn(),cr(n,t,r,i),mS(n,e,r))}}function fS(t){var e=t.alternate;return t===at||e!==null&&e===at}function pS(t,e){$l=id=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$v(t,n)}}var od={readContext:Qn,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},Mb={readContext:Qn,useCallback:function(t,e){return Pr().memoizedState=[t,e===void 0?null:e],t},useContext:Qn,useEffect:K0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sh(4194308,4,aS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sh(4,2,t,e)},useMemo:function(t,e){var n=Pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bb.bind(null,at,t),[r.memoizedState,t]},useRef:function(t){var e=Pr();return t={current:t},e.memoizedState=t},useState:q0,useDebugValue:c_,useDeferredValue:function(t){return Pr().memoizedState=t},useTransition:function(){var t=q0(!1),e=t[0];return t=Rb.bind(null,t[1]),Pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=at,i=Pr();if(nt){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Mt===null)throw Error(z(349));Uo&30||JP(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,K0(tS.bind(null,r,o,t),[t]),r.flags|=2048,yu(9,eS.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Pr(),e=Mt.identifierPrefix;if(nt){var n=Xr,r=Qr;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ab++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Lb={readContext:Qn,useCallback:uS,useContext:Qn,useEffect:u_,useImperativeHandle:lS,useInsertionEffect:oS,useLayoutEffect:sS,useMemo:cS,useReducer:Xp,useRef:iS,useState:function(){return Xp(_u)},useDebugValue:c_,useDeferredValue:function(t){var e=Xn();return hS(e,Ct.memoizedState,t)},useTransition:function(){var t=Xp(_u)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:QP,useSyncExternalStore:XP,useId:dS,unstable_isNewReconciler:!1},Nb={readContext:Qn,useCallback:uS,useContext:Qn,useEffect:u_,useImperativeHandle:lS,useInsertionEffect:oS,useLayoutEffect:sS,useMemo:cS,useReducer:Jp,useRef:iS,useState:function(){return Jp(_u)},useDebugValue:c_,useDeferredValue:function(t){var e=Xn();return Ct===null?e.memoizedState=t:hS(e,Ct.memoizedState,t)},useTransition:function(){var t=Jp(_u)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:QP,useSyncExternalStore:XP,useId:dS,unstable_isNewReconciler:!1};function aa(t,e){try{var n="",r=e;do n+=cR(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function em(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Vb=typeof WeakMap=="function"?WeakMap:Map;function gS(t,e,n){n=ri(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ad||(ad=!0,Dg=r),yg(t,e)},n}function vS(t,e,n){n=ri(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){yg(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){yg(t,e),typeof r!="function"&&($i===null?$i=new Set([this]):$i.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Z0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Vb;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Qb.bind(null,t,e,n),e.then(t,t))}function G0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Q0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ri(-1,1),e.tag=2,Bi(n,e,1))),n.lanes|=1),t)}var Fb=fi.ReactCurrentOwner,Tn=!1;function hn(t,e,n,r){e.child=t===null?ZP(e,null,n,r):oa(e,t.child,n,r)}function X0(t,e,n,r,i){n=n.render;var o=e.ref;return Zs(e,i),r=a_(t,e,n,r,o,i),n=l_(),t!==null&&!Tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ai(t,e,i)):(nt&&n&&Zv(e),e.flags|=1,hn(t,e,r,i),e.child)}function J0(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!__(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,_S(t,e,o,r,i)):(t=xh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:hu,n(a,r)&&t.ref===e.ref)return ai(t,e,i)}return e.flags|=1,t=zi(o,r),t.ref=e.ref,t.return=e,e.child=t}function _S(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(hu(o,r)&&t.ref===e.ref)if(Tn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Tn=!0);else return e.lanes=t.lanes,ai(t,e,i)}return wg(t,e,n,r,i)}function yS(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Bs,Dn),Dn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(Bs,Dn),Dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ze(Bs,Dn),Dn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ze(Bs,Dn),Dn|=r;return hn(t,e,i,n),e.child}function wS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wg(t,e,n,r,i){var o=Sn(n)?Vo:an.current;return o=ra(e,o),Zs(e,i),n=a_(t,e,n,r,o,i),r=l_(),t!==null&&!Tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ai(t,e,i)):(nt&&r&&Zv(e),e.flags|=1,hn(t,e,n,i),e.child)}function eE(t,e,n,r,i){if(Sn(n)){var o=!0;Qh(e)}else o=!1;if(Zs(e,i),e.stateNode===null)Ch(t,e),qP(e,n,r),_g(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Qn(d):(d=Sn(n)?Vo:an.current,d=ra(e,d));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||c!==d)&&H0(e,a,r,d),Ti=!1;var v=e.memoizedState;a.state=v,nd(e,r,a,i),c=e.memoizedState,u!==r||v!==c||Pn.current||Ti?(typeof f=="function"&&(vg(e,n,f,r),c=e.memoizedState),(u=Ti||W0(e,n,u,r,v,c,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=d,r=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,HP(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:or(e.type,u),a.props=d,m=e.pendingProps,v=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Qn(c):(c=Sn(n)?Vo:an.current,c=ra(e,c));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==m||v!==c)&&H0(e,a,r,c),Ti=!1,v=e.memoizedState,a.state=v,nd(e,r,a,i);var E=e.memoizedState;u!==m||v!==E||Pn.current||Ti?(typeof y=="function"&&(vg(e,n,y,r),E=e.memoizedState),(d=Ti||W0(e,n,d,r,v,E,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,E,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,E,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),a.props=r,a.state=E,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return Eg(t,e,n,r,o,i)}function Eg(t,e,n,r,i,o){wS(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&U0(e,n,!1),ai(t,e,o);r=e.stateNode,Fb.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=oa(e,t.child,null,o),e.child=oa(e,null,u,o)):hn(t,e,u,o),e.memoizedState=r.state,i&&U0(e,n,!0),e.child}function ES(t){var e=t.stateNode;e.pendingContext?F0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&F0(t,e.context,!1),r_(t,e.containerInfo)}function tE(t,e,n,r,i){return ia(),Qv(i),e.flags|=256,hn(t,e,n,r),e.child}var Tg={dehydrated:null,treeContext:null,retryLane:0};function Pg(t){return{baseLanes:t,cachePool:null,transitions:null}}function TS(t,e,n){var r=e.pendingProps,i=ot.current,o=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ze(ot,i&1),t===null)return mg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=uf(a,r,0,null),t=bo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Pg(n),e.memoizedState=Tg,t):h_(e,a));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return Ub(t,e,a,r,u,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=zi(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?o=zi(u,o):(o=bo(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Pg(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Tg,r}return o=t.child,t=o.sibling,r=zi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function h_(t,e){return e=uf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jc(t,e,n,r){return r!==null&&Qv(r),oa(e,t.child,null,n),t=h_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ub(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=em(Error(z(422))),Jc(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=uf({mode:"visible",children:r.children},i,0,null),o=bo(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&oa(e,t.child,null,a),e.child.memoizedState=Pg(a),e.memoizedState=Tg,o);if(!(e.mode&1))return Jc(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(z(419)),r=em(o,r,void 0),Jc(t,e,a,r)}if(u=(a&t.childLanes)!==0,Tn||u){if(r=Mt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,si(t,i),cr(r,t,i,-1))}return v_(),r=em(Error(z(421))),Jc(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Xb.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,An=Ui(i.nextSibling),Mn=e,nt=!0,ar=null,t!==null&&(Hn[Yn++]=Qr,Hn[Yn++]=Xr,Hn[Yn++]=Fo,Qr=t.id,Xr=t.overflow,Fo=e),e=h_(e,r.children),e.flags|=4096,e)}function nE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),gg(t.return,e,n)}function tm(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function PS(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(hn(t,e,r.children,n),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nE(t,n,e);else if(t.tag===19)nE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(ot,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&rd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),tm(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&rd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}tm(e,!0,n,null,o);break;case"together":tm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ch(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ai(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=zi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Bb(t,e,n){switch(e.tag){case 3:ES(e),ia();break;case 5:GP(e);break;case 1:Sn(e.type)&&Qh(e);break;case 4:r_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ze(ed,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ot,ot.current&1),e.flags|=128,null):n&e.child.childLanes?TS(t,e,n):(Ze(ot,ot.current&1),t=ai(t,e,n),t!==null?t.sibling:null);Ze(ot,ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return PS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,yS(t,e,n)}return ai(t,e,n)}var SS,Sg,CS,IS;SS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sg=function(){};CS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ko(Rr.current);var o=null;switch(n){case"input":i=Ym(t,i),r=Ym(t,r),o=[];break;case"select":i=lt({},i,{value:void 0}),r=lt({},r,{value:void 0}),o=[];break;case"textarea":i=Zm(t,i),r=Zm(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zh)}Qm(n,r);var a;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var u=i[d];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(iu.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var c=r[d];if(u=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(iu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ge("scroll",t),o||u===c||(o=[])):(o=o||[]).push(d,c))}n&&(o=o||[]).push("style",n);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};IS=function(t,e,n,r){n!==r&&(e.flags|=4)};function pl(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $b(t,e,n){var r=e.pendingProps;switch(Gv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return Sn(e.type)&&Gh(),Gt(e),null;case 3:return r=e.stateNode,sa(),Xe(Pn),Xe(an),o_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Qc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ar!==null&&(bg(ar),ar=null))),Sg(t,e),Gt(e),null;case 5:i_(e);var i=ko(gu.current);if(n=e.type,t!==null&&e.stateNode!=null)CS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Gt(e),null}if(t=ko(Rr.current),Qc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Sr]=e,r[pu]=o,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(i=0;i<kl.length;i++)Ge(kl[i],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":h0(r,o),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ge("invalid",r);break;case"textarea":f0(r,o),Ge("invalid",r)}Qm(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&Gc(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Gc(r.textContent,u,t),i=["children",""+u]):iu.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Ge("scroll",r)}switch(n){case"input":jc(r),d0(r,o,!0);break;case"textarea":jc(r),p0(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Zh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=J1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Sr]=e,t[pu]=r,SS(t,e,!1,!1),e.stateNode=t;e:{switch(a=Xm(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),i=r;break;case"iframe":case"object":case"embed":Ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<kl.length;i++)Ge(kl[i],t);i=r;break;case"source":Ge("error",t),i=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),i=r;break;case"details":Ge("toggle",t),i=r;break;case"input":h0(t,r),i=Ym(t,r),Ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=lt({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":f0(t,r),i=Zm(t,r),Ge("invalid",t);break;default:i=r}Qm(n,i),u=i;for(o in u)if(u.hasOwnProperty(o)){var c=u[o];o==="style"?nP(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&eP(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ou(t,c):typeof c=="number"&&ou(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(iu.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ge("scroll",t):c!=null&&Lv(t,o,c,a))}switch(n){case"input":jc(t),d0(t,r,!1);break;case"textarea":jc(t),p0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Hs(t,!!r.multiple,o,!1):r.defaultValue!=null&&Hs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)IS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=ko(gu.current),ko(Rr.current),Qc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sr]=e,(o=r.nodeValue!==n)&&(t=Mn,t!==null))switch(t.tag){case 3:Gc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sr]=e,e.stateNode=r}return Gt(e),null;case 13:if(Xe(ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&An!==null&&e.mode&1&&!(e.flags&128))zP(),ia(),e.flags|=98560,o=!1;else if(o=Qc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(z(317));o[Sr]=e}else ia(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),o=!1}else ar!==null&&(bg(ar),ar=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?kt===0&&(kt=3):v_())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return sa(),Sg(t,e),t===null&&du(e.stateNode.containerInfo),Gt(e),null;case 10:return e_(e.type._context),Gt(e),null;case 17:return Sn(e.type)&&Gh(),Gt(e),null;case 19:if(Xe(ot),o=e.memoizedState,o===null)return Gt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)pl(o,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=rd(t),a!==null){for(e.flags|=128,pl(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(ot,ot.current&1|2),e.child}t=t.sibling}o.tail!==null&&pt()>la&&(e.flags|=128,r=!0,pl(o,!1),e.lanes=4194304)}else{if(!r)if(t=rd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!nt)return Gt(e),null}else 2*pt()-o.renderingStartTime>la&&n!==1073741824&&(e.flags|=128,r=!0,pl(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=pt(),e.sibling=null,n=ot.current,Ze(ot,r?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return g_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dn&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function jb(t,e){switch(Gv(e),e.tag){case 1:return Sn(e.type)&&Gh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sa(),Xe(Pn),Xe(an),o_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return i_(e),null;case 13:if(Xe(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));ia()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(ot),null;case 4:return sa(),null;case 10:return e_(e.type._context),null;case 22:case 23:return g_(),null;case 24:return null;default:return null}}var eh=!1,Jt=!1,zb=typeof WeakSet=="function"?WeakSet:Set,X=null;function Us(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function Cg(t,e,n){try{n()}catch(r){ct(t,e,r)}}var rE=!1;function Wb(t,e){if(lg=Yh,t=AP(),Kv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,u=-1,c=-1,d=0,f=0,m=t,v=null;t:for(;;){for(var y;m!==n||i!==0&&m.nodeType!==3||(u=a+i),m!==o||r!==0&&m.nodeType!==3||(c=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(y=m.firstChild)!==null;)v=m,m=y;for(;;){if(m===t)break t;if(v===n&&++d===i&&(u=a),v===o&&++f===r&&(c=a),(y=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=y}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ug={focusedElem:t,selectionRange:n},Yh=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var P=E.memoizedProps,x=E.memoizedState,T=e.stateNode,w=T.getSnapshotBeforeUpdate(e.elementType===e.type?P:or(e.type,P),x);T.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(D){ct(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return E=rE,rE=!1,E}function jl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Cg(e,n,o)}i=i.next}while(i!==r)}}function af(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ig(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kS(t){var e=t.alternate;e!==null&&(t.alternate=null,kS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sr],delete e[pu],delete e[dg],delete e[Ib],delete e[kb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xS(t){return t.tag===5||t.tag===3||t.tag===4}function iE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zh));else if(r!==4&&(t=t.child,t!==null))for(kg(t,e,n),t=t.sibling;t!==null;)kg(t,e,n),t=t.sibling}function xg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xg(t,e,n),t=t.sibling;t!==null;)xg(t,e,n),t=t.sibling}var jt=null,sr=!1;function _i(t,e,n){for(n=n.child;n!==null;)DS(t,e,n),n=n.sibling}function DS(t,e,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(Xd,n)}catch{}switch(n.tag){case 5:Jt||Us(n,e);case 6:var r=jt,i=sr;jt=null,_i(t,e,n),jt=r,sr=i,jt!==null&&(sr?(t=jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(sr?(t=jt,n=n.stateNode,t.nodeType===8?Kp(t.parentNode,n):t.nodeType===1&&Kp(t,n),uu(t)):Kp(jt,n.stateNode));break;case 4:r=jt,i=sr,jt=n.stateNode.containerInfo,sr=!0,_i(t,e,n),jt=r,sr=i;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Cg(n,e,a),i=i.next}while(i!==r)}_i(t,e,n);break;case 1:if(!Jt&&(Us(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){ct(n,e,u)}_i(t,e,n);break;case 21:_i(t,e,n);break;case 22:n.mode&1?(Jt=(r=Jt)||n.memoizedState!==null,_i(t,e,n),Jt=r):_i(t,e,n);break;default:_i(t,e,n)}}function oE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zb),e.forEach(function(r){var i=Jb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ir(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:jt=u.stateNode,sr=!1;break e;case 3:jt=u.stateNode.containerInfo,sr=!0;break e;case 4:jt=u.stateNode.containerInfo,sr=!0;break e}u=u.return}if(jt===null)throw Error(z(160));DS(o,a,i),jt=null,sr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){ct(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AS(e,t),e=e.sibling}function AS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ir(e,t),Er(t),r&4){try{jl(3,t,t.return),af(3,t)}catch(P){ct(t,t.return,P)}try{jl(5,t,t.return)}catch(P){ct(t,t.return,P)}}break;case 1:ir(e,t),Er(t),r&512&&n!==null&&Us(n,n.return);break;case 5:if(ir(e,t),Er(t),r&512&&n!==null&&Us(n,n.return),t.flags&32){var i=t.stateNode;try{ou(i,"")}catch(P){ct(t,t.return,P)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&Q1(i,o),Xm(u,a);var d=Xm(u,o);for(a=0;a<c.length;a+=2){var f=c[a],m=c[a+1];f==="style"?nP(i,m):f==="dangerouslySetInnerHTML"?eP(i,m):f==="children"?ou(i,m):Lv(i,f,m,d)}switch(u){case"input":qm(i,o);break;case"textarea":X1(i,o);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?Hs(i,!!o.multiple,y,!1):v!==!!o.multiple&&(o.defaultValue!=null?Hs(i,!!o.multiple,o.defaultValue,!0):Hs(i,!!o.multiple,o.multiple?[]:"",!1))}i[pu]=o}catch(P){ct(t,t.return,P)}}break;case 6:if(ir(e,t),Er(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(P){ct(t,t.return,P)}}break;case 3:if(ir(e,t),Er(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{uu(e.containerInfo)}catch(P){ct(t,t.return,P)}break;case 4:ir(e,t),Er(t);break;case 13:ir(e,t),Er(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(p_=pt())),r&4&&oE(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Jt=(d=Jt)||f,ir(e,t),Jt=d):ir(e,t),Er(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(X=t,f=t.child;f!==null;){for(m=X=f;X!==null;){switch(v=X,y=v.child,v.tag){case 0:case 11:case 14:case 15:jl(4,v,v.return);break;case 1:Us(v,v.return);var E=v.stateNode;if(typeof E.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(P){ct(r,n,P)}}break;case 5:Us(v,v.return);break;case 22:if(v.memoizedState!==null){aE(m);continue}}y!==null?(y.return=v,X=y):aE(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,d?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=tP("display",a))}catch(P){ct(t,t.return,P)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(P){ct(t,t.return,P)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ir(e,t),Er(t),r&4&&oE(t);break;case 21:break;default:ir(e,t),Er(t)}}function Er(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xS(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ou(i,""),r.flags&=-33);var o=iE(t);xg(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,u=iE(t);kg(t,u,a);break;default:throw Error(z(161))}}catch(c){ct(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Hb(t,e,n){X=t,RS(t)}function RS(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||eh;if(!a){var u=i.alternate,c=u!==null&&u.memoizedState!==null||Jt;u=eh;var d=Jt;if(eh=a,(Jt=c)&&!d)for(X=i;X!==null;)a=X,c=a.child,a.tag===22&&a.memoizedState!==null?lE(i):c!==null?(c.return=a,X=c):lE(i);for(;o!==null;)X=o,RS(o),o=o.sibling;X=i,eh=u,Jt=d}sE(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,X=o):sE(t)}}function sE(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||af(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:or(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&z0(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}z0(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&uu(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Jt||e.flags&512&&Ig(e)}catch(v){ct(e,e.return,v)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function aE(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function lE(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{af(4,e)}catch(c){ct(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ct(e,i,c)}}var o=e.return;try{Ig(e)}catch(c){ct(e,o,c)}break;case 5:var a=e.return;try{Ig(e)}catch(c){ct(e,a,c)}}}catch(c){ct(e,e.return,c)}if(e===t){X=null;break}var u=e.sibling;if(u!==null){u.return=e.return,X=u;break}X=e.return}}var Yb=Math.ceil,sd=fi.ReactCurrentDispatcher,d_=fi.ReactCurrentOwner,Zn=fi.ReactCurrentBatchConfig,Me=0,Mt=null,Pt=null,Ht=0,Dn=0,Bs=oo(0),kt=0,wu=null,Bo=0,lf=0,f_=0,zl=null,wn=null,p_=0,la=1/0,Kr=null,ad=!1,Dg=null,$i=null,th=!1,Ri=null,ld=0,Wl=0,Ag=null,Ih=-1,kh=0;function mn(){return Me&6?pt():Ih!==-1?Ih:Ih=pt()}function ji(t){return t.mode&1?Me&2&&Ht!==0?Ht&-Ht:Db.transition!==null?(kh===0&&(kh=pP()),kh):(t=We,t!==0||(t=window.event,t=t===void 0?16:EP(t.type)),t):1}function cr(t,e,n,r){if(50<Wl)throw Wl=0,Ag=null,Error(z(185));Yu(t,n,r),(!(Me&2)||t!==Mt)&&(t===Mt&&(!(Me&2)&&(lf|=n),kt===4&&Ci(t,Ht)),Cn(t,r),n===1&&Me===0&&!(e.mode&1)&&(la=pt()+500,rf&&so()))}function Cn(t,e){var n=t.callbackNode;DR(t,e);var r=Hh(t,t===Mt?Ht:0);if(r===0)n!==null&&v0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&v0(n),e===1)t.tag===0?xb(uE.bind(null,t)):BP(uE.bind(null,t)),Sb(function(){!(Me&6)&&so()}),n=null;else{switch(mP(r)){case 1:n=Bv;break;case 4:n=dP;break;case 16:n=Wh;break;case 536870912:n=fP;break;default:n=Wh}n=US(n,bS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bS(t,e){if(Ih=-1,kh=0,Me&6)throw Error(z(327));var n=t.callbackNode;if(Gs()&&t.callbackNode!==n)return null;var r=Hh(t,t===Mt?Ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ud(t,r);else{e=r;var i=Me;Me|=2;var o=MS();(Mt!==t||Ht!==e)&&(Kr=null,la=pt()+500,Ro(t,e));do try{Zb();break}catch(u){OS(t,u)}while(1);Jv(),sd.current=o,Me=i,Pt!==null?e=0:(Mt=null,Ht=0,e=kt)}if(e!==0){if(e===2&&(i=rg(t),i!==0&&(r=i,e=Rg(t,i))),e===1)throw n=wu,Ro(t,0),Ci(t,r),Cn(t,pt()),n;if(e===6)Ci(t,r);else{if(i=t.current.alternate,!(r&30)&&!qb(i)&&(e=ud(t,r),e===2&&(o=rg(t),o!==0&&(r=o,e=Rg(t,o))),e===1))throw n=wu,Ro(t,0),Ci(t,r),Cn(t,pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:To(t,wn,Kr);break;case 3:if(Ci(t,r),(r&130023424)===r&&(e=p_+500-pt(),10<e)){if(Hh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){mn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hg(To.bind(null,t,wn,Kr),e);break}To(t,wn,Kr);break;case 4:if(Ci(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-ur(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Yb(r/1960))-r,10<r){t.timeoutHandle=hg(To.bind(null,t,wn,Kr),r);break}To(t,wn,Kr);break;case 5:To(t,wn,Kr);break;default:throw Error(z(329))}}}return Cn(t,pt()),t.callbackNode===n?bS.bind(null,t):null}function Rg(t,e){var n=zl;return t.current.memoizedState.isDehydrated&&(Ro(t,e).flags|=256),t=ud(t,e),t!==2&&(e=wn,wn=n,e!==null&&bg(e)),t}function bg(t){wn===null?wn=t:wn.push.apply(wn,t)}function qb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!hr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ci(t,e){for(e&=~f_,e&=~lf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ur(e),r=1<<n;t[n]=-1,e&=~r}}function uE(t){if(Me&6)throw Error(z(327));Gs();var e=Hh(t,0);if(!(e&1))return Cn(t,pt()),null;var n=ud(t,e);if(t.tag!==0&&n===2){var r=rg(t);r!==0&&(e=r,n=Rg(t,r))}if(n===1)throw n=wu,Ro(t,0),Ci(t,e),Cn(t,pt()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,To(t,wn,Kr),Cn(t,pt()),null}function m_(t,e){var n=Me;Me|=1;try{return t(e)}finally{Me=n,Me===0&&(la=pt()+500,rf&&so())}}function $o(t){Ri!==null&&Ri.tag===0&&!(Me&6)&&Gs();var e=Me;Me|=1;var n=Zn.transition,r=We;try{if(Zn.transition=null,We=1,t)return t()}finally{We=r,Zn.transition=n,Me=e,!(Me&6)&&so()}}function g_(){Dn=Bs.current,Xe(Bs)}function Ro(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Pb(n)),Pt!==null)for(n=Pt.return;n!==null;){var r=n;switch(Gv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gh();break;case 3:sa(),Xe(Pn),Xe(an),o_();break;case 5:i_(r);break;case 4:sa();break;case 13:Xe(ot);break;case 19:Xe(ot);break;case 10:e_(r.type._context);break;case 22:case 23:g_()}n=n.return}if(Mt=t,Pt=t=zi(t.current,null),Ht=Dn=e,kt=0,wu=null,f_=lf=Bo=0,wn=zl=null,Io!==null){for(e=0;e<Io.length;e++)if(n=Io[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Io=null}return t}function OS(t,e){do{var n=Pt;try{if(Jv(),Ph.current=od,id){for(var r=at.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}id=!1}if(Uo=0,bt=Ct=at=null,$l=!1,vu=0,d_.current=null,n===null||n.return===null){kt=1,wu=e,Pt=null;break}e:{var o=t,a=n.return,u=n,c=e;if(e=Ht,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=G0(a);if(y!==null){y.flags&=-257,Q0(y,a,u,o,e),y.mode&1&&Z0(o,d,e),e=y,c=d;var E=e.updateQueue;if(E===null){var P=new Set;P.add(c),e.updateQueue=P}else E.add(c);break e}else{if(!(e&1)){Z0(o,d,e),v_();break e}c=Error(z(426))}}else if(nt&&u.mode&1){var x=G0(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Q0(x,a,u,o,e),Qv(aa(c,u));break e}}o=c=aa(c,u),kt!==4&&(kt=2),zl===null?zl=[o]:zl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var T=gS(o,c,e);j0(o,T);break e;case 1:u=c;var w=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&($i===null||!$i.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var D=vS(o,u,e);j0(o,D);break e}}o=o.return}while(o!==null)}NS(n)}catch(O){e=O,Pt===n&&n!==null&&(Pt=n=n.return);continue}break}while(1)}function MS(){var t=sd.current;return sd.current=od,t===null?od:t}function v_(){(kt===0||kt===3||kt===2)&&(kt=4),Mt===null||!(Bo&268435455)&&!(lf&268435455)||Ci(Mt,Ht)}function ud(t,e){var n=Me;Me|=2;var r=MS();(Mt!==t||Ht!==e)&&(Kr=null,Ro(t,e));do try{Kb();break}catch(i){OS(t,i)}while(1);if(Jv(),Me=n,sd.current=r,Pt!==null)throw Error(z(261));return Mt=null,Ht=0,kt}function Kb(){for(;Pt!==null;)LS(Pt)}function Zb(){for(;Pt!==null&&!wR();)LS(Pt)}function LS(t){var e=FS(t.alternate,t,Dn);t.memoizedProps=t.pendingProps,e===null?NS(t):Pt=e,d_.current=null}function NS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jb(n,e),n!==null){n.flags&=32767,Pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,Pt=null;return}}else if(n=$b(n,e,Dn),n!==null){Pt=n;return}if(e=e.sibling,e!==null){Pt=e;return}Pt=e=t}while(e!==null);kt===0&&(kt=5)}function To(t,e,n){var r=We,i=Zn.transition;try{Zn.transition=null,We=1,Gb(t,e,n,r)}finally{Zn.transition=i,We=r}return null}function Gb(t,e,n,r){do Gs();while(Ri!==null);if(Me&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(AR(t,o),t===Mt&&(Pt=Mt=null,Ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||th||(th=!0,US(Wh,function(){return Gs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Zn.transition,Zn.transition=null;var a=We;We=1;var u=Me;Me|=4,d_.current=null,Wb(t,n),AS(n,t),gb(ug),Yh=!!lg,ug=lg=null,t.current=n,Hb(n),ER(),Me=u,We=a,Zn.transition=o}else t.current=n;if(th&&(th=!1,Ri=t,ld=i),o=t.pendingLanes,o===0&&($i=null),SR(n.stateNode),Cn(t,pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ad)throw ad=!1,t=Dg,Dg=null,t;return ld&1&&t.tag!==0&&Gs(),o=t.pendingLanes,o&1?t===Ag?Wl++:(Wl=0,Ag=t):Wl=0,so(),null}function Gs(){if(Ri!==null){var t=mP(ld),e=Zn.transition,n=We;try{if(Zn.transition=null,We=16>t?16:t,Ri===null)var r=!1;else{if(t=Ri,Ri=null,ld=0,Me&6)throw Error(z(331));var i=Me;for(Me|=4,X=t.current;X!==null;){var o=X,a=o.child;if(X.flags&16){var u=o.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(X=d;X!==null;){var f=X;switch(f.tag){case 0:case 11:case 15:jl(8,f,o)}var m=f.child;if(m!==null)m.return=f,X=m;else for(;X!==null;){f=X;var v=f.sibling,y=f.return;if(kS(f),f===d){X=null;break}if(v!==null){v.return=y,X=v;break}X=y}}}var E=o.alternate;if(E!==null){var P=E.child;if(P!==null){E.child=null;do{var x=P.sibling;P.sibling=null,P=x}while(P!==null)}}X=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,X=a;else e:for(;X!==null;){if(o=X,o.flags&2048)switch(o.tag){case 0:case 11:case 15:jl(9,o,o.return)}var T=o.sibling;if(T!==null){T.return=o.return,X=T;break e}X=o.return}}var w=t.current;for(X=w;X!==null;){a=X;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,X=S;else e:for(a=w;X!==null;){if(u=X,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:af(9,u)}}catch(O){ct(u,u.return,O)}if(u===a){X=null;break e}var D=u.sibling;if(D!==null){D.return=u.return,X=D;break e}X=u.return}}if(Me=i,so(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(Xd,t)}catch{}r=!0}return r}finally{We=n,Zn.transition=e}}return!1}function cE(t,e,n){e=aa(n,e),e=gS(t,e,1),t=Bi(t,e,1),e=mn(),t!==null&&(Yu(t,1,e),Cn(t,e))}function ct(t,e,n){if(t.tag===3)cE(t,t,n);else for(;e!==null;){if(e.tag===3){cE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($i===null||!$i.has(r))){t=aa(n,t),t=vS(e,t,1),e=Bi(e,t,1),t=mn(),e!==null&&(Yu(e,1,t),Cn(e,t));break}}e=e.return}}function Qb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mn(),t.pingedLanes|=t.suspendedLanes&n,Mt===t&&(Ht&n)===n&&(kt===4||kt===3&&(Ht&130023424)===Ht&&500>pt()-p_?Ro(t,0):f_|=n),Cn(t,e)}function VS(t,e){e===0&&(t.mode&1?(e=Hc,Hc<<=1,!(Hc&130023424)&&(Hc=4194304)):e=1);var n=mn();t=si(t,e),t!==null&&(Yu(t,e,n),Cn(t,n))}function Xb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),VS(t,n)}function Jb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),VS(t,n)}var FS;FS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pn.current)Tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tn=!1,Bb(t,e,n);Tn=!!(t.flags&131072)}else Tn=!1,nt&&e.flags&1048576&&$P(e,Jh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ch(t,e),t=e.pendingProps;var i=ra(e,an.current);Zs(e,n),i=a_(null,e,r,t,i,n);var o=l_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sn(r)?(o=!0,Qh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,n_(e),i.updater=of,e.stateNode=i,i._reactInternals=e,_g(e,r,t,n),e=Eg(null,e,r,!0,o,n)):(e.tag=0,nt&&o&&Zv(e),hn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ch(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=tO(r),t=or(r,t),i){case 0:e=wg(null,e,r,t,n);break e;case 1:e=eE(null,e,r,t,n);break e;case 11:e=X0(null,e,r,t,n);break e;case 14:e=J0(null,e,r,or(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),wg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),eE(t,e,r,i,n);case 3:e:{if(ES(e),t===null)throw Error(z(387));r=e.pendingProps,o=e.memoizedState,i=o.element,HP(t,e),nd(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=aa(Error(z(423)),e),e=tE(t,e,r,n,i);break e}else if(r!==i){i=aa(Error(z(424)),e),e=tE(t,e,r,n,i);break e}else for(An=Ui(e.stateNode.containerInfo.firstChild),Mn=e,nt=!0,ar=null,n=ZP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ia(),r===i){e=ai(t,e,n);break e}hn(t,e,r,n)}e=e.child}return e;case 5:return GP(e),t===null&&mg(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,cg(r,i)?a=null:o!==null&&cg(r,o)&&(e.flags|=32),wS(t,e),hn(t,e,a,n),e.child;case 6:return t===null&&mg(e),null;case 13:return TS(t,e,n);case 4:return r_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=oa(e,null,r,n):hn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),X0(t,e,r,i,n);case 7:return hn(t,e,e.pendingProps,n),e.child;case 8:return hn(t,e,e.pendingProps.children,n),e.child;case 12:return hn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ze(ed,r._currentValue),r._currentValue=a,o!==null)if(hr(o.value,a)){if(o.children===i.children&&!Pn.current){e=ai(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){a=o.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=ri(-1,n&-n),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),gg(o.return,n,e),u.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(z(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),gg(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}hn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zs(e,n),i=Qn(i),r=r(i),e.flags|=1,hn(t,e,r,n),e.child;case 14:return r=e.type,i=or(r,e.pendingProps),i=or(r.type,i),J0(t,e,r,i,n);case 15:return _S(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),Ch(t,e),e.tag=1,Sn(r)?(t=!0,Qh(e)):t=!1,Zs(e,n),qP(e,r,i),_g(e,r,i,n),Eg(null,e,r,!0,t,n);case 19:return PS(t,e,n);case 22:return yS(t,e,n)}throw Error(z(156,e.tag))};function US(t,e){return hP(t,e)}function eO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,e,n,r){return new eO(t,e,n,r)}function __(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tO(t){if(typeof t=="function")return __(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vv)return 11;if(t===Fv)return 14}return 2}function zi(t,e){var n=t.alternate;return n===null?(n=Kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xh(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")__(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case As:return bo(n.children,i,o,e);case Nv:a=8,i|=8;break;case jm:return t=Kn(12,n,e,i|2),t.elementType=jm,t.lanes=o,t;case zm:return t=Kn(13,n,e,i),t.elementType=zm,t.lanes=o,t;case Wm:return t=Kn(19,n,e,i),t.elementType=Wm,t.lanes=o,t;case K1:return uf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y1:a=10;break e;case q1:a=9;break e;case Vv:a=11;break e;case Fv:a=14;break e;case Ei:a=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Kn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function bo(t,e,n,r){return t=Kn(7,t,r,e),t.lanes=n,t}function uf(t,e,n,r){return t=Kn(22,t,r,e),t.elementType=K1,t.lanes=n,t.stateNode={isHidden:!1},t}function nm(t,e,n){return t=Kn(6,t,null,e),t.lanes=n,t}function rm(t,e,n){return e=Kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vp(0),this.expirationTimes=Vp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function y_(t,e,n,r,i,o,a,u,c){return t=new nO(t,e,n,u,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Kn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},n_(o),t}function rO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function BS(t){if(!t)return Ji;t=t._reactInternals;e:{if(Jo(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Sn(n))return UP(t,n,e)}return e}function $S(t,e,n,r,i,o,a,u,c){return t=y_(n,r,!0,t,i,o,a,u,c),t.context=BS(null),n=t.current,r=mn(),i=ji(n),o=ri(r,i),o.callback=e??null,Bi(n,o,i),t.current.lanes=i,Yu(t,i,r),Cn(t,r),t}function cf(t,e,n,r){var i=e.current,o=mn(),a=ji(i);return n=BS(n),e.context===null?e.context=n:e.pendingContext=n,e=ri(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bi(i,e,a),t!==null&&(cr(t,i,a,o),Th(t,i,a)),a}function cd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function w_(t,e){hE(t,e),(t=t.alternate)&&hE(t,e)}function iO(){return null}var jS=typeof reportError=="function"?reportError:function(t){console.error(t)};function E_(t){this._internalRoot=t}hf.prototype.render=E_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));cf(t,e,null,null)};hf.prototype.unmount=E_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$o(function(){cf(null,t,null,null)}),e[oi]=null}};function hf(t){this._internalRoot=t}hf.prototype.unstable_scheduleHydration=function(t){if(t){var e=_P();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Si.length&&e!==0&&e<Si[n].priority;n++);Si.splice(n,0,t),n===0&&wP(t)}};function T_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function df(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dE(){}function oO(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var d=cd(a);o.call(d)}}var a=$S(e,r,t,0,null,!1,!1,"",dE);return t._reactRootContainer=a,t[oi]=a.current,du(t.nodeType===8?t.parentNode:t),$o(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var d=cd(c);u.call(d)}}var c=y_(t,0,!1,null,null,!1,!1,"",dE);return t._reactRootContainer=c,t[oi]=c.current,du(t.nodeType===8?t.parentNode:t),$o(function(){cf(e,c,n,r)}),c}function ff(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var u=i;i=function(){var c=cd(a);u.call(c)}}cf(e,a,t,i)}else a=oO(n,e,t,i,r);return cd(a)}gP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Il(e.pendingLanes);n!==0&&($v(e,n|1),Cn(e,pt()),!(Me&6)&&(la=pt()+500,so()))}break;case 13:$o(function(){var r=si(t,1);if(r!==null){var i=mn();cr(r,t,1,i)}}),w_(t,1)}};jv=function(t){if(t.tag===13){var e=si(t,134217728);if(e!==null){var n=mn();cr(e,t,134217728,n)}w_(t,134217728)}};vP=function(t){if(t.tag===13){var e=ji(t),n=si(t,e);if(n!==null){var r=mn();cr(n,t,e,r)}w_(t,e)}};_P=function(){return We};yP=function(t,e){var n=We;try{return We=t,e()}finally{We=n}};eg=function(t,e,n){switch(e){case"input":if(qm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=nf(r);if(!i)throw Error(z(90));G1(r),qm(r,i)}}}break;case"textarea":X1(t,n);break;case"select":e=n.value,e!=null&&Hs(t,!!n.multiple,e,!1)}};oP=m_;sP=$o;var sO={usingClientEntryPoint:!1,Events:[Ku,Ms,nf,rP,iP,m_]},ml={findFiberByHostInstance:Co,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},aO={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uP(t),t===null?null:t.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||iO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{Xd=nh.inject(aO),Ar=nh}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sO;Un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T_(e))throw Error(z(200));return rO(t,e,null,n)};Un.createRoot=function(t,e){if(!T_(t))throw Error(z(299));var n=!1,r="",i=jS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=y_(t,1,!1,null,null,n,!1,r,i),t[oi]=e.current,du(t.nodeType===8?t.parentNode:t),new E_(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=uP(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return $o(t)};Un.hydrate=function(t,e,n){if(!df(e))throw Error(z(200));return ff(null,t,e,!0,n)};Un.hydrateRoot=function(t,e,n){if(!T_(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=jS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=$S(e,null,t,1,n??null,i,!1,o,a),t[oi]=e.current,du(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hf(e)};Un.render=function(t,e,n){if(!df(e))throw Error(z(200));return ff(null,t,e,!1,n)};Un.unmountComponentAtNode=function(t){if(!df(t))throw Error(z(40));return t._reactRootContainer?($o(function(){ff(null,null,t,!1,function(){t._reactRootContainer=null,t[oi]=null})}),!0):!1};Un.unstable_batchedUpdates=m_;Un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!df(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return ff(t,e,n,!1,r)};Un.version="18.2.0-next-9e3b772b8-20220608";function zS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zS)}catch(t){console.error(t)}}zS(),$1.exports=Un;var Gu=$1.exports;const lO=Ia(Gu);var fE=Gu;Bm.createRoot=fE.createRoot,Bm.hydrateRoot=fE.hydrateRoot;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eu(){return Eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eu.apply(this,arguments)}var bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bi||(bi={}));const pE="popstate";function uO(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:u}=r.location;return Og("",{pathname:o,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:hd(i)}return hO(e,n,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function P_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cO(){return Math.random().toString(36).substr(2,8)}function mE(t,e){return{usr:t.state,key:t.key,idx:e}}function Og(t,e,n,r){return n===void 0&&(n=null),Eu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Aa(e):e,{state:n,key:e&&e.key||r||cO()})}function hd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Aa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function hO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,u=bi.Pop,c=null,d=f();d==null&&(d=0,a.replaceState(Eu({},a.state,{idx:d}),""));function f(){return(a.state||{idx:null}).idx}function m(){u=bi.Pop;let x=f(),T=x==null?null:x-d;d=x,c&&c({action:u,location:P.location,delta:T})}function v(x,T){u=bi.Push;let w=Og(P.location,x,T);n&&n(w,x),d=f()+1;let S=mE(w,d),D=P.createHref(w);try{a.pushState(S,"",D)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(D)}o&&c&&c({action:u,location:P.location,delta:1})}function y(x,T){u=bi.Replace;let w=Og(P.location,x,T);n&&n(w,x),d=f();let S=mE(w,d),D=P.createHref(w);a.replaceState(S,"",D),o&&c&&c({action:u,location:P.location,delta:0})}function E(x){let T=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:hd(x);return _t(T,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,T)}let P={get action(){return u},get location(){return t(i,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(pE,m),c=x,()=>{i.removeEventListener(pE,m),c=null}},createHref(x){return e(i,x)},createURL:E,encodeLocation(x){let T=E(x);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:y,go(x){return a.go(x)}};return P}var gE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(gE||(gE={}));function dO(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Aa(e):e,i=S_(r.pathname||"/",n);if(i==null)return null;let o=WS(t);fO(o);let a=null;for(let u=0;a==null&&u<o.length;++u)a=TO(o[u],CO(i));return a}function WS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(_t(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Wi([r,c.relativePath]),f=n.concat(c);o.children&&o.children.length>0&&(_t(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),WS(o.children,e,f,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:wO(d,o.index),routesMeta:f})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,a);else for(let c of HS(o.path))i(o,a,c)}),e}function HS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=HS(r.join("/")),u=[];return u.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function fO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:EO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pO=/^:\w+$/,mO=3,gO=2,vO=1,_O=10,yO=-2,vE=t=>t==="*";function wO(t,e){let n=t.split("/"),r=n.length;return n.some(vE)&&(r+=yO),e&&(r+=gO),n.filter(i=>!vE(i)).reduce((i,o)=>i+(pO.test(o)?mO:o===""?vO:_O),r)}function EO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function TO(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let a=0;a<n.length;++a){let u=n[a],c=a===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=PO({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d);if(!f)return null;Object.assign(r,f.params);let m=u.route;o.push({params:r,pathname:Wi([i,f.pathname]),pathnameBase:DO(Wi([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Wi([i,f.pathnameBase]))}return o}function PO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=SO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,f,m)=>{if(f==="*"){let v=u[m]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}return d[f]=IO(u[m]||"",f),d},{}),pathname:o,pathnameBase:a,pattern:t}}function SO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),P_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,u)=>(r.push(u),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function CO(t){try{return decodeURI(t)}catch(e){return P_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function IO(t,e){try{return decodeURIComponent(t)}catch(n){return P_(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function S_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function kO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Aa(t):t;return{pathname:n?n.startsWith("/")?n:xO(n,e):e,search:AO(r),hash:RO(i)}}function xO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function im(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function C_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function I_(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Aa(t):(i=Eu({},t),_t(!i.pathname||!i.pathname.includes("?"),im("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),im("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),im("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,u;if(r||a==null)u=n;else{let m=e.length-1;if(a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}u=m>=0?e[m]:"/"}let c=kO(i,u),d=a&&a!=="/"&&a.endsWith("/"),f=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const Wi=t=>t.join("/").replace(/\/\/+/g,"/"),DO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const YS=["post","put","patch","delete"];new Set(YS);const OO=["get",...YS];new Set(OO);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dd.apply(this,arguments)}const k_=R.createContext(null),qS=R.createContext(null),es=R.createContext(null),pf=R.createContext(null),jr=R.createContext({outlet:null,matches:[],isDataRoute:!1}),KS=R.createContext(null);function MO(t,e){let{relative:n}=e===void 0?{}:e;Ra()||_t(!1);let{basename:r,navigator:i}=R.useContext(es),{hash:o,pathname:a,search:u}=x_(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Wi([r,a])),i.createHref({pathname:c,search:u,hash:o})}function Ra(){return R.useContext(pf)!=null}function ts(){return Ra()||_t(!1),R.useContext(pf).location}function ZS(t){R.useContext(es).static||R.useLayoutEffect(t)}function ao(){let{isDataRoute:t}=R.useContext(jr);return t?GO():LO()}function LO(){Ra()||_t(!1);let t=R.useContext(k_),{basename:e,navigator:n}=R.useContext(es),{matches:r}=R.useContext(jr),{pathname:i}=ts(),o=JSON.stringify(C_(r).map(c=>c.pathnameBase)),a=R.useRef(!1);return ZS(()=>{a.current=!0}),R.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let f=I_(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Wi([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,o,i,t])}const NO=R.createContext(null);function VO(t){let e=R.useContext(jr).outlet;return e&&R.createElement(NO.Provider,{value:t},e)}function FO(){let{matches:t}=R.useContext(jr),e=t[t.length-1];return e?e.params:{}}function x_(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=R.useContext(jr),{pathname:i}=ts(),o=JSON.stringify(C_(r).map(a=>a.pathnameBase));return R.useMemo(()=>I_(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function UO(t,e){return BO(t,e)}function BO(t,e,n){Ra()||_t(!1);let{navigator:r}=R.useContext(es),{matches:i}=R.useContext(jr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=ts(),d;if(e){var f;let P=typeof e=="string"?Aa(e):e;u==="/"||(f=P.pathname)!=null&&f.startsWith(u)||_t(!1),d=P}else d=c;let m=d.pathname||"/",v=u==="/"?m:m.slice(u.length)||"/",y=dO(t,{pathname:v}),E=HO(y&&y.map(P=>Object.assign({},P,{params:Object.assign({},a,P.params),pathname:Wi([u,r.encodeLocation?r.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?u:Wi([u,r.encodeLocation?r.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),i,n);return e&&E?R.createElement(pf.Provider,{value:{location:dd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:bi.Pop}},E):E}function $O(){let t=ZO(),e=bO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,o)}const jO=R.createElement($O,null);class zO extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?R.createElement(jr.Provider,{value:this.props.routeContext},R.createElement(KS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WO(t){let{routeContext:e,match:n,children:r}=t,i=R.useContext(k_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(jr.Provider,{value:e},r)}function HO(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let u=o.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id]));u>=0||_t(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((u,c,d)=>{let f=c.route.id?a==null?void 0:a[c.route.id]:null,m=null;n&&(m=c.route.errorElement||jO);let v=e.concat(o.slice(0,d+1)),y=()=>{let E;return f?E=m:c.route.Component?E=R.createElement(c.route.Component,null):c.route.element?E=c.route.element:E=u,R.createElement(WO,{match:c,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:E})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?R.createElement(zO,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var GS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(GS||{}),fd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fd||{});function YO(t){let e=R.useContext(k_);return e||_t(!1),e}function qO(t){let e=R.useContext(qS);return e||_t(!1),e}function KO(t){let e=R.useContext(jr);return e||_t(!1),e}function QS(t){let e=KO(),n=e.matches[e.matches.length-1];return n.route.id||_t(!1),n.route.id}function ZO(){var t;let e=R.useContext(KS),n=qO(fd.UseRouteError),r=QS(fd.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function GO(){let{router:t}=YO(GS.UseNavigateStable),e=QS(fd.UseNavigateStable),n=R.useRef(!1);return ZS(()=>{n.current=!0}),R.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,dd({fromRouteId:e},o)))},[t,e])}function XS(t){let{to:e,replace:n,state:r,relative:i}=t;Ra()||_t(!1);let{matches:o}=R.useContext(jr),{pathname:a}=ts(),u=ao(),c=I_(e,C_(o).map(f=>f.pathnameBase),a,i==="path"),d=JSON.stringify(c);return R.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function QO(t){return VO(t.context)}function xn(t){_t(!1)}function XO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=bi.Pop,navigator:o,static:a=!1}=t;Ra()&&_t(!1);let u=e.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:u,navigator:o,static:a}),[u,o,a]);typeof r=="string"&&(r=Aa(r));let{pathname:d="/",search:f="",hash:m="",state:v=null,key:y="default"}=r,E=R.useMemo(()=>{let P=S_(d,u);return P==null?null:{location:{pathname:P,search:f,hash:m,state:v,key:y},navigationType:i}},[u,d,f,m,v,y,i]);return E==null?null:R.createElement(es.Provider,{value:c},R.createElement(pf.Provider,{children:n,value:E}))}function JO(t){let{children:e,location:n}=t;return UO(Mg(e),n)}new Promise(()=>{});function Mg(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let o=[...e,i];if(r.type===R.Fragment){n.push.apply(n,Mg(r.props.children,o));return}r.type!==xn&&_t(!1),!r.props.index||!r.props.children||_t(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Mg(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pd(){return pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pd.apply(this,arguments)}function JS(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function eM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tM(t,e){return t.button===0&&(!e||e==="_self")&&!eM(t)}function Lg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function nM(t,e){let n=Lg(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}const rM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],iM=["aria-current","caseSensitive","className","end","style","to","children"],oM="startTransition",_E=XA[oM];function sM(t){let{basename:e,children:n,future:r,window:i}=t,o=R.useRef();o.current==null&&(o.current=uO({window:i,v5Compat:!0}));let a=o.current,[u,c]=R.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},f=R.useCallback(m=>{d&&_E?_E(()=>c(m)):c(m)},[c,d]);return R.useLayoutEffect(()=>a.listen(f),[a,f]),R.createElement(XO,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:a})}const aM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ba=R.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:u,target:c,to:d,preventScrollReset:f}=e,m=JS(e,rM),{basename:v}=R.useContext(es),y,E=!1;if(typeof d=="string"&&lM.test(d)&&(y=d,aM))try{let w=new URL(window.location.href),S=d.startsWith("//")?new URL(w.protocol+d):new URL(d),D=S_(S.pathname,v);S.origin===w.origin&&D!=null?d=D+S.search+S.hash:E=!0}catch{}let P=MO(d,{relative:i}),x=uM(d,{replace:a,state:u,target:c,preventScrollReset:f,relative:i});function T(w){r&&r(w),w.defaultPrevented||x(w)}return R.createElement("a",pd({},m,{href:y||P,onClick:E||o?r:T,ref:n,target:c}))}),Hl=R.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:a=!1,style:u,to:c,children:d}=e,f=JS(e,iM),m=x_(c,{relative:f.relative}),v=ts(),y=R.useContext(qS),{navigator:E}=R.useContext(es),P=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,x=v.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(x=x.toLowerCase(),T=T?T.toLowerCase():null,P=P.toLowerCase());let w=x===P||!a&&x.startsWith(P)&&x.charAt(P.length)==="/",S=T!=null&&(T===P||!a&&T.startsWith(P)&&T.charAt(P.length)==="/"),D=w?r:void 0,O;typeof o=="function"?O=o({isActive:w,isPending:S}):O=[o,w?"active":null,S?"pending":null].filter(Boolean).join(" ");let V=typeof u=="function"?u({isActive:w,isPending:S}):u;return R.createElement(ba,pd({},f,{"aria-current":D,className:O,ref:n,style:V,to:c}),typeof d=="function"?d({isActive:w,isPending:S}):d)});var yE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(yE||(yE={}));var wE;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wE||(wE={}));function uM(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a}=e===void 0?{}:e,u=ao(),c=ts(),d=x_(t,{relative:a});return R.useCallback(f=>{if(tM(f,n)){f.preventDefault();let m=r!==void 0?r:hd(c)===hd(d);u(t,{replace:m,state:i,preventScrollReset:o,relative:a})}},[c,u,d,r,i,n,t,o,a])}function cM(t){let e=R.useRef(Lg(t)),n=R.useRef(!1),r=ts(),i=R.useMemo(()=>nM(r.search,n.current?null:e.current),[r.search]),o=ao(),a=R.useCallback((u,c)=>{const d=Lg(typeof u=="function"?u(i):u);n.current=!0,o("?"+d,c)},[o,i]);return[i,a]}const hM="_nav_16r3n_1",dM="_ctaLink_16r3n_28",om={nav:hM,ctaLink:dM},fM="_logo_7b2ls_1",pM={logo:fM};function eC(){return A.jsx(ba,{to:"/",children:A.jsx("img",{src:"/logo.png",alt:"WorldWise logo",className:pM.logo})})}var tC={exports:{}},mM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gM=mM,vM=gM;function nC(){}function rC(){}rC.resetWarningCache=nC;var _M=function(){function t(r,i,o,a,u,c){if(c!==vM){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:rC,resetWarningCache:nC};return n.PropTypes=n,n};tC.exports=_M();var yM=tC.exports;const Ot=Ia(yM);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},oC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,f=o>>2,m=(o&3)<<4|u>>4;let v=(u&15)<<2|d>>6,y=d&63;c||(y=64,a||(v=64)),r.push(n[f],n[m],n[v],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||d==null||m==null)throw new EM;const v=o<<2|u>>4;if(r.push(v),d!==64){const y=u<<4&240|d>>2;if(r.push(y),m!==64){const E=d<<6&192|m;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class EM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TM=function(t){const e=iC(t);return oC.encodeByteArray(e,!0)},md=function(t){return TM(t).replace(/\./g,"")},sC=function(t){try{return oC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=()=>PM().__FIREBASE_DEFAULTS__,CM=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sC(t[1]);return e&&JSON.parse(e)},D_=()=>{try{return SM()||CM()||IM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aC=t=>{var e,n;return(n=(e=D_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kM=t=>{const e=aC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lC=()=>{var t;return(t=D_())===null||t===void 0?void 0:t.config},uC=t=>{var e;return(e=D_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[md(JSON.stringify(n)),md(JSON.stringify(a)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function RM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OM(){const t=ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MM(){try{return typeof indexedDB=="object"}catch{return!1}}function LM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="FirebaseError";class pi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NM,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?VM(o,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new pi(i,u,r)}}function VM(t,e){return t.replace(FM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const FM=/\{\$([^}]+)}/g;function UM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(EE(o)&&EE(a)){if(!gd(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function EE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Dl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function BM(t,e){const n=new $M(t,e);return n.subscribe.bind(n)}class $M{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=sm),i.error===void 0&&(i.error=sm),i.complete===void 0&&(i.complete=sm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t){return t&&t._delegate?t._delegate:t}class jo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HM(e))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Po){return this.instances.has(e)}getOptions(e=Po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Po){return this.component?this.component.multipleInstances?e:Po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WM(t){return t===Po?void 0:t}function HM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const qM={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},KM=xe.INFO,ZM={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},GM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ZM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class A_{constructor(e){this.name=e,this._logLevel=KM,this._logHandler=GM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const QM=(t,e)=>e.some(n=>t instanceof n);let TE,PE;function XM(){return TE||(TE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JM(){return PE||(PE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cC=new WeakMap,Ng=new WeakMap,hC=new WeakMap,am=new WeakMap,R_=new WeakMap;function eL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Hi(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&cC.set(n,t)}).catch(()=>{}),R_.set(e,t),e}function tL(t){if(Ng.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Ng.set(t,e)}let Vg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ng.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nL(t){Vg=t(Vg)}function rL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lm(this),e,...n);return hC.set(r,e.sort?e.sort():[e]),Hi(r)}:JM().includes(t)?function(...e){return t.apply(lm(this),e),Hi(cC.get(this))}:function(...e){return Hi(t.apply(lm(this),e))}}function iL(t){return typeof t=="function"?rL(t):(t instanceof IDBTransaction&&tL(t),QM(t,XM())?new Proxy(t,Vg):t)}function Hi(t){if(t instanceof IDBRequest)return eL(t);if(am.has(t))return am.get(t);const e=iL(t);return e!==t&&(am.set(t,e),R_.set(e,t)),e}const lm=t=>R_.get(t);function oL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),u=Hi(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Hi(a.result),c.oldVersion,c.newVersion,Hi(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const sL=["get","getKey","getAll","getAllKeys","count"],aL=["put","add","delete","clear"],um=new Map;function SE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(um.get(e))return um.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=aL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sL.includes(n)))return;const o=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&c.done]))[0]};return um.set(e,o),o}nL(t=>({...t,get:(e,n,r)=>SE(e,n)||t.get(e,n,r),has:(e,n)=>!!SE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fg="@firebase/app",CE="0.9.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new A_("@firebase/app"),cL="@firebase/app-compat",hL="@firebase/analytics-compat",dL="@firebase/analytics",fL="@firebase/app-check-compat",pL="@firebase/app-check",mL="@firebase/auth",gL="@firebase/auth-compat",vL="@firebase/database",_L="@firebase/database-compat",yL="@firebase/functions",wL="@firebase/functions-compat",EL="@firebase/installations",TL="@firebase/installations-compat",PL="@firebase/messaging",SL="@firebase/messaging-compat",CL="@firebase/performance",IL="@firebase/performance-compat",kL="@firebase/remote-config",xL="@firebase/remote-config-compat",DL="@firebase/storage",AL="@firebase/storage-compat",RL="@firebase/firestore",bL="@firebase/firestore-compat",OL="firebase",ML="10.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="[DEFAULT]",LL={[Fg]:"fire-core",[cL]:"fire-core-compat",[dL]:"fire-analytics",[hL]:"fire-analytics-compat",[pL]:"fire-app-check",[fL]:"fire-app-check-compat",[mL]:"fire-auth",[gL]:"fire-auth-compat",[vL]:"fire-rtdb",[_L]:"fire-rtdb-compat",[yL]:"fire-fn",[wL]:"fire-fn-compat",[EL]:"fire-iid",[TL]:"fire-iid-compat",[PL]:"fire-fcm",[SL]:"fire-fcm-compat",[CL]:"fire-perf",[IL]:"fire-perf-compat",[kL]:"fire-rc",[xL]:"fire-rc-compat",[DL]:"fire-gcs",[AL]:"fire-gcs-compat",[RL]:"fire-fst",[bL]:"fire-fst-compat","fire-js":"fire-js",[OL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=new Map,Bg=new Map;function NL(t,e){try{t.container.addComponent(e)}catch(n){zo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ua(t){const e=t.name;if(Bg.has(e))return zo.debug(`There were multiple attempts to register component ${e}.`),!1;Bg.set(e,t);for(const n of vd.values())NL(n,t);return!0}function b_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Yi=new Qu("app","Firebase",VL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=ML;function dC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ug,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yi.create("bad-app-name",{appName:String(i)});if(n||(n=lC()),!n)throw Yi.create("no-options");const o=vd.get(i);if(o){if(gd(n,o.options)&&gd(r,o.config))return o;throw Yi.create("duplicate-app",{appName:i})}const a=new YM(i);for(const c of Bg.values())a.addComponent(c);const u=new FL(n,r,a);return vd.set(i,u),u}function fC(t=Ug){const e=vd.get(t);if(!e&&t===Ug&&lC())return dC();if(!e)throw Yi.create("no-app",{appName:t});return e}function qi(t,e,n){var r;let i=(r=LL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zo.warn(u.join(" "));return}ua(new jo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL="firebase-heartbeat-database",BL=1,Tu="firebase-heartbeat-store";let cm=null;function pC(){return cm||(cm=oL(UL,BL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Tu)}}}).catch(t=>{throw Yi.create("idb-open",{originalErrorMessage:t.message})})),cm}async function $L(t){try{return await(await pC()).transaction(Tu).objectStore(Tu).get(mC(t))}catch(e){if(e instanceof pi)zo.warn(e.message);else{const n=Yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zo.warn(n.message)}}}async function IE(t,e){try{const r=(await pC()).transaction(Tu,"readwrite");await r.objectStore(Tu).put(e,mC(t)),await r.done}catch(n){if(n instanceof pi)zo.warn(n.message);else{const r=Yi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zo.warn(r.message)}}}function mC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=1024,zL=30*24*60*60*1e3;class WL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=zL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=kE(),{heartbeatsToSend:n,unsentEntries:r}=HL(this._heartbeatsCache.heartbeats),i=md(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function kE(){return new Date().toISOString().substring(0,10)}function HL(t,e=jL){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),xE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class YL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MM()?LM().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await $L(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return IE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return IE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function xE(t){return md(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t){ua(new jo("platform-logger",e=>new lL(e),"PRIVATE")),ua(new jo("heartbeat",e=>new WL(e),"PRIVATE")),qi(Fg,CE,t),qi(Fg,CE,"esm2017"),qi("fire-js","")}qL("");var KL="firebase",ZL="10.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi(KL,ZL,"app");function O_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function DE(t){return t!==void 0&&t.enterprise!==void 0}class GL{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function gC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QL=gC,vC=new Qu("auth","Firebase",gC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new A_("@firebase/auth");function XL(t,...e){_d.logLevel<=xe.WARN&&_d.warn(`Auth (${Oa}): ${t}`,...e)}function Dh(t,...e){_d.logLevel<=xe.ERROR&&_d.error(`Auth (${Oa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,...e){throw M_(t,...e)}function br(t,...e){return M_(t,...e)}function JL(t,e,n){const r=Object.assign(Object.assign({},QL()),{[e]:n});return new Qu("auth","Firebase",r).create(e,{appName:t.name})}function M_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vC.create(t,...e)}function ce(t,e,...n){if(!t)throw M_(e,...n)}function Jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dh(e),new Error(e)}function li(t,e){t||Jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function eN(){return AE()==="http:"||AE()==="https:"}function AE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eN()||RM()||"connection"in navigator)?navigator.onLine:!0}function nN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=AM()||bM()}get(){return tN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t,e){li(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new Ju(3e4,6e4);function ns(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function rs(t,e,n,r,i={}){return yC(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const u=Xu(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),_C.fetch()(wC(t,t.config.apiHost,n,u),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))})}async function yC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},rN),e);try{const i=new oN(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw rh(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const u=o.ok?a.errorMessage:a.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw rh(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw rh(t,"user-disabled",a);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw JL(t,f,d);dr(t,f)}}catch(i){if(i instanceof pi)throw i;dr(t,"network-request-failed",{message:String(i)})}}async function ec(t,e,n,r,i={}){const o=await rs(t,e,n,r,i);return"mfaPendingCredential"in o&&dr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function wC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?L_(t.config,i):`${t.config.apiScheme}://${i}`}class oN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(br(this.auth,"network-request-failed")),iN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=br(t,e,r);return i.customData._tokenResponse=n,i}async function sN(t,e){return rs(t,"GET","/v2/recaptchaConfig",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(t,e){return rs(t,"POST","/v1/accounts:delete",e)}async function lN(t,e){return rs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uN(t,e=!1){const n=Kt(t),r=await n.getIdToken(e),i=N_(r);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Yl(hm(i.auth_time)),issuedAtTime:Yl(hm(i.iat)),expirationTime:Yl(hm(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function hm(t){return Number(t)*1e3}function N_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dh("JWT malformed, contained fewer than 3 sections"),null;try{const i=sC(n);return i?JSON.parse(i):(Dh("Failed to decode base64 JWT payload"),null)}catch(i){return Dh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function cN(t){const e=N_(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof pi&&hN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Pu(t,lN(n,{idToken:r}));ce(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?mN(o.providerUserInfo):[],u=pN(t.providerData,a),c=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),f=c?d:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new EC(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function fN(t){const e=Kt(t);await yd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mN(t){return t.map(e=>{var{providerId:n}=e,r=O_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(t,e){const n=await yC(t,{},async()=>{const r=Xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=wC(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",_C.fetch()(a,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ce(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await gN(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Su;return r&&(ce(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(ce(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Su,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Oo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=O_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new EC(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Pu(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uN(this,e)}reload(){return fN(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Oo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Pu(this,aN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,u,c,d,f;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,E=(a=n.photoURL)!==null&&a!==void 0?a:void 0,P=(u=n.tenantId)!==null&&u!==void 0?u:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(d=n.createdAt)!==null&&d!==void 0?d:void 0,w=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:S,emailVerified:D,isAnonymous:O,providerData:V,stsTokenManager:F}=n;ce(S&&F,e,"internal-error");const H=Su.fromJSON(this.name,F);ce(typeof S=="string",e,"internal-error"),yi(m,e.name),yi(v,e.name),ce(typeof D=="boolean",e,"internal-error"),ce(typeof O=="boolean",e,"internal-error"),yi(y,e.name),yi(E,e.name),yi(P,e.name),yi(x,e.name),yi(T,e.name),yi(w,e.name);const te=new Oo({uid:S,auth:e,email:v,emailVerified:D,displayName:m,isAnonymous:O,photoURL:E,phoneNumber:y,tenantId:P,stsTokenManager:H,createdAt:T,lastLoginAt:w});return V&&Array.isArray(V)&&(te.providerData=V.map(K=>Object.assign({},K))),x&&(te._redirectEventId=x),te}static async _fromIdTokenResponse(e,n,r=!1){const i=new Su;i.updateFromServerResponse(n);const o=new Oo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await yd(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;function ei(t){li(t instanceof Function,"Expected a class definition");let e=RE.get(t);return e?(li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TC.type="NONE";const bE=TC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t,e,n){return`firebase:${t}:${e}:${n}`}class Qs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ah(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ah("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Oo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qs(ei(bE),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||ei(bE);const a=Ah(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const f=await d._get(a);if(f){const m=Oo._fromJSON(e,f);d!==o&&(u=m),o=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Qs(o,e,r):(o=c[0],u&&await o._set(a,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(a)}catch{}})),new Qs(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kC(e))return"Blackberry";if(xC(e))return"Webos";if(V_(e))return"Safari";if((e.includes("chrome/")||SC(e))&&!e.includes("edge/"))return"Chrome";if(IC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PC(t=ln()){return/firefox\//i.test(t)}function V_(t=ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SC(t=ln()){return/crios\//i.test(t)}function CC(t=ln()){return/iemobile/i.test(t)}function IC(t=ln()){return/android/i.test(t)}function kC(t=ln()){return/blackberry/i.test(t)}function xC(t=ln()){return/webos/i.test(t)}function mf(t=ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vN(t=ln()){var e;return mf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _N(){return OM()&&document.documentMode===10}function DC(t=ln()){return mf(t)||IC(t)||xC(t)||kC(t)||/windows phone/i.test(t)||CC(t)}function yN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(t,e=[]){let n;switch(t){case"Browser":n=OE(ln());break;case"Worker":n=`${OE(ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,u)=>{try{const c=e(o);a(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(t,e={}){return rs(t,"GET","/v2/passwordPolicy",ns(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=6;class PN{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:TN,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ME(this),this.idTokenSubscription=new ME(this),this.beforeStateQueue=new wN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ei(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Qs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Kt(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await EN(this),n=new PN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ei(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Qs.create(this,[ei(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(u,this,"internal-error"),u.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&XL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function is(t){return Kt(t)}class ME{constructor(e){this.auth=e,this.observer=null,this.addObserver=BM(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function RC(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=br("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",CN().appendChild(r)})}function IN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const kN="https://www.google.com/recaptcha/enterprise.js?render=",xN="recaptcha-enterprise",DN="NO_RECAPTCHA";class AN{constructor(e){this.type=xN,this.auth=is(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,u)=>{sN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new GL(c);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,a(d.siteKey)}}).catch(c=>{u(c)})})}function i(o,a,u){const c=window.grecaptcha;DE(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(d=>{a(d)}).catch(()=>{a(DN)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{r(this.auth).then(u=>{if(!n&&DE(window.grecaptcha))i(u,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}RC(kN+u).then(()=>{i(u,o,a)}).catch(c=>{a(c)})}}).catch(u=>{a(u)})})}}async function wd(t,e,n,r=!1){const i=new AN(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t,e){const n=b_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(gd(o,e??{}))return i;dr(i,"already-initialized")}return n.initialize({options:e})}function bN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ei);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ON(t,e,n){const r=is(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=bC(e),{host:a,port:u}=MN(e),c=u===null?"":`:${u}`;r.config.emulator={url:`${o}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||LN()}function bC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function MN(t){const e=bC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:LE(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:LE(a)}}}function LE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,n){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}async function NN(t,e){return rs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dm(t,e){return ec(t,"POST","/v1/accounts:signInWithPassword",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(t,e){return ec(t,"POST","/v1/accounts:signInWithEmailLink",ns(t,e))}async function FN(t,e){return ec(t,"POST","/v1/accounts:signInWithEmailLink",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends F_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Cu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Cu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await wd(e,r,"signInWithPassword");return dm(e,i)}else return dm(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await wd(e,r,"signInWithPassword");return dm(e,o)}else return Promise.reject(i)});case"emailLink":return VN(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return NN(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return FN(e,{idToken:n,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xs(t,e){return ec(t,"POST","/v1/accounts:signInWithIdp",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="http://localhost";class Wo extends F_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=O_(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Wo(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Xs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xs(e,n)}buildRequest(){const e={requestUri:UN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $N(t){const e=xl(Dl(t)).link,n=e?xl(Dl(e)).deep_link_id:null,r=xl(Dl(t)).deep_link_id;return(r?xl(Dl(r)).link:null)||r||n||e||t}class U_{constructor(e){var n,r,i,o,a,u;const c=xl(Dl(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,f=(r=c.oobCode)!==null&&r!==void 0?r:null,m=BN((i=c.mode)!==null&&i!==void 0?i:null);ce(d&&f&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=f,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=$N(e);try{return new U_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.providerId=Ma.PROVIDER_ID}static credential(e,n){return Cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=U_.parseLink(n);return ce(r,"argument-error"),Cu._fromEmailAndCode(e,r.code,r.tenantId)}}Ma.PROVIDER_ID="password";Ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends OC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends tc{constructor(){super("facebook.com")}static credential(e){return Wo._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends tc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wo._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ki.credential(n,r)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends tc{constructor(){super("github.com")}static credential(e){return Wo._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends tc{constructor(){super("twitter.com")}static credential(e,n){return Wo._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Di.credential(n,r)}catch{return null}}}Di.TWITTER_SIGN_IN_METHOD="twitter.com";Di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fm(t,e){return ec(t,"POST","/v1/accounts:signUp",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Oo._fromIdTokenResponse(e,r,i),a=NE(r);return new Ho({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=NE(r);return new Ho({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function NE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends pi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ed.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ed(e,n,r,i)}}function MC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ed._fromErrorAndOperation(t,o,e,r):o})}async function jN(t,e,n=!1){const r=await Pu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ho._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await Pu(t,MC(r,i,e,t),n);ce(o.idToken,r,"internal-error");const a=N_(o.idToken);ce(a,r,"internal-error");const{sub:u}=a;return ce(t.uid===u,r,"user-mismatch"),Ho._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&dr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(t,e,n=!1){const r="signIn",i=await MC(t,r,e),o=await Ho._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function WN(t,e){return LC(is(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(t){const e=is(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HN(t,e,n){var r;const i=is(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const d=await wd(i,o,"signUpPassword");a=fm(i,d)}else a=fm(i,o).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const f=await wd(i,o,"signUpPassword");return fm(i,f)}throw d});const u=await a.catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&NC(t),d}),c=await Ho._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(c.user),c}function YN(t,e,n){return WN(Kt(t),Ma.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&NC(t),r})}function qN(t,e,n,r){return Kt(t).onIdTokenChanged(e,n,r)}function KN(t,e,n){return Kt(t).beforeAuthStateChanged(e,n)}function ZN(t,e,n,r){return Kt(t).onAuthStateChanged(e,n,r)}function GN(t){return Kt(t).signOut()}const Td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Td,"1"),this.storage.removeItem(Td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(){const t=ln();return V_(t)||mf(t)}const XN=1e3,JN=10;class FC extends VC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=QN()&&yN(),this.fallbackToPolling=DC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);_N()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,JN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FC.type="LOCAL";const e2=FC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC extends VC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UC.type="SESSION";const BC=UC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new gf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async d=>d(n.origin,o)),c=await t2(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const d=B_("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(f),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return window}function r2(t){Or().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}async function i2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function o2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function s2(){return $C()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="firebaseLocalStorageDb",a2=1,Pd="firebaseLocalStorage",zC="fbase_key";class nc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vf(t,e){return t.transaction([Pd],e?"readwrite":"readonly").objectStore(Pd)}function l2(){const t=indexedDB.deleteDatabase(jC);return new nc(t).toPromise()}function jg(){const t=indexedDB.open(jC,a2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pd,{keyPath:zC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pd)?e(r):(r.close(),await l2(),e(await jg()))})})}async function VE(t,e,n){const r=vf(t,!0).put({[zC]:e,value:n});return new nc(r).toPromise()}async function u2(t,e){const n=vf(t,!1).get(e),r=await new nc(n).toPromise();return r===void 0?null:r.value}function FE(t,e){const n=vf(t,!0).delete(e);return new nc(n).toPromise()}const c2=800,h2=3;class WC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>h2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $C()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gf._getInstance(s2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await i2(),!this.activeServiceWorker)return;this.sender=new n2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||o2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jg();return await VE(e,Td,"1"),await FE(e,Td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>VE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>u2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>FE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=vf(i,!1).getAll();return new nc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),c2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WC.type="LOCAL";const d2=WC;new Ju(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t,e){return e?ei(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_ extends F_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function p2(t){return LC(t.auth,new $_(t),t.bypassAuthState)}function m2(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),zN(n,new $_(t),t.bypassAuthState)}async function g2(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),jN(n,new $_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p2;case"linkViaPopup":case"linkViaRedirect":return g2;case"reauthViaPopup":case"reauthViaRedirect":return m2;default:dr(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new Ju(2e3,1e4);class $s extends HC{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=B_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,v2.get())};e()}}$s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="pendingRedirect",Rh=new Map;class y2 extends HC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const r=await w2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w2(t,e){const n=P2(e),r=T2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function E2(t,e){Rh.set(t._key(),e)}function T2(t){return ei(t._redirectPersistence)}function P2(t){return Ah(_2,t.config.apiKey,t.name)}async function S2(t,e,n=!1){const r=is(t),i=f2(r,e),a=await new y2(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=10*60*1e3;class I2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(br(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C2&&this.cachedEventUids.clear(),this.cachedEventUids.has(UE(e))}saveEventToCache(e){this.cachedEventUids.add(UE(e)),this.lastProcessedEventTime=Date.now()}}function UE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function k2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(t,e={}){return rs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A2=/^https?/;async function R2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await x2(t);for(const n of e)try{if(b2(n))return}catch{}dr(t,"unauthorized-domain")}function b2(t){const e=$g(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!A2.test(n))return!1;if(D2.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=new Ju(3e4,6e4);function BE(){const t=Or().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function M2(t){return new Promise((e,n)=>{var r,i,o;function a(){BE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BE(),n(br(t,"network-request-failed"))},timeout:O2.get()})}if(!((i=(r=Or().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Or().gapi)===null||o===void 0)&&o.load)a();else{const u=IN("iframefcb");return Or()[u]=()=>{gapi.load?a():n(br(t,"network-request-failed"))},RC(`https://apis.google.com/js/api.js?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw bh=null,e})}let bh=null;function L2(t){return bh=bh||M2(t),bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new Ju(5e3,15e3),V2="__/auth/iframe",F2="emulator/auth/iframe",U2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},B2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $2(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?L_(e,F2):`https://${t.config.authDomain}/${V2}`,r={apiKey:e.apiKey,appName:t.name,v:Oa},i=B2.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Xu(r).slice(1)}`}async function j2(t){const e=await L2(t),n=Or().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:$2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U2,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=br(t,"network-request-failed"),u=Or().setTimeout(()=>{o(a)},N2.get());function c(){Or().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},W2=500,H2=600,Y2="_blank",q2="http://localhost";class $E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K2(t,e,n,r=W2,i=H2){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},z2),{width:r.toString(),height:i.toString(),top:o,left:a}),d=ln().toLowerCase();n&&(u=SC(d)?Y2:n),PC(d)&&(e=e||q2,c.scrollbars="yes");const f=Object.entries(c).reduce((v,[y,E])=>`${v}${y}=${E},`,"");if(vN(d)&&u!=="_self")return Z2(e||"",u),new $E(null);const m=window.open(e||"",u,f);ce(m,t,"popup-blocked");try{m.focus()}catch{}return new $E(m)}function Z2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="__/auth/handler",Q2="emulator/auth/handler",X2=encodeURIComponent("fac");async function jE(t,e,n,r,i,o){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Oa,eventId:i};if(e instanceof OC){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",UM(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries(o||{}))a[f]=m}if(e instanceof tc){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const f of Object.keys(u))u[f]===void 0&&delete u[f];const c=await t._getAppCheckToken(),d=c?`#${X2}=${encodeURIComponent(c)}`:"";return`${J2(t)}?${Xu(u).slice(1)}${d}`}function J2({config:t}){return t.emulator?L_(t,Q2):`https://${t.authDomain}/${G2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="webStorageSupport";class eV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BC,this._completeRedirectFn=S2,this._overrideRedirectResult=E2}async _openPopup(e,n,r,i){var o;li((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await jE(e,n,r,$g(),i);return K2(e,a,B_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await jE(e,n,r,$g(),i);return r2(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(li(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await j2(e),r=new I2(e);return n.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pm,{type:pm},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[pm];a!==void 0&&n(!!a),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=R2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DC()||V_()||mf()}}const tV=eV;var zE="@firebase/auth",WE="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function iV(t){ua(new jo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;ce(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AC(t)},d=new SN(r,i,o,c);return bN(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ua(new jo("auth-internal",e=>{const n=is(e.getProvider("auth").getImmediate());return(r=>new nV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qi(zE,WE,rV(t)),qi(zE,WE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=5*60,sV=uC("authIdTokenMaxAge")||oV;let HE=null;const aV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sV)return;const i=n==null?void 0:n.token;HE!==i&&(HE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lV(t=fC()){const e=b_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=RN(t,{popupRedirectResolver:tV,persistence:[d2,e2,BC]}),r=uC("authTokenSyncURL");if(r){const o=aV(r);KN(n,o,()=>o(n.currentUser)),qN(n,a=>o(a))}const i=aC("auth");return i&&ON(n,`http://${i}`),n}iV("Browser");var uV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y,j_=j_||{},pe=uV||self;function _f(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function rc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function cV(t){return Object.prototype.hasOwnProperty.call(t,mm)&&t[mm]||(t[mm]=++hV)}var mm="closure_uid_"+(1e9*Math.random()>>>0),hV=0;function dV(t,e,n){return t.call.apply(t.bind,arguments)}function fV(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function rn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?rn=dV:rn=fV,rn.apply(null,arguments)}function ih(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Nt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return e.prototype[i].apply(r,a)}}function lo(){this.s=this.s,this.o=this.o}var pV=0;lo.prototype.s=!1;lo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),pV!=0)&&cV(this)};lo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function z_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function YE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(_f(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let a=0;a<o;a++)t[i+a]=r[a]}else t.push(r)}}function on(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}on.prototype.h=function(){this.defaultPrevented=!0};var mV=function(){if(!pe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{pe.addEventListener("test",()=>{},e),pe.removeEventListener("test",()=>{},e)}catch{}return t}();function Iu(t){return/^[\s\xa0]*$/.test(t)}function yf(){var t=pe.navigator;return t&&(t=t.userAgent)?t:""}function Cr(t){return yf().indexOf(t)!=-1}function W_(t){return W_[" "](t),t}W_[" "]=function(){};function gV(t,e){var n=lF;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var vV=Cr("Opera"),ca=Cr("Trident")||Cr("MSIE"),KC=Cr("Edge"),zg=KC||ca,ZC=Cr("Gecko")&&!(yf().toLowerCase().indexOf("webkit")!=-1&&!Cr("Edge"))&&!(Cr("Trident")||Cr("MSIE"))&&!Cr("Edge"),_V=yf().toLowerCase().indexOf("webkit")!=-1&&!Cr("Edge");function GC(){var t=pe.document;return t?t.documentMode:void 0}var Wg;e:{var gm="",vm=function(){var t=yf();if(ZC)return/rv:([^\);]+)(\)|;)/.exec(t);if(KC)return/Edge\/([\d\.]+)/.exec(t);if(ca)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(_V)return/WebKit\/(\S+)/.exec(t);if(vV)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(vm&&(gm=vm?vm[1]:""),ca){var _m=GC();if(_m!=null&&_m>parseFloat(gm)){Wg=String(_m);break e}}Wg=gm}var Hg;if(pe.document&&ca){var qE=GC();Hg=qE||parseInt(Wg,10)||void 0}else Hg=void 0;var yV=Hg;function ku(t,e){if(on.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ZC){e:{try{W_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:wV[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ku.$.h.call(this)}}Nt(ku,on);var wV={2:"touch",3:"pen",4:"mouse"};ku.prototype.h=function(){ku.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ic="closure_listenable_"+(1e6*Math.random()|0),EV=0;function TV(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++EV,this.fa=this.ia=!1}function wf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function H_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function PV(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function QC(t){const e={};for(const n in t)e[n]=t[n];return e}const KE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function XC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<KE.length;o++)n=KE[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ef(t){this.src=t,this.g={},this.h=0}Ef.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=qg(t,e,r,i);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new TV(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Yg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=qC(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(wf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function qg(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Y_="closure_lm_"+(1e6*Math.random()|0),ym={};function JC(t,e,n,r,i){if(r&&r.once)return tI(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)JC(t,e[o],n,r,i);return null}return n=Z_(n),t&&t[ic]?t.O(e,n,rc(r)?!!r.capture:!!r,i):eI(t,e,n,!1,r,i)}function eI(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=rc(i)?!!i.capture:!!i,u=K_(t);if(u||(t[Y_]=u=new Ef(t)),n=u.add(e,n,r,a,o),n.proxy)return n;if(r=SV(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)mV||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(rI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function SV(){function t(n){return e.call(t.src,t.listener,n)}const e=CV;return t}function tI(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)tI(t,e[o],n,r,i);return null}return n=Z_(n),t&&t[ic]?t.P(e,n,rc(r)?!!r.capture:!!r,i):eI(t,e,n,!0,r,i)}function nI(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)nI(t,e[o],n,r,i);else r=rc(r)?!!r.capture:!!r,n=Z_(n),t&&t[ic]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=qg(o,n,r,i),-1<n&&(wf(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=K_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=qg(e,n,r,i)),(n=-1<t?e[t]:null)&&q_(n))}function q_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ic])Yg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(rI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=K_(e))?(Yg(n,t),n.h==0&&(n.src=null,e[Y_]=null)):wf(t)}}}function rI(t){return t in ym?ym[t]:ym[t]="on"+t}function CV(t,e){if(t.fa)t=!0;else{e=new ku(e,this);var n=t.listener,r=t.la||t.src;t.ia&&q_(t),t=n.call(r,e)}return t}function K_(t){return t=t[Y_],t instanceof Ef?t:null}var wm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z_(t){return typeof t=="function"?t:(t[wm]||(t[wm]=function(e){return t.handleEvent(e)}),t[wm])}function Lt(){lo.call(this),this.i=new Ef(this),this.S=this,this.J=null}Nt(Lt,lo);Lt.prototype[ic]=!0;Lt.prototype.removeEventListener=function(t,e,n,r){nI(this,t,e,n,r)};function Yt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new on(e,t);else if(e instanceof on)e.target=e.target||t;else{var i=e;e=new on(r,t),XC(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=oh(a,r,!0,e)&&i}if(a=e.g=t,i=oh(a,r,!0,e)&&i,i=oh(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)a=e.g=n[o],i=oh(a,r,!1,e)&&i}Lt.prototype.N=function(){if(Lt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)wf(n[r]);delete t.g[e],t.h--}}this.J=null};Lt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Lt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function oh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.fa&&a.capture==n){var u=a.listener,c=a.la||a.src;a.ia&&Yg(t.i,a),i=u.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var G_=pe.JSON.stringify;class IV{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function kV(){var t=Q_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class xV{constructor(){this.h=this.g=null}add(e,n){const r=iI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var iI=new IV(()=>new DV,t=>t.reset());class DV{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function AV(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function RV(t){pe.setTimeout(()=>{throw t},0)}let xu,Du=!1,Q_=new xV,oI=()=>{const t=pe.Promise.resolve(void 0);xu=()=>{t.then(bV)}};var bV=()=>{for(var t;t=kV();){try{t.h.call(t.g)}catch(n){RV(n)}var e=iI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Du=!1};function Tf(t,e){Lt.call(this),this.h=t||1,this.g=e||pe,this.j=rn(this.qb,this),this.l=Date.now()}Nt(Tf,Lt);Y=Tf.prototype;Y.ga=!1;Y.T=null;Y.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Yt(this,"tick"),this.ga&&(X_(this),this.start()))}};Y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function X_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Y.N=function(){Tf.$.N.call(this),X_(this),delete this.g};function J_(t,e,n){if(typeof t=="function")n&&(t=rn(t,n));else if(t&&typeof t.handleEvent=="function")t=rn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:pe.setTimeout(t,e||0)}function sI(t){t.g=J_(()=>{t.g=null,t.i&&(t.i=!1,sI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class OV extends lo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sI(this)}N(){super.N(),this.g&&(pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Au(t){lo.call(this),this.h=t,this.g={}}Nt(Au,lo);var ZE=[];function aI(t,e,n,r){Array.isArray(n)||(n&&(ZE[0]=n.toString()),n=ZE);for(var i=0;i<n.length;i++){var o=JC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function lI(t){H_(t.g,function(e,n){this.g.hasOwnProperty(n)&&q_(e)},t),t.g={}}Au.prototype.N=function(){Au.$.N.call(this),lI(this)};Au.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Pf(){this.g=!0}Pf.prototype.Ea=function(){this.g=!1};function MV(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var a="",u=o.split("&"),c=0;c<u.length;c++){var d=u[c].split("=");if(1<d.length){var f=d[0];d=d[1];var m=f.split("_");a=2<=m.length&&m[1]=="type"?a+(f+"="+d+"&"):a+(f+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function LV(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+a})}function js(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+VV(t,n)+(r?" "+r:"")})}function NV(t,e){t.info(function(){return"TIMEOUT: "+e})}Pf.prototype.info=function(){};function VV(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return G_(n)}catch{return e}}var os={},GE=null;function Sf(){return GE=GE||new Lt}os.Ta="serverreachability";function uI(t){on.call(this,os.Ta,t)}Nt(uI,on);function Ru(t){const e=Sf();Yt(e,new uI(e))}os.STAT_EVENT="statevent";function cI(t,e){on.call(this,os.STAT_EVENT,t),this.stat=e}Nt(cI,on);function pn(t){const e=Sf();Yt(e,new cI(e,t))}os.Ua="timingevent";function hI(t,e){on.call(this,os.Ua,t),this.size=e}Nt(hI,on);function oc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return pe.setTimeout(function(){t()},e)}var Cf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},dI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ey(){}ey.prototype.h=null;function QE(t){return t.h||(t.h=t.i())}function fI(){}var sc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ty(){on.call(this,"d")}Nt(ty,on);function ny(){on.call(this,"c")}Nt(ny,on);var Kg;function If(){}Nt(If,ey);If.prototype.g=function(){return new XMLHttpRequest};If.prototype.i=function(){return{}};Kg=new If;function ac(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Au(this),this.P=FV,t=zg?125:void 0,this.V=new Tf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new pI}function pI(){this.i=null,this.g="",this.h=!1}var FV=45e3,Zg={},Sd={};Y=ac.prototype;Y.setTimeout=function(t){this.P=t};function Gg(t,e,n){t.L=1,t.v=xf(ui(e)),t.s=n,t.S=!0,mI(t,null)}function mI(t,e){t.G=Date.now(),lc(t),t.A=ui(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),PI(n.i,"t",r),t.C=0,n=t.l.J,t.h=new pI,t.g=WI(t.l,n?e:null,!t.s),0<t.O&&(t.M=new OV(rn(t.Pa,t,t.g),t.O)),aI(t.U,t.g,"readystatechange",t.nb),e=t.I?QC(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ru(),MV(t.j,t.u,t.A,t.m,t.W,t.s)}Y.nb=function(t){t=t.target;const e=this.M;e&&xr(t)==3?e.l():this.Pa(t)};Y.Pa=function(t){try{if(t==this.g)e:{const f=xr(this.g);var e=this.g.Ia();const m=this.g.da();if(!(3>f)&&(f!=3||zg||this.g&&(this.h.h||this.g.ja()||tT(this.g)))){this.J||f!=4||e==7||(e==8||0>=m?Ru(3):Ru(2)),kf(this);var n=this.g.da();this.ca=n;t:if(gI(this)){var r=tT(this.g);t="";var i=r.length,o=xr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xo(this),ql(this);var a="";break t}this.h.i=new pe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,LV(this.j,this.u,this.A,this.m,this.W,f,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Iu(u)){var d=u;break t}}d=null}if(n=d)js(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qg(this,n);else{this.i=!1,this.o=3,pn(12),xo(this),ql(this);break e}}this.S?(vI(this,f,a),zg&&this.i&&f==3&&(aI(this.U,this.V,"tick",this.mb),this.V.start())):(js(this.j,this.m,a,null),Qg(this,a)),f==4&&xo(this),this.i&&!this.J&&(f==4?BI(this.l,this):(this.i=!1,lc(this)))}else oF(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.o=3,pn(12)):(this.o=0,pn(13)),xo(this),ql(this)}}}catch{}finally{}};function gI(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function vI(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=UV(t,n),i==Sd){e==4&&(t.o=4,pn(14),r=!1),js(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Zg){t.o=4,pn(15),js(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else js(t.j,t.m,i,null),Qg(t,i);gI(t)&&i!=Sd&&i!=Zg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,pn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ly(e),e.M=!0,pn(11))):(js(t.j,t.m,n,"[Invalid Chunked Response]"),xo(t),ql(t))}Y.mb=function(){if(this.g){var t=xr(this.g),e=this.g.ja();this.C<e.length&&(kf(this),vI(this,t,e),this.i&&t!=4&&lc(this))}};function UV(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Sd:(n=Number(e.substring(n,r)),isNaN(n)?Zg:(r+=1,r+n>e.length?Sd:(e=e.slice(r,r+n),t.C=r+n,e)))}Y.cancel=function(){this.J=!0,xo(this)};function lc(t){t.Y=Date.now()+t.P,_I(t,t.P)}function _I(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=oc(rn(t.lb,t),e)}function kf(t){t.B&&(pe.clearTimeout(t.B),t.B=null)}Y.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(NV(this.j,this.A),this.L!=2&&(Ru(),pn(17)),xo(this),this.o=2,ql(this)):_I(this,this.Y-t)};function ql(t){t.l.H==0||t.J||BI(t.l,t)}function xo(t){kf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,X_(t.V),lI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Qg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Xg(n.i,t))){if(!t.K&&Xg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)kd(n),bf(n);else break e;ay(n),pn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=oc(rn(n.ib,n),6e3));if(1>=II(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Do(n,11)}else if((t.K||n.g==t)&&kd(n),!Iu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let d=i[e];if(n.V=d[0],d=d[1],n.H==2)if(d[0]=="c"){n.K=d[1],n.pa=d[2];const f=d[3];f!=null&&(n.ra=f,n.l.info("VER="+n.ra));const m=d[4];m!=null&&(n.Ga=m,n.l.info("SVER="+n.Ga));const v=d[5];v!=null&&typeof v=="number"&&0<v&&(r=1.5*v,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const y=t.g;if(y){const E=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var o=r.i;o.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(ry(o,o.h),o.h=null))}if(r.F){const P=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;P&&(r.Da=P,Qe(r.I,r.F,P))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var a=t;if(r.wa=zI(r,r.J?r.pa:null,r.Y),a.K){kI(r.i,a);var u=a,c=r.L;c&&u.setTimeout(c),u.B&&(kf(u),lc(u)),r.g=a}else FI(r);0<n.j.length&&Of(n)}else d[0]!="stop"&&d[0]!="close"||Do(n,7);else n.H==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?Do(n,7):sy(n):d[0]!="noop"&&n.h&&n.h.Aa(d),n.A=0)}}Ru(4)}catch{}}function BV(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(_f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function $V(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(_f(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function yI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(_f(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=$V(t),r=BV(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var wI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jV(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Mo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Mo){this.h=t.h,Cd(this,t.j),this.s=t.s,this.g=t.g,Id(this,t.m),this.l=t.l;var e=t.i,n=new bu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),XE(this,n),this.o=t.o}else t&&(e=String(t).match(wI))?(this.h=!1,Cd(this,e[1]||"",!0),this.s=Al(e[2]||""),this.g=Al(e[3]||"",!0),Id(this,e[4]),this.l=Al(e[5]||"",!0),XE(this,e[6]||"",!0),this.o=Al(e[7]||"")):(this.h=!1,this.i=new bu(null,this.h))}Mo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Rl(e,JE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Rl(e,JE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Rl(n,n.charAt(0)=="/"?HV:WV,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Rl(n,qV)),t.join("")};function ui(t){return new Mo(t)}function Cd(t,e,n){t.j=n?Al(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Id(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function XE(t,e,n){e instanceof bu?(t.i=e,KV(t.i,t.h)):(n||(e=Rl(e,YV)),t.i=new bu(e,t.h))}function Qe(t,e,n){t.i.set(e,n)}function xf(t){return Qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Al(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Rl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,zV),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function zV(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var JE=/[#\/\?@]/g,WV=/[#\?:]/g,HV=/[#\?]/g,YV=/[#\?@]/g,qV=/#/g;function bu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function uo(t){t.g||(t.g=new Map,t.h=0,t.i&&jV(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Y=bu.prototype;Y.add=function(t,e){uo(this),this.i=null,t=La(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function EI(t,e){uo(t),e=La(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function TI(t,e){return uo(t),e=La(t,e),t.g.has(e)}Y.forEach=function(t,e){uo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Y.ta=function(){uo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};Y.Z=function(t){uo(this);let e=[];if(typeof t=="string")TI(this,t)&&(e=e.concat(this.g.get(La(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Y.set=function(t,e){return uo(this),this.i=null,t=La(this,t),TI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Y.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function PI(t,e,n){EI(t,e),0<n.length&&(t.i=null,t.g.set(La(t,e),z_(n)),t.h+=n.length)}Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=o;a[r]!==""&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")};function La(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function KV(t,e){e&&!t.j&&(uo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(EI(this,r),PI(this,i,n))},t)),t.j=e}var ZV=class{constructor(t,e){this.g=t,this.map=e}};function SI(t){this.l=t||GV,pe.PerformanceNavigationTiming?(t=pe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(pe.g&&pe.g.Ka&&pe.g.Ka()&&pe.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var GV=10;function CI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function II(t){return t.h?1:t.g?t.g.size:0}function Xg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ry(t,e){t.g?t.g.add(e):t.h=e}function kI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}SI.prototype.cancel=function(){if(this.i=xI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function xI(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return z_(t.i)}var QV=class{stringify(t){return pe.JSON.stringify(t,void 0)}parse(t){return pe.JSON.parse(t,void 0)}};function XV(){this.g=new QV}function JV(t,e,n){const r=n||"";try{yI(t,function(i,o){let a=i;rc(i)&&(a=G_(i)),e.push(r+o+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function eF(t,e){const n=new Pf;if(pe.Image){const r=new Image;r.onload=ih(sh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ih(sh,n,r,"TestLoadImage: error",!1,e),r.onabort=ih(sh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ih(sh,n,r,"TestLoadImage: timeout",!1,e),pe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function sh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Df(t){this.l=t.fc||null,this.j=t.ob||!1}Nt(Df,ey);Df.prototype.g=function(){return new Af(this.l,this.j)};Df.prototype.i=function(t){return function(){return t}}({});function Af(t,e){Lt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=iy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nt(Af,Lt);var iy=0;Y=Af.prototype;Y.open=function(t,e){if(this.readyState!=iy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ou(this)};Y.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||pe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,uc(this)),this.readyState=iy};Y.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ou(this)),this.g&&(this.readyState=3,Ou(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof pe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DI(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function DI(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Y.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?uc(this):Ou(this),this.readyState==3&&DI(this)}};Y.Za=function(t){this.g&&(this.response=this.responseText=t,uc(this))};Y.Ya=function(t){this.g&&(this.response=t,uc(this))};Y.ka=function(){this.g&&uc(this)};function uc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ou(t)}Y.setRequestHeader=function(t,e){this.v.append(t,e)};Y.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Y.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ou(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Af.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var tF=pe.JSON.parse;function ht(t){Lt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=AI,this.L=this.M=!1}Nt(ht,Lt);var AI="",nF=/^https?$/i,rF=["POST","PUT"];Y=ht.prototype;Y.Oa=function(t){this.M=t};Y.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Kg.g(),this.C=this.u?QE(this.u):QE(Kg),this.g.onreadystatechange=rn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){eT(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=pe.FormData&&t instanceof pe.FormData,!(0<=qC(rF,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{OI(this),0<this.B&&((this.L=iF(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rn(this.ua,this)):this.A=J_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){eT(this,o)}};function iF(t){return ca&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Y.ua=function(){typeof j_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yt(this,"timeout"),this.abort(8))};function eT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,RI(t),Rf(t)}function RI(t){t.F||(t.F=!0,Yt(t,"complete"),Yt(t,"error"))}Y.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Yt(this,"complete"),Yt(this,"abort"),Rf(this))};Y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rf(this,!0)),ht.$.N.call(this)};Y.La=function(){this.s||(this.G||this.v||this.l?bI(this):this.kb())};Y.kb=function(){bI(this)};function bI(t){if(t.h&&typeof j_<"u"&&(!t.C[1]||xr(t)!=4||t.da()!=2)){if(t.v&&xr(t)==4)J_(t.La,0,t);else if(Yt(t,"readystatechange"),xr(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(wI)[1]||null;!i&&pe.self&&pe.self.location&&(i=pe.self.location.protocol.slice(0,-1)),r=!nF.test(i?i.toLowerCase():"")}n=r}if(n)Yt(t,"complete"),Yt(t,"success");else{t.m=6;try{var o=2<xr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",RI(t)}}finally{Rf(t)}}}}function Rf(t,e){if(t.g){OI(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Yt(t,"ready");try{n.onreadystatechange=r}catch{}}}function OI(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(pe.clearTimeout(t.A),t.A=null)}Y.isActive=function(){return!!this.g};function xr(t){return t.g?t.g.readyState:0}Y.da=function(){try{return 2<xr(this)?this.g.status:-1}catch{return-1}};Y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Y.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),tF(e)}};function tT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case AI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function oF(t){const e={};t=(t.g&&2<=xr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Iu(t[r]))continue;var n=AV(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}PV(e,function(r){return r.join(", ")})}Y.Ia=function(){return this.m};Y.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function MI(t){let e="";return H_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function oy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=MI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Qe(t,e,n))}function gl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function LI(t){this.Ga=0,this.j=[],this.l=new Pf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=gl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=gl("baseRetryDelayMs",5e3,t),this.hb=gl("retryDelaySeedMs",1e4,t),this.eb=gl("forwardChannelMaxRetries",2,t),this.xa=gl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new SI(t&&t.concurrentRequestLimit),this.Ja=new XV,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Y=LI.prototype;Y.ra=8;Y.H=1;function sy(t){if(NI(t),t.H==3){var e=t.W++,n=ui(t.I);if(Qe(n,"SID",t.K),Qe(n,"RID",e),Qe(n,"TYPE","terminate"),cc(t,n),e=new ac(t,t.l,e),e.L=2,e.v=xf(ui(n)),n=!1,pe.navigator&&pe.navigator.sendBeacon)try{n=pe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&pe.Image&&(new Image().src=e.v,n=!0),n||(e.g=WI(e.l,null),e.g.ha(e.v)),e.G=Date.now(),lc(e)}jI(t)}function bf(t){t.g&&(ly(t),t.g.cancel(),t.g=null)}function NI(t){bf(t),t.u&&(pe.clearTimeout(t.u),t.u=null),kd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&pe.clearTimeout(t.m),t.m=null)}function Of(t){if(!CI(t.i)&&!t.m){t.m=!0;var e=t.Na;xu||oI(),Du||(xu(),Du=!0),Q_.add(e,t),t.C=0}}function sF(t,e){return II(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=oc(rn(t.Na,t,e),$I(t,t.C)),t.C++,!0)}Y.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ac(this,this.l,t);let o=this.s;if(this.U&&(o?(o=QC(o),XC(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=VI(this,i,e),n=ui(this.I),Qe(n,"RID",t),Qe(n,"CVER",22),this.F&&Qe(n,"X-HTTP-Session-Id",this.F),cc(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(MI(o)))+"&"+e:this.o&&oy(n,this.o,o)),ry(this.i,i),this.bb&&Qe(n,"TYPE","init"),this.P?(Qe(n,"$req",e),Qe(n,"SID","null"),i.aa=!0,Gg(i,n,null)):Gg(i,n,e),this.H=2}}else this.H==3&&(t?nT(this,t):this.j.length==0||CI(this.i)||nT(this))};function nT(t,e){var n;e?n=e.m:n=t.W++;const r=ui(t.I);Qe(r,"SID",t.K),Qe(r,"RID",n),Qe(r,"AID",t.V),cc(t,r),t.o&&t.s&&oy(r,t.o,t.s),n=new ac(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=VI(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ry(t.i,n),Gg(n,r,e)}function cc(t,e){t.na&&H_(t.na,function(n,r){Qe(e,r,n)}),t.h&&yI({},function(n,r){Qe(e,r,n)})}function VI(t,e,n){n=Math.min(t.j.length,n);var r=t.h?rn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const a=["count="+n];o==-1?0<n?(o=i[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);let u=!0;for(let c=0;c<n;c++){let d=i[c].g;const f=i[c].map;if(d-=o,0>d)o=Math.max(0,i[c].g-100),u=!1;else try{JV(f,a,"req"+d+"_")}catch{r&&r(f)}}if(u){r=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function FI(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;xu||oI(),Du||(xu(),Du=!0),Q_.add(e,t),t.A=0}}function ay(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=oc(rn(t.Ma,t),$I(t,t.A)),t.A++,!0)}Y.Ma=function(){if(this.u=null,UI(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=oc(rn(this.jb,this),t)}};Y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,pn(10),bf(this),UI(this))};function ly(t){t.B!=null&&(pe.clearTimeout(t.B),t.B=null)}function UI(t){t.g=new ac(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ui(t.wa);Qe(e,"RID","rpc"),Qe(e,"SID",t.K),Qe(e,"AID",t.V),Qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Qe(e,"TO",t.qa),Qe(e,"TYPE","xmlhttp"),cc(t,e),t.o&&t.s&&oy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=xf(ui(e)),n.s=null,n.S=!0,mI(n,t)}Y.ib=function(){this.v!=null&&(this.v=null,bf(this),ay(this),pn(19))};function kd(t){t.v!=null&&(pe.clearTimeout(t.v),t.v=null)}function BI(t,e){var n=null;if(t.g==e){kd(t),ly(t),t.g=null;var r=2}else if(Xg(t.i,e))n=e.F,kI(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Sf(),Yt(r,new hI(r,n)),Of(t)}else FI(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&sF(t,e)||r==2&&ay(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Do(t,5);break;case 4:Do(t,10);break;case 3:Do(t,6);break;default:Do(t,2)}}}function $I(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Do(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=rn(t.pb,t);n||(n=new Mo("//www.google.com/images/cleardot.gif"),pe.location&&pe.location.protocol=="http"||Cd(n,"https"),xf(n)),eF(n.toString(),r)}else pn(2);t.H=0,t.h&&t.h.za(e),jI(t),NI(t)}Y.pb=function(t){t?(this.l.info("Successfully pinged google.com"),pn(2)):(this.l.info("Failed to ping google.com"),pn(1))};function jI(t){if(t.H=0,t.ma=[],t.h){const e=xI(t.i);(e.length!=0||t.j.length!=0)&&(YE(t.ma,e),YE(t.ma,t.j),t.i.i.length=0,z_(t.j),t.j.length=0),t.h.ya()}}function zI(t,e,n){var r=n instanceof Mo?ui(n):new Mo(n);if(r.g!="")e&&(r.g=e+"."+r.g),Id(r,r.m);else{var i=pe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Mo(null);r&&Cd(o,r),e&&(o.g=e),i&&Id(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Qe(r,n,e),Qe(r,"VER",t.ra),cc(t,r),r}function WI(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ht(new Df({ob:!0})):new ht(t.va),e.Oa(t.J),e}Y.isActive=function(){return!!this.h&&this.h.isActive(this)};function HI(){}Y=HI.prototype;Y.Ba=function(){};Y.Aa=function(){};Y.za=function(){};Y.ya=function(){};Y.isActive=function(){return!0};Y.Va=function(){};function xd(){if(ca&&!(10<=Number(yV)))throw Error("Environmental error: no available transport.")}xd.prototype.g=function(t,e){return new Vn(t,e)};function Vn(t,e){Lt.call(this),this.g=new LI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Iu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Iu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Na(this)}Nt(Vn,Lt);Vn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;pn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=zI(t,null,t.Y),Of(t)};Vn.prototype.close=function(){sy(this.g)};Vn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=G_(t),t=n);e.j.push(new ZV(e.fb++,t)),e.H==3&&Of(e)};Vn.prototype.N=function(){this.g.h=null,delete this.j,sy(this.g),delete this.g,Vn.$.N.call(this)};function YI(t){ty.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Nt(YI,ty);function qI(){ny.call(this),this.status=1}Nt(qI,ny);function Na(t){this.g=t}Nt(Na,HI);Na.prototype.Ba=function(){Yt(this.g,"a")};Na.prototype.Aa=function(t){Yt(this.g,new YI(t))};Na.prototype.za=function(t){Yt(this.g,new qI)};Na.prototype.ya=function(){Yt(this.g,"b")};function aF(){this.blockSize=-1}function fr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Nt(fr,aF);fr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Em(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],a=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(a<<12&4294967295|a>>>20),a=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(a<<17&4294967295|a>>>15),a=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(a<<12&4294967295|a>>>20),a=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(a<<17&4294967295|a>>>15),a=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(a<<12&4294967295|a>>>20),a=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(a<<17&4294967295|a>>>15),a=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(a<<12&4294967295|a>>>20),a=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(a<<17&4294967295|a>>>15),a=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(a<<11&4294967295|a>>>21),a=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(a<<16&4294967295|a>>>16),a=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(a<<11&4294967295|a>>>21),a=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(a<<16&4294967295|a>>>16),a=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(a<<11&4294967295|a>>>21),a=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(a<<16&4294967295|a>>>16),a=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(a<<11&4294967295|a>>>21),a=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(a<<16&4294967295|a>>>16),a=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(a<<10&4294967295|a>>>22),a=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(a<<15&4294967295|a>>>17),a=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(a<<10&4294967295|a>>>22),a=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(a<<15&4294967295|a>>>17),a=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(a<<10&4294967295|a>>>22),a=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(a<<15&4294967295|a>>>17),a=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(a<<10&4294967295|a>>>22),a=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(a<<15&4294967295|a>>>17),a=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}fr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Em(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Em(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Em(this,r),i=0;break}}this.h=i,this.i+=e};fr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function He(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var lF={};function uy(t){return-128<=t&&128>t?gV(t,function(e){return new He([e|0],0>e?-1:0)}):new He([t|0],0>t?-1:0)}function Dr(t){if(isNaN(t)||!isFinite(t))return Js;if(0>t)return Wt(Dr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Jg;return new He(e,0)}function KI(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Wt(KI(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Dr(Math.pow(e,8)),r=Js,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),a=parseInt(t.substring(i,i+o),e);8>o?(o=Dr(Math.pow(e,o)),r=r.R(o).add(Dr(a))):(r=r.R(n),r=r.add(Dr(a)))}return r}var Jg=4294967296,Js=uy(0),ev=uy(1),rT=uy(16777216);Y=He.prototype;Y.ea=function(){if(qn(this))return-Wt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Jg+r)*e,e*=Jg}return t};Y.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ti(this))return"0";if(qn(this))return"-"+Wt(this).toString(t);for(var e=Dr(Math.pow(t,6)),n=this,r="";;){var i=Ad(n,e).g;n=Dd(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ti(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};Y.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ti(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function qn(t){return t.h==-1}Y.X=function(t){return t=Dd(this,t),qn(t)?-1:ti(t)?0:1};function Wt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new He(n,~t.h).add(ev)}Y.abs=function(){return qn(this)?Wt(this):this};Y.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),a=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new He(n,n[n.length-1]&-2147483648?-1:0)};function Dd(t,e){return t.add(Wt(e))}Y.R=function(t){if(ti(this)||ti(t))return Js;if(qn(this))return qn(t)?Wt(this).R(Wt(t)):Wt(Wt(this).R(t));if(qn(t))return Wt(this.R(Wt(t)));if(0>this.X(rT)&&0>t.X(rT))return Dr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,a=this.D(r)&65535,u=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=a*c,ah(n,2*r+2*i),n[2*r+2*i+1]+=o*c,ah(n,2*r+2*i+1),n[2*r+2*i+1]+=a*u,ah(n,2*r+2*i+1),n[2*r+2*i+2]+=o*u,ah(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new He(n,0)};function ah(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function vl(t,e){this.g=t,this.h=e}function Ad(t,e){if(ti(e))throw Error("division by zero");if(ti(t))return new vl(Js,Js);if(qn(t))return e=Ad(Wt(t),e),new vl(Wt(e.g),Wt(e.h));if(qn(e))return e=Ad(t,Wt(e)),new vl(Wt(e.g),e.h);if(30<t.g.length){if(qn(t)||qn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ev,r=e;0>=r.X(t);)n=iT(n),r=iT(r);var i=Ts(n,1),o=Ts(r,1);for(r=Ts(r,2),n=Ts(n,2);!ti(r);){var a=o.add(r);0>=a.X(t)&&(i=i.add(n),o=a),r=Ts(r,1),n=Ts(n,1)}return e=Dd(t,i.R(e)),new vl(i,e)}for(i=Js;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Dr(n),a=o.R(e);qn(a)||0<a.X(t);)n-=r,o=Dr(n),a=o.R(e);ti(o)&&(o=ev),i=i.add(o),t=Dd(t,a)}return new vl(i,t)}Y.gb=function(t){return Ad(this,t).h};Y.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new He(n,this.h&t.h)};Y.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new He(n,this.h|t.h)};Y.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new He(n,this.h^t.h)};function iT(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new He(n,t.h)}function Ts(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new He(i,t.h)}xd.prototype.createWebChannel=xd.prototype.g;Vn.prototype.send=Vn.prototype.u;Vn.prototype.open=Vn.prototype.m;Vn.prototype.close=Vn.prototype.close;Cf.NO_ERROR=0;Cf.TIMEOUT=8;Cf.HTTP_ERROR=6;dI.COMPLETE="complete";fI.EventType=sc;sc.OPEN="a";sc.CLOSE="b";sc.ERROR="c";sc.MESSAGE="d";Lt.prototype.listen=Lt.prototype.O;ht.prototype.listenOnce=ht.prototype.P;ht.prototype.getLastError=ht.prototype.Sa;ht.prototype.getLastErrorCode=ht.prototype.Ia;ht.prototype.getStatus=ht.prototype.da;ht.prototype.getResponseJson=ht.prototype.Wa;ht.prototype.getResponseText=ht.prototype.ja;ht.prototype.send=ht.prototype.ha;ht.prototype.setWithCredentials=ht.prototype.Oa;fr.prototype.digest=fr.prototype.l;fr.prototype.reset=fr.prototype.reset;fr.prototype.update=fr.prototype.j;He.prototype.add=He.prototype.add;He.prototype.multiply=He.prototype.R;He.prototype.modulo=He.prototype.gb;He.prototype.compare=He.prototype.X;He.prototype.toNumber=He.prototype.ea;He.prototype.toString=He.prototype.toString;He.prototype.getBits=He.prototype.D;He.fromNumber=Dr;He.fromString=KI;var uF=function(){return new xd},cF=function(){return Sf()},Tm=Cf,hF=dI,dF=os,oT={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},lh=fI,fF=ht,pF=fr,ea=He;const sT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va="10.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new A_("@firebase/firestore");function _l(){return Yo.logLevel}function ee(t,...e){if(Yo.logLevel<=xe.DEBUG){const n=e.map(cy);Yo.debug(`Firestore (${Va}): ${t}`,...n)}}function ci(t,...e){if(Yo.logLevel<=xe.ERROR){const n=e.map(cy);Yo.error(`Firestore (${Va}): ${t}`,...n)}}function ha(t,...e){if(Yo.logLevel<=xe.WARN){const n=e.map(cy);Yo.warn(`Firestore (${Va}): ${t}`,...n)}}function cy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${Va}) INTERNAL ASSERTION FAILED: `+t;throw ci(e),new Error(e)}function Je(t,e){t||he()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class gF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vF{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ki,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ki)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string"),new ZI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new Xt(e)}}class _F{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yF{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new _F(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,ee("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Je(typeof n.token=="string"),this.R=n.token,new wF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=TF(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function da(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new St(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new St(0,0))}static max(){return new ge(new St(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rt extends Mu{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const PF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Mu{construct(e,n,r){return new tn(e,n,r)}static isValidIdentifier(e){return PF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ie($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ie($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ie($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(o(),i++)}if(o(),a)throw new ie($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(rt.fromString(e))}static fromName(e){return new se(rt.fromString(e).popFirst(5))}static empty(){return new se(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new rt(e.slice()))}}function SF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new St(n+1,0):new St(n,r));return new eo(i,se.empty(),e)}function CF(t){return new eo(t.readTime,t.key,-1)}class eo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new eo(ge.min(),se.empty(),-1)}static max(){return new eo(ge.max(),se.empty(),-1)}}function IF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==kF)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,o=0,a=!1;e.forEach(u=>{++i,u.next(()=>{++o,a&&o===i&&n()},c=>r(c))}),a=!0,o===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const o=e.length,a=new Array(o);let u=0;for(let c=0;c<o;c++){const d=c;n(e[d]).next(f=>{a[d]=f,++u,u===o&&r(a)},f=>i(f))}})}static doWhile(e,n){return new j((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function dc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}hy.ae=-1;function Mf(t){return t==null}function Rd(t){return t===0&&1/t==-1/0}function DF(t){return typeof t=="number"&&Number.isInteger(t)&&!Rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ss(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uh(this.root,e,this.comparator,!0)}}class uh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??zt.RED,this.left=i??zt.EMPTY,this.right=o??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new zt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,i,o){return this}insert(e,n,r){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lT(this.data.getIterator())}getIteratorFrom(e){return new lT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new sn(this.comparator);return n.data=e,n}}class lT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new sn(tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return da(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new XI("Invalid base64 string: "+o):o}}(e);return new un(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const AF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function to(t){if(Je(!!t),typeof t=="string"){let e=0;const n=AF.exec(t);if(Je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(t.seconds),nanos:Tt(t.nanos)}}function Tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qo(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fy(t){const e=t.mapValue.fields.__previous_value__;return dy(e)?fy(e):e}function Lu(t){const e=to(t.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,n,r,i,o,a,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d}}class Nu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Nu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ko(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dy(t)?4:bF(t)?9007199254740991:10:he()}function Ur(t,e){if(t===e)return!0;const n=Ko(t);if(n!==Ko(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lu(t).isEqual(Lu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=to(i.timestampValue),u=to(o.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return qo(i.bytesValue).isEqual(qo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Tt(i.geoPointValue.latitude)===Tt(o.geoPointValue.latitude)&&Tt(i.geoPointValue.longitude)===Tt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Tt(i.integerValue)===Tt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Tt(i.doubleValue),u=Tt(o.doubleValue);return a===u?Rd(a)===Rd(u):isNaN(a)&&isNaN(u)}return!1}(t,e);case 9:return da(t.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:return function(i,o){const a=i.mapValue.fields||{},u=o.mapValue.fields||{};if(aT(a)!==aT(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!Ur(a[c],u[c])))return!1;return!0}(t,e);default:return he()}}function Vu(t,e){return(t.values||[]).find(n=>Ur(n,e))!==void 0}function fa(t,e){if(t===e)return 0;const n=Ko(t),r=Ko(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(o,a){const u=Tt(o.integerValue||o.doubleValue),c=Tt(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return uT(t.timestampValue,e.timestampValue);case 4:return uT(Lu(t),Lu(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(o,a){const u=qo(o),c=qo(a);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const u=o.split("/"),c=a.split("/");for(let d=0;d<u.length&&d<c.length;d++){const f=Fe(u[d],c[d]);if(f!==0)return f}return Fe(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const u=Fe(Tt(o.latitude),Tt(a.latitude));return u!==0?u:Fe(Tt(o.longitude),Tt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){const u=o.values||[],c=a.values||[];for(let d=0;d<u.length&&d<c.length;++d){const f=fa(u[d],c[d]);if(f)return f}return Fe(u.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===ch.mapValue&&a===ch.mapValue)return 0;if(o===ch.mapValue)return 1;if(a===ch.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),d=a.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const v=Fe(c[m],f[m]);if(v!==0)return v;const y=fa(u[c[m]],d[f[m]]);if(y!==0)return y}return Fe(c.length,f.length)}(t.mapValue,e.mapValue);default:throw he()}}function uT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=to(t),r=to(e),i=Fe(n.seconds,r.seconds);return i!==0?i:Fe(n.nanos,r.nanos)}function pa(t){return tv(t)}function tv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=to(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=tv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${tv(n.fields[a])}`;return i+"}"}(t.mapValue):he()}function nv(t){return!!t&&"integerValue"in t}function py(t){return!!t&&"arrayValue"in t}function cT(t){return!!t&&"nullValue"in t}function hT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Oh(t){return!!t&&"mapValue"in t}function Kl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ss(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Kl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=tn.emptyPath(),r={},i=[];e.forEach((a,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}a?r[u.lastSegment()]=Kl(a):i.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Oh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ss(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new En(Kl(this.value))}}function JI(t){const e=[];return ss(t.fields,(n,r)=>{const i=new tn([n]);if(Oh(r)){const o=JI(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,i,o,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=u}static newInvalidDocument(e){return new en(e,0,ge.min(),ge.min(),ge.min(),En.empty(),0)}static newFoundDocument(e,n,r,i){return new en(e,1,n,ge.min(),r,i,0)}static newNoDocument(e,n){return new en(e,2,n,ge.min(),ge.min(),En.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,ge.min(),ge.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n){this.position=e,this.inclusive=n}}function dT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=se.comparator(se.fromName(a.referenceValue),n.key):r=fa(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function fT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function OF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{}class It extends ek{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new LF(e,n,r):n==="array-contains"?new FF(e,r):n==="in"?new UF(e,r):n==="not-in"?new BF(e,r):n==="array-contains-any"?new $F(e,r):new It(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new NF(e,r):new VF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fa(n,this.value)):n!==null&&Ko(this.value)===Ko(n)&&this.matchesComparison(fa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Br extends ek{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Br(e,n)}matches(e){return tk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function tk(t){return t.op==="and"}function nk(t){return MF(t)&&tk(t)}function MF(t){for(const e of t.filters)if(e instanceof Br)return!1;return!0}function rv(t){if(t instanceof It)return t.field.canonicalString()+t.op.toString()+pa(t.value);if(nk(t))return t.filters.map(e=>rv(e)).join(",");{const e=t.filters.map(n=>rv(n)).join(",");return`${t.op}(${e})`}}function rk(t,e){return t instanceof It?function(r,i){return i instanceof It&&r.op===i.op&&r.field.isEqual(i.field)&&Ur(r.value,i.value)}(t,e):t instanceof Br?function(r,i){return i instanceof Br&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,u)=>o&&rk(a,i.filters[u]),!0):!1}(t,e):void he()}function ik(t){return t instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${pa(n.value)}`}(t):t instanceof Br?function(n){return n.op.toString()+" {"+n.getFilters().map(ik).join(" ,")+"}"}(t):"Filter"}class LF extends It{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class NF extends It{constructor(e,n){super(e,"in",n),this.keys=ok("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class VF extends It{constructor(e,n){super(e,"not-in",n),this.keys=ok("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ok(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class FF extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return py(n)&&Vu(n.arrayValue,this.value)}}class UF extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vu(this.value.arrayValue,n)}}class BF extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Vu(this.value.arrayValue,n)}}class $F extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!py(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n=null,r=[],i=[],o=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=u,this.he=null}}function pT(t,e=null,n=[],r=[],i=null,o=null,a=null){return new jF(t,e,n,r,i,o,a)}function my(t){const e=_e(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>rv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Mf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pa(r)).join(",")),e.he=n}return e.he}function gy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!OF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fT(t.startAt,e.startAt)&&fT(t.endAt,e.endAt)}function iv(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n=null,r=[],i=[],o=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=c,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function zF(t,e,n,r,i,o,a,u){return new Lf(t,e,n,r,i,o,a,u)}function sk(t){return new Lf(t)}function mT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WF(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function HF(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function YF(t){return t.collectionGroup!==null}function Gl(t){const e=_e(t);if(e.Pe===null){e.Pe=[];const n=HF(e),r=WF(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Zl(n)),e.Pe.push(new Zl(tn.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.Pe.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Zl(tn.keyField(),o))}}}return e.Pe}function Mr(t){const e=_e(t);return e.Ie||(e.Ie=qF(e,Gl(t))),e.Ie}function qF(t,e){if(t.limitType==="F")return pT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Zl(i.field,o)});const n=t.endAt?new bd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bd(t.startAt.position,t.startAt.inclusive):null;return pT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ov(t,e,n){return new Lf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nf(t,e){return gy(Mr(t),Mr(e))&&t.limitType===e.limitType}function ak(t){return`${my(Mr(t))}|lt:${t.limitType}`}function Is(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ik(i)).join(", ")}]`),Mf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>pa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>pa(i)).join(",")),`Target(${r})`}(Mr(t))}; limitType=${t.limitType})`}function Vf(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):se.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Gl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,u,c){const d=dT(a,u,c);return a.inclusive?d<=0:d<0}(r.startAt,Gl(r),i)||r.endAt&&!function(a,u,c){const d=dT(a,u,c);return a.inclusive?d>=0:d>0}(r.endAt,Gl(r),i))}(t,e)}function KF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lk(t){return(e,n)=>{let r=!1;for(const i of Gl(t)){const o=ZF(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function ZF(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(o,a,u){const c=a.data.field(o),d=u.data.field(o);return c!==null&&d!==null?fa(c,d):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return QI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=new ut(se.comparator);function hi(){return GF}const uk=new ut(se.comparator);function bl(...t){let e=uk;for(const n of t)e=e.insert(n.key,n);return e}function ck(t){let e=uk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ao(){return Ql()}function hk(){return Ql()}function Ql(){return new Fa(t=>t.toString(),(t,e)=>t.isEqual(e))}const QF=new ut(se.comparator),XF=new sn(se.comparator);function Ce(...t){let e=XF;for(const n of t)e=e.add(n);return e}const JF=new sn(Fe);function eU(){return JF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rd(e)?"-0":e}}function fk(t){return{integerValue:""+t}}function tU(t,e){return DF(e)?fk(e):dk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(){this._=void 0}}function nU(t,e,n){return t instanceof Od?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&dy(o)&&(o=fy(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof ma?mk(t,e):t instanceof Fu?gk(t,e):function(i,o){const a=pk(i,o),u=gT(a)+gT(i.Te);return nv(a)&&nv(i.Te)?fk(u):dk(i.serializer,u)}(t,e)}function rU(t,e,n){return t instanceof ma?mk(t,e):t instanceof Fu?gk(t,e):n}function pk(t,e){return t instanceof Md?function(r){return nv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Od extends Ff{}class ma extends Ff{constructor(e){super(),this.elements=e}}function mk(t,e){const n=vk(e);for(const r of t.elements)n.some(i=>Ur(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fu extends Ff{constructor(e){super(),this.elements=e}}function gk(t,e){let n=vk(e);for(const r of t.elements)n=n.filter(i=>!Ur(i,r));return{arrayValue:{values:n}}}class Md extends Ff{constructor(e,n){super(),this.serializer=e,this.Te=n}}function gT(t){return Tt(t.integerValue||t.doubleValue)}function vk(t){return py(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n){this.field=e,this.transform=n}}function oU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ma&&i instanceof ma||r instanceof Fu&&i instanceof Fu?da(r.elements,i.elements,Ur):r instanceof Md&&i instanceof Md?Ur(r.Te,i.Te):r instanceof Od&&i instanceof Od}(t.transform,e.transform)}class sU{constructor(e,n){this.version=e,this.transformResults=n}}class Lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Uf{}function _k(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wk(t.key,Lr.none()):new fc(t.key,t.data,Lr.none());{const n=t.data,r=En.empty();let i=new sn(tn.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new co(t.key,r,new Rn(i.toArray()),Lr.none())}}function aU(t,e,n){t instanceof fc?function(i,o,a){const u=i.value.clone(),c=_T(i.fieldTransforms,o,a.transformResults);u.setAll(c),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):t instanceof co?function(i,o,a){if(!Mh(i.precondition,o))return void o.convertToUnknownDocument(a.version);const u=_T(i.fieldTransforms,o,a.transformResults),c=o.data;c.setAll(yk(i)),c.setAll(u),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Xl(t,e,n,r){return t instanceof fc?function(o,a,u,c){if(!Mh(o.precondition,a))return u;const d=o.value.clone(),f=yT(o.fieldTransforms,c,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof co?function(o,a,u,c){if(!Mh(o.precondition,a))return u;const d=yT(o.fieldTransforms,c,a),f=a.data;return f.setAll(yk(o)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(o,a,u){return Mh(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(t,e,n)}function lU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=pk(r.transform,i||null);o!=null&&(n===null&&(n=En.empty()),n.set(r.field,o))}return n||null}function vT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&da(r,i,(o,a)=>oU(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fc extends Uf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class co extends Uf{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function yk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _T(t,e,n){const r=new Map;Je(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,u=e.data.field(o.field);r.set(o.field,rU(a,u,n[i]))}return r}function yT(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,nU(o,a,e))}return r}class wk extends Uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uU extends Uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&aU(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hk();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let u=this.applyToLocalView(a,o.mutatedFields);u=n.has(i.key)?null:u;const c=_k(a,u);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&da(this.mutations,e.mutations,(n,r)=>vT(n,r))&&da(this.baseMutations,e.baseMutations,(n,r)=>vT(n,r))}}class vy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Je(e.mutations.length===r.length);let i=function(){return QF}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new vy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,be;function fU(t){switch(t){default:return he();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function Ek(t){if(t===void 0)return ci("GRPC error has no .code"),$.UNKNOWN;switch(t){case Et.OK:return $.OK;case Et.CANCELLED:return $.CANCELLED;case Et.UNKNOWN:return $.UNKNOWN;case Et.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Et.INTERNAL:return $.INTERNAL;case Et.UNAVAILABLE:return $.UNAVAILABLE;case Et.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Et.NOT_FOUND:return $.NOT_FOUND;case Et.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Et.ABORTED:return $.ABORTED;case Et.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Et.DATA_LOSS:return $.DATA_LOSS;default:return he()}}(be=Et||(Et={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=new ea([4294967295,4294967295],0);function wT(t){const e=pU().encode(t),n=new pF;return n.update(e),new Uint8Array(n.digest())}function ET(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ea([n,r],0),new ea([i,o],0)]}class _y{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(r<0)throw new Ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=ea.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(ea.fromNumber(r)));return i.compare(mU)===1&&(i=new ea([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=wT(e),[r,i]=ET(n);for(let o=0;o<this.hashCount;o++){const a=this.Ve(r,i,o);if(!this.me(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new _y(o,i,n);return r.forEach(u=>a.insert(u)),a}insert(e){if(this.Ae===0)return;const n=wT(e),[r,i]=ET(n);for(let o=0;o<this.hashCount;o++){const a=this.Ve(r,i,o);this.fe(a)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bf(ge.min(),i,new ut(Fe),hi(),Ce())}}class pc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pc(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class Tk{constructor(e,n){this.targetId=e,this.ye=n}}class Pk{constructor(e,n,r=un.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class TT{constructor(){this.we=0,this.Se=ST(),this.be=un.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=Ce(),n=Ce(),r=Ce();return this.Se.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new pc(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=ST()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class gU{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=hi(),this.Ue=PT(),this.We=new ut(Fe)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const o=i.target;if(iv(o))if(r===0){const a=new se(o.path);this.je(n,a,en.newNoDocument(a,ge.min()))}else Je(r===1);else{const a=this.tt(n);if(a!==r){const u=this.nt(e),c=u?this.rt(u,e,a):1;if(c!==0){this.Ze(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,d)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,u;try{a=qo(r).toUint8Array()}catch(c){if(c instanceof XI)return ha("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new _y(a,i,o)}catch(c){return ha(c instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ae===0?null:u}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Qe.st(),u=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.je(n,o,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((o,a)=>{const u=this.et(a);if(u){if(o.current&&iv(u.target)){const c=new se(u.target.path);this.$e.get(c)!==null||this.ut(a,c)||this.je(a,c,en.newNoDocument(c,e))}o.Fe&&(n.set(a,o.xe()),o.Oe())}});let r=Ce();this.Ue.forEach((o,a)=>{let u=!0;a.forEachWhile(c=>{const d=this.et(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.$e.forEach((o,a)=>a.setReadTime(e));const i=new Bf(e,n,this.We,this.$e,r);return this.$e=hi(),this.Ue=PT(),this.We=new ut(Fe),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new TT,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new sn(Fe),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new TT),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function PT(){return new ut(se.comparator)}function ST(){return new ut(se.comparator)}const vU=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),_U=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),yU=(()=>({and:"AND",or:"OR"}))();class wU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sv(t,e){return t.useProto3Json||Mf(e)?e:{value:e}}function Ld(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EU(t,e){return Ld(t,e.toTimestamp())}function Nr(t){return Je(!!t),ge.fromTimestamp(function(n){const r=to(n);return new St(r.seconds,r.nanos)}(t))}function yy(t,e){return function(r){return new rt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function Ck(t){const e=rt.fromString(t);return Je(Dk(e)),e}function av(t,e){return yy(t.databaseId,e.path)}function Pm(t,e){const n=Ck(e);if(n.get(1)!==t.databaseId.projectId)throw new ie($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(Ik(n))}function lv(t,e){return yy(t.databaseId,e)}function TU(t){const e=Ck(t);return e.length===4?rt.emptyPath():Ik(e)}function uv(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ik(t){return Je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function CT(t,e,n){return{name:av(t,e),fields:n.value.mapValue.fields}}function PU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,f){return d.useProto3Json?(Je(f===void 0||typeof f=="string"),un.fromBase64String(f||"")):(Je(f===void 0||f instanceof Uint8Array),un.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(d){const f=d.code===void 0?$.UNKNOWN:Ek(d.code);return new ie(f,d.message||"")}(a);n=new Pk(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Pm(t,r.document.name),o=Nr(r.document.updateTime),a=r.document.createTime?Nr(r.document.createTime):ge.min(),u=new En({mapValue:{fields:r.document.fields}}),c=en.newFoundDocument(i,o,a,u),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Lh(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Pm(t,r.document),o=r.readTime?Nr(r.readTime):ge.min(),a=en.newNoDocument(i,o),u=r.removedTargetIds||[];n=new Lh([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Pm(t,r.document),o=r.removedTargetIds||[];n=new Lh([],o,i,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new dU(i,o),u=r.targetId;n=new Tk(u,a)}}return n}function SU(t,e){let n;if(e instanceof fc)n={update:CT(t,e.key,e.value)};else if(e instanceof wk)n={delete:av(t,e.key)};else if(e instanceof co)n={update:CT(t,e.key,e.data),updateMask:OU(e.fieldMask)};else{if(!(e instanceof uU))return he();n={verify:av(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const u=a.transform;if(u instanceof Od)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ma)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Fu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Md)return{fieldPath:a.field.canonicalString(),increment:u.Te};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:EU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:he()}(t,e.precondition)),n}function CU(t,e){return t&&t.length>0?(Je(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?Nr(i.updateTime):Nr(o);return a.isEqual(ge.min())&&(a=Nr(o)),new sU(a,i.transformResults||[])}(n,e))):[]}function IU(t,e){return{documents:[lv(t,e.path)]}}function kU(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=lv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=lv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(c.length!==0)return xk(Br.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:ks(m.field),direction:AU(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=sv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function xU(t){let e=TU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Je(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(m){const v=kk(m);return v instanceof Br&&nk(v)?v.getFilters():[v]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(v=>function(E){return new Zl(xs(E.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(v))}(n.orderBy));let u=null;n.limit&&(u=function(m){let v;return v=typeof m=="object"?m.value:m,Mf(v)?null:v}(n.limit));let c=null;n.startAt&&(c=function(m){const v=!!m.before,y=m.values||[];return new bd(y,v)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const v=!m.before,y=m.values||[];return new bd(y,v)}(n.endAt)),zF(e,i,a,o,u,"F",c,d)}function DU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xs(n.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=xs(n.unaryFilter.field);return It.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xs(n.unaryFilter.field);return It.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=xs(n.unaryFilter.field);return It.create(a,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return It.create(xs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Br.create(n.compositeFilter.filters.map(r=>kk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function AU(t){return vU[t]}function RU(t){return _U[t]}function bU(t){return yU[t]}function ks(t){return{fieldPath:t.canonicalString()}}function xs(t){return tn.fromServerFormat(t.fieldPath)}function xk(t){return t instanceof It?function(n){if(n.op==="=="){if(hT(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NAN"}};if(cT(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hT(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NOT_NAN"}};if(cT(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ks(n.field),op:RU(n.op),value:n.value}}}(t):t instanceof Br?function(n){const r=n.getFilters().map(i=>xk(i));return r.length===1?r[0]:{compositeFilter:{op:bU(n.op),filters:r}}}(t):he()}function OU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Dk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n,r,i,o=ge.min(),a=ge.min(),u=un.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e){this.ht=e}}function LU(t){const e=xU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ov(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(){this.an=new VU}addToCollectionParentIndex(e,n){return this.an.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(eo.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(eo.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class VU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new sn(rt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new sn(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new ga(0)}static Ln(){return new ga(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(){this.changes=new Fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Xl(r.mutation,i,Rn.empty(),St.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=Ao();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=bl();return o.forEach((u,c)=>{a=a.insert(u,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Ao();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,u)=>{n.set(a,u)})})}computeViews(e,n,r,i){let o=hi();const a=Ql(),u=function(){return Ql()}();return n.forEach((c,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof co)?o=o.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),Xl(f.mutation,d,f.mutation.getFieldMask(),St.now())):a.set(d.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((d,f)=>a.set(d,f)),n.forEach((d,f)=>{var m;return u.set(d,new UU(f,(m=a.get(d))!==null&&m!==void 0?m:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Ql();let i=new ut((a,u)=>a-u),o=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const u of a)u.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let f=r.get(c)||Rn.empty();f=u.applyToLocalView(d,f),r.set(c,f);const m=(i.get(u.batchId)||Ce()).add(c);i=i.insert(u.batchId,m)})}).next(()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,f=c.value,m=hk();f.forEach(v=>{if(!o.has(v)){const y=_k(n.get(v),r.get(v));y!==null&&m.set(v,y),o=o.add(v)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return j.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return se.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):j.resolve(Ao());let u=-1,c=o;return a.next(d=>j.forEach(d,(f,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),o.get(f)?j.resolve():this.remoteDocumentCache.getEntry(e,f).next(v=>{c=c.insert(f,v)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,c,d,Ce())).next(f=>({batchId:u,changes:ck(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=bl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=bl();return this.indexManager.getCollectionParents(e,o).next(u=>j.forEach(u,c=>{const d=function(m,v){return new Lf(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((m,v)=>{a=a.insert(m,v)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((c,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,en.newInvalidDocument(f)))});let u=bl();return a.forEach((c,d)=>{const f=o.get(c);f!==void 0&&Xl(f.mutation,d,Rn.empty(),St.now()),Vf(n,d)&&(u=u.insert(c,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return j.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Nr(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:LU(i.bundledQuery),readTime:Nr(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(){this.overlays=new ut(se.comparator),this.Pr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ao();return j.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.It(e,n,o)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Pr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=Ao(),o=n.length+1,a=new se(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ut((d,f)=>d-f);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=o.get(d.largestBatchId);f===null&&(f=Ao(),o=o.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const u=Ao(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,f)=>u.set(d,f)),!(u.size()>=i)););return j.resolve(u)}It(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new hU(n,r));let o=this.Pr.get(n);o===void 0&&(o=Ce(),this.Pr.set(n,o)),this.Pr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(){this.Ir=new sn(Rt.dr),this.Tr=new sn(Rt.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new Rt(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new se(new rt([])),r=new Rt(n,e),i=new Rt(n,e+1),o=[];return this.Tr.forEachInRange([r,i],a=>{this.Rr(a),o.push(a.key)}),o}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new se(new rt([])),r=new Rt(n,e),i=new Rt(n,e+1);let o=Ce();return this.Tr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Rt(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return se.comparator(e.key,n.key)||Fe(e.yr,n.yr)}static Er(e,n){return Fe(e.yr,n.yr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new sn(Rt.dr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new cU(o,n,r,i);this.mutationQueue.push(a);for(const u of i)this.Sr=this.Sr.add(new Rt(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return j.resolve(a)}lookupMutationBatch(e,n){return j.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),o=i<0?0:i;return j.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),i=new Rt(n,Number.POSITIVE_INFINITY),o=[];return this.Sr.forEachInRange([r,i],a=>{const u=this.br(a.yr);o.push(u)}),j.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sn(Fe);return n.forEach(i=>{const o=new Rt(i,0),a=new Rt(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([o,a],u=>{r=r.add(u.yr)})}),j.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;se.isDocumentKey(o)||(o=o.child(""));const a=new Rt(new se(o),0);let u=new sn(Fe);return this.Sr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(c.yr)),!0)},a),j.resolve(this.Cr(u))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Je(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return j.forEach(n.mutations,i=>{const o=new Rt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new Rt(n,0),i=this.Sr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.Fr=e,this.docs=function(){return new ut(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=hi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():en.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=hi();const a=n.path,u=new se(a.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||IF(CF(f),r)<=0||(i.has(f.key)||Vf(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return j.resolve(o)}getAllFromCollectionGroup(e,n,r,i){he()}Mr(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new HU(this)}getSize(e){return j.resolve(this.size)}}class HU extends FU{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.persistence=e,this.Or=new Fa(n=>my(n),gy),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Nr=0,this.Br=new wy,this.targetCount=0,this.Lr=ga.Bn()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),j.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ga(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Qn(n),j.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Or.forEach((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Or.delete(a),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),j.waitFor(o).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),j.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,n){this.kr={},this.overlays={},this.qr=new hy(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new YU(this),this.indexManager=new NU,this.remoteDocumentCache=function(i){return new WU(i)}(r=>this.referenceDelegate.$r(r)),this.serializer=new MU(n),this.Ur=new $U(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new zU(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const i=new KU(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(o=>this.referenceDelegate.Gr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}zr(e,n){return j.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class KU extends xF{constructor(e){super(),this.currentSequenceNumber=e}}class Ey{constructor(e){this.persistence=e,this.jr=new wy,this.Hr=null}static Jr(e){return new Ey(e)}get Yr(){if(this.Hr)return this.Hr;throw he()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),j.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Yr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Yr,r=>{const i=se.fromPath(r);return this.Zr(e,i).next(o=>{o||n.removeEntry(i,ge.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return j.or([()=>j.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(e,n){let r=Ce(),i=Ce();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Ty(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=2}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Hi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Ji(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new ZU;return this.Yi(e,n,a).next(u=>{if(o.result=u,this.Wi)return this.Zi(e,n,a,u.size)})}).next(()=>o.result)}Zi(e,n,r,i){return r.documentReadCount<this.Gi?(_l()<=xe.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Is(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),j.resolve()):(_l()<=xe.DEBUG&&ee("QueryEngine","Query:",Is(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(_l()<=xe.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Is(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(n))):j.resolve())}Hi(e,n){if(mT(n))return j.resolve(null);let r=Mr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ov(n,null,"F"),r=Mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Ce(...o);return this.ji.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Xi(n,u);return this.es(n,d,a,c.readTime)?this.Hi(e,ov(n,null,"F")):this.ts(e,d,n,c)}))})))}Ji(e,n,r,i){return mT(n)||i.isEqual(ge.min())?j.resolve(null):this.ji.getDocuments(e,r).next(o=>{const a=this.Xi(n,o);return this.es(n,a,r,i)?j.resolve(null):(_l()<=xe.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Is(n)),this.ts(e,a,n,SF(i,-1)).next(u=>u))})}Xi(e,n){let r=new sn(lk(e));return n.forEach((i,o)=>{Vf(e,o)&&(r=r.add(o))}),r}es(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Yi(e,n,r){return _l()<=xe.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Is(n)),this.ji.getDocumentsMatchingQuery(e,n,eo.min(),r)}ts(e,n,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,n,r,i){this.persistence=e,this.ns=n,this.serializer=i,this.rs=new ut(Fe),this.ss=new Fa(o=>my(o),gy),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BU(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function XU(t,e,n,r){return new QU(t,e,n,r)}async function Ak(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],u=[];let c=Ce();for(const d of i){a.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of o){u.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(d=>({cs:d,removedBatchIds:a,addedBatchIds:u}))})})}function JU(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n._s.newChangeBuffer({trackRemovals:!0});return function(u,c,d,f){const m=d.batch,v=m.keys();let y=j.resolve();return v.forEach(E=>{y=y.next(()=>f.getEntry(c,E)).next(P=>{const x=d.docVersions.get(E);Je(x!==null),P.version.compareTo(x)<0&&(m.applyToRemoteDocument(P,d),P.isValidDocument()&&(P.setReadTime(d.commitVersion),f.addEntry(P)))})}),y.next(()=>u.mutationQueue.removeMutationBatch(c,m))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=Ce();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(c=c.add(u.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Rk(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function eB(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const u=[];e.targetChanges.forEach((f,m)=>{const v=i.get(m);if(!v)return;u.push(n.Kr.removeMatchingKeys(o,f.removedDocuments,m).next(()=>n.Kr.addMatchingKeys(o,f.addedDocuments,m)));let y=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(un.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(m,y),function(P,x,T){return P.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(v,y,f)&&u.push(n.Kr.updateTargetData(o,y))});let c=hi(),d=Ce();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),u.push(tB(o,a,e.documentUpdates).next(f=>{c=f.ls,d=f.hs})),!r.isEqual(ge.min())){const f=n.Kr.getLastRemoteSnapshotVersion(o).next(m=>n.Kr.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(f)}return j.waitFor(u).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,d)).next(()=>c)}).then(o=>(n.rs=i,o))}function tB(t,e,n){let r=Ce(),i=Ce();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=hi();return n.forEach((u,c)=>{const d=o.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(ge.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):ee("LocalStore","Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)}),{ls:a,hs:i}})}function nB(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rB(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,e).next(o=>o?(i=o,j.resolve(i)):n.Kr.allocateTargetId(r).next(a=>(i=new Oi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}async function cv(t,e,n){const r=_e(t),i=r.rs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!dc(a))throw a;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}function IT(t,e,n){const r=_e(t);let i=ge.min(),o=Ce();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,d,f){const m=_e(c),v=m.ss.get(f);return v!==void 0?j.resolve(m.rs.get(v)):m.Kr.getTargetData(d,f)}(r,a,Mr(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(a,u.targetId).next(c=>{o=c})}).next(()=>r.ns.getDocumentsMatchingQuery(a,e,n?i:ge.min(),n?o:Ce())).next(u=>(iB(r,KF(e),u),{documents:u,Ps:o})))}function iB(t,e,n){let r=t.os.get(e)||ge.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.os.set(e,r)}class kT{constructor(){this.activeTargetIds=eU()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oB{constructor(){this.ro=new kT,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new kT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{so(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function Sm(){return hh===null?hh=function(){return 268435456+Math.round(2147483648*Math.random())}():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class uB extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get So(){return!1}bo(n,r,i,o,a){const u=Sm(),c=this.Do(n,r);ee("RestConnection",`Sending RPC '${n}' ${u}:`,c,i);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(d,o,a),this.vo(n,c,d,i).then(f=>(ee("RestConnection",`Received RPC '${n}' ${u}: `,f),f),f=>{throw ha("RestConnection",`RPC '${n}' ${u} failed with error: `,f,"url: ",c,"request:",i),f})}Fo(n,r,i,o,a,u){return this.bo(n,r,i,o,a)}Co(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Va}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}Do(n,r){const i=aB[n];return`${this.po}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const o=Sm();return new Promise((a,u)=>{const c=new fF;c.setWithCredentials(!0),c.listenOnce(hF.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Tm.NO_ERROR:const f=c.getResponseJson();ee(Qt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Tm.TIMEOUT:ee(Qt,`RPC '${e}' ${o} timed out`),u(new ie($.DEADLINE_EXCEEDED,"Request time out"));break;case Tm.HTTP_ERROR:const m=c.getStatus();if(ee(Qt,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const y=v==null?void 0:v.error;if(y&&y.status&&y.message){const E=function(x){const T=x.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(T)>=0?T:$.UNKNOWN}(y.status);u(new ie(E,y.message))}else u(new ie($.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new ie($.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{ee(Qt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);ee(Qt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)})}Mo(e,n,r){const i=Sm(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=uF(),u=cF(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Co(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=o.join("");ee(Qt,`Creating RPC '${e}' stream ${i}: ${f}`,c);const m=a.createWebChannel(f,c);let v=!1,y=!1;const E=new lB({ho:x=>{y?ee(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(v||(ee(Qt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),ee(Qt,`RPC '${e}' stream ${i} sending:`,x),m.send(x))},Po:()=>m.close()}),P=(x,T,w)=>{x.listen(T,S=>{try{w(S)}catch(D){setTimeout(()=>{throw D},0)}})};return P(m,lh.EventType.OPEN,()=>{y||ee(Qt,`RPC '${e}' stream ${i} transport opened.`)}),P(m,lh.EventType.CLOSE,()=>{y||(y=!0,ee(Qt,`RPC '${e}' stream ${i} transport closed`),E.mo())}),P(m,lh.EventType.ERROR,x=>{y||(y=!0,ha(Qt,`RPC '${e}' stream ${i} transport errored:`,x),E.mo(new ie($.UNAVAILABLE,"The operation could not be completed")))}),P(m,lh.EventType.MESSAGE,x=>{var T;if(!y){const w=x.data[0];Je(!!w);const S=w,D=S.error||((T=S[0])===null||T===void 0?void 0:T.error);if(D){ee(Qt,`RPC '${e}' stream ${i} received error:`,D);const O=D.status;let V=function(te){const K=Et[te];if(K!==void 0)return Ek(K)}(O),F=D.message;V===void 0&&(V=$.INTERNAL,F="Unknown error status: "+O+" with message "+D.message),y=!0,E.mo(new ie(V,F)),m.close()}else ee(Qt,`RPC '${e}' stream ${i} received:`,w),E.fo(w)}}),P(u,dF.STAT_EVENT,x=>{x.stat===oT.PROXY?ee(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===oT.NOPROXY&&ee(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.Vo()},0),E}}function Cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t){return new wU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,n,r=1e3,i=1.5,o=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=i,this.No=o,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n,r,i,o,a,u,c){this._i=e,this.Uo=r,this.Wo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new bk(e,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,e!==4?this.Ho.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{e(()=>{const i=new ie($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cB extends Ok{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=PU(this.serializer,e),r=function(o){if(!("targetChange"in o))return ge.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?ge.min():a.readTime?Nr(a.readTime):ge.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=uv(this.serializer),n.addTarget=function(o,a){let u;const c=a.target;if(u=iv(c)?{documents:IU(o,c)}:{query:kU(o,c)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=Sk(o,a.resumeToken);const d=sv(o,a.expectedCount);d!==null&&(u.expectedCount=d)}else if(a.snapshotVersion.compareTo(ge.min())>0){u.readTime=Ld(o,a.snapshotVersion.toTimestamp());const d=sv(o,a.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,e);const r=DU(this.serializer,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=uv(this.serializer),n.removeTarget=e,this.n_(n)}}class hB extends Ok{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if(Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=CU(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.T_(r,n)}return Je(!e.writeResults||e.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=uv(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>SU(this.serializer,r))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.bo(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie($.UNKNOWN,i.toString())})}Fo(e,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Fo(e,n,r,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie($.UNKNOWN,o.toString())})}terminate(){this.R_=!0}}class fB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,e==="Online"&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(ci(n),this.p_=!1):ee("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=o,this.x_.so(a=>{r.enqueueAndForget(async()=>{as(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=_e(c);d.F_.add(4),await mc(d),d.O_.set("Unknown"),d.F_.delete(4),await jf(d)}(this))})}),this.O_=new fB(r,i)}}async function jf(t){if(as(t))for(const e of t.M_)await e(!0)}async function mc(t){for(const e of t.M_)await e(!1)}function Mk(t,e){const n=_e(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),Cy(n)?Sy(n):Ua(n).Yo()&&Py(n,e))}function Lk(t,e){const n=_e(t),r=Ua(n);n.v_.delete(e),r.Yo()&&Nk(n,e),n.v_.size===0&&(r.Yo()?r.e_():as(n)&&n.O_.set("Unknown"))}function Py(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ua(t).l_(e)}function Nk(t,e){t.N_.Le(e),Ua(t).h_(e)}function Sy(t){t.N_=new gU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),Ua(t).start(),t.O_.y_()}function Cy(t){return as(t)&&!Ua(t).Jo()&&t.v_.size>0}function as(t){return _e(t).F_.size===0}function Vk(t){t.N_=void 0}async function mB(t){t.v_.forEach((e,n)=>{Py(t,e)})}async function gB(t,e){Vk(t),Cy(t)?(t.O_.b_(e),Sy(t)):t.O_.set("Unknown")}async function vB(t,e,n){if(t.O_.set("Online"),e instanceof Pk&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const u of o.targetIds)i.v_.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.v_.delete(u),i.N_.removeTarget(u))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nd(t,r)}else if(e instanceof Lh?t.N_.Ge(e):e instanceof Tk?t.N_.Xe(e):t.N_.He(e),!n.isEqual(ge.min()))try{const r=await Rk(t.localStore);n.compareTo(r)>=0&&await function(o,a){const u=o.N_._t(a);return u.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=o.v_.get(d);f&&o.v_.set(d,f.withResumeToken(c.resumeToken,a))}}),u.targetMismatches.forEach((c,d)=>{const f=o.v_.get(c);if(!f)return;o.v_.set(c,f.withResumeToken(un.EMPTY_BYTE_STRING,f.snapshotVersion)),Nk(o,c);const m=new Oi(f.target,c,d,f.sequenceNumber);Py(o,m)}),o.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await Nd(t,r)}}async function Nd(t,e,n){if(!dc(e))throw e;t.F_.add(1),await mc(t),t.O_.set("Offline"),n||(n=()=>Rk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t.F_.delete(1),await jf(t)})}function Fk(t,e){return e().catch(n=>Nd(t,n,e))}async function zf(t){const e=_e(t),n=no(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;_B(e);)try{const i=await nB(e.localStore,r);if(i===null){e.C_.length===0&&n.e_();break}r=i.batchId,yB(e,i)}catch(i){await Nd(e,i)}Uk(e)&&Bk(e)}function _B(t){return as(t)&&t.C_.length<10}function yB(t,e){t.C_.push(e);const n=no(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function Uk(t){return as(t)&&!no(t).Jo()&&t.C_.length>0}function Bk(t){no(t).start()}async function wB(t){no(t).A_()}async function EB(t){const e=no(t);for(const n of t.C_)e.d_(n.mutations)}async function TB(t,e,n){const r=t.C_.shift(),i=vy.from(r,e,n);await Fk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await zf(t)}async function PB(t,e){e&&no(t).I_&&await async function(r,i){if(function(a){return fU(a)&&a!==$.ABORTED}(i.code)){const o=r.C_.shift();no(r).Xo(),await Fk(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await zf(r)}}(t,e),Uk(t)&&Bk(t)}async function DT(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=as(n);n.F_.add(3),await mc(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),await jf(n)}async function SB(t,e){const n=_e(t);e?(n.F_.delete(2),await jf(n)):e||(n.F_.add(2),await mc(n),n.O_.set("Unknown"))}function Ua(t){return t.B_||(t.B_=function(n,r,i){const o=_e(n);return o.V_(),new cB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Io:mB.bind(null,t),Eo:gB.bind(null,t),c_:vB.bind(null,t)}),t.M_.push(async e=>{e?(t.B_.Xo(),Cy(t)?Sy(t):t.O_.set("Unknown")):(await t.B_.stop(),Vk(t))})),t.B_}function no(t){return t.L_||(t.L_=function(n,r,i){const o=_e(n);return o.V_(),new hB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Io:wB.bind(null,t),Eo:PB.bind(null,t),E_:EB.bind(null,t),T_:TB.bind(null,t)}),t.M_.push(async e=>{e?(t.L_.Xo(),await zf(t)):(await t.L_.stop(),t.C_.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,u=new Iy(e,n,a,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ky(t,e){if(ci("AsyncQueue",`${e}: ${t}`),dc(t))return new ie($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=bl(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new ta(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ta)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ta;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.k_=new ut(se.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?e.type!==0&&r.type===3?this.k_=this.k_.insert(n,e):e.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.k_=this.k_.remove(n):e.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):he():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class va{constructor(e,n,r,i,o,a,u,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(u=>{a.push({type:0,doc:u})}),new va(e,n,ta.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(){this.Q_=void 0,this.listeners=[]}}class IB{constructor(){this.queries=new Fa(e=>ak(e),Nf),this.onlineState="Unknown",this.K_=new Set}}async function kB(t,e){const n=_e(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new CB),i)try{o.Q_=await n.onListen(r)}catch(a){const u=ky(a,`Initialization of query '${Is(e.query)}' failed`);return void e.onError(u)}n.queries.set(r,o),o.listeners.push(e),e.U_(n.onlineState),o.Q_&&e.W_(o.Q_)&&xy(n)}async function xB(t,e){const n=_e(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const a=o.listeners.indexOf(e);a>=0&&(o.listeners.splice(a,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function DB(t,e){const n=_e(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const u of a.listeners)u.W_(i)&&(r=!0);a.Q_=i}}r&&xy(n)}function AB(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function xy(t){t.K_.forEach(e=>{e.next()})}class RB{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new va(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.key=e}}class jk{constructor(e){this.key=e}}class bB{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Ce(),this.mutatedKeys=Ce(),this.ua=lk(e),this.ca=new ta(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new AT,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const v=i.get(f),y=Vf(this.query,m)?m:null,E=!!v&&this.mutatedKeys.has(v.key),P=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;v&&y?v.data.isEqual(y.data)?E!==P&&(r.track({type:3,doc:y}),x=!0):this.Ia(v,y)||(r.track({type:2,doc:y}),x=!0,(c&&this.ua(y,c)>0||d&&this.ua(y,d)<0)&&(u=!0)):!v&&y?(r.track({type:0,doc:y}),x=!0):v&&!y&&(r.track({type:1,doc:v}),x=!0,(c||d)&&(u=!0)),x&&(y?(a=a.add(y),o=P?o.add(f):o.delete(f)):(a=a.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{ca:a,Pa:r,es:u,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.q_();o.sort((d,f)=>function(v,y){const E=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return E(v)-E(y)}(d.type,f.type)||this.ua(d.doc,f.doc)),this.da(r);const a=n?this.Ta():[],u=this.aa.size===0&&this.current?1:0,c=u!==this._a;return this._a=u,o.length!==0||c?{snapshot:new va(this.query,e.ca,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:a}:{Ea:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new AT,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=Ce(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new jk(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new $k(r))}),n}Ra(e){this.oa=e.Ps,this.aa=Ce();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return va.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class OB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class MB{constructor(e){this.key=e,this.ma=!1}}class LB{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.fa={},this.ga=new Fa(u=>ak(u),Nf),this.pa=new Map,this.ya=new Set,this.wa=new ut(se.comparator),this.Sa=new Map,this.ba=new wy,this.Da={},this.Ca=new Map,this.va=ga.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function NB(t,e){const n=YB(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const a=await rB(n.localStore,Mr(e)),u=n.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,i=await VB(n,e,r,u==="current",a.resumeToken),n.isPrimaryClient&&Mk(n.remoteStore,a)}return i}async function VB(t,e,n,r,i){t.Ma=(m,v,y)=>async function(P,x,T,w){let S=x.view.ha(T);S.es&&(S=await IT(P.localStore,x.query,!1).then(({documents:V})=>x.view.ha(V,S)));const D=w&&w.targetChanges.get(x.targetId),O=x.view.applyChanges(S,P.isPrimaryClient,D);return bT(P,x.targetId,O.Ea),O.snapshot}(t,m,v,y);const o=await IT(t.localStore,e,!0),a=new bB(e,o.Ps),u=a.ha(o.documents),c=pc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(u,t.isPrimaryClient,c);bT(t,n,d.Ea);const f=new OB(e,n,a);return t.ga.set(e,f),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),d.snapshot}async function FB(t,e){const n=_e(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!Nf(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await cv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Lk(n.remoteStore,r.targetId),hv(n,r.targetId)}).catch(hc)):(hv(n,r.targetId),await cv(n.localStore,r.targetId,!0))}async function UB(t,e,n){const r=qB(t);try{const i=await function(a,u){const c=_e(a),d=St.now(),f=u.reduce((y,E)=>y.add(E.key),Ce());let m,v;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=hi(),P=Ce();return c._s.getEntries(y,f).next(x=>{E=x,E.forEach((T,w)=>{w.isValidDocument()||(P=P.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,E)).next(x=>{m=x;const T=[];for(const w of u){const S=lU(w,m.get(w.key).overlayedDocument);S!=null&&T.push(new co(w.key,S,JI(S.value.mapValue),Lr.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,T,u)}).next(x=>{v=x;const T=x.applyToLocalDocumentSet(m,P);return c.documentOverlayCache.saveOverlays(y,x.batchId,T)})}).then(()=>({batchId:v.batchId,changes:ck(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,c){let d=a.Da[a.currentUser.toKey()];d||(d=new ut(Fe)),d=d.insert(u,c),a.Da[a.currentUser.toKey()]=d}(r,i.batchId,n),await gc(r,i.changes),await zf(r.remoteStore)}catch(i){const o=ky(i,"Failed to persist write");n.reject(o)}}async function zk(t,e){const n=_e(t);try{const r=await eB(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Sa.get(o);a&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.ma=!0:i.modifiedDocuments.size>0?Je(a.ma):i.removedDocuments.size>0&&(Je(a.ma),a.ma=!1))}),await gc(n,r,e)}catch(r){await hc(r)}}function RT(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,a)=>{const u=a.view.U_(e);u.snapshot&&i.push(u.snapshot)}),function(a,u){const c=_e(a);c.onlineState=u;let d=!1;c.queries.forEach((f,m)=>{for(const v of m.listeners)v.U_(u)&&(d=!0)}),d&&xy(c)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BB(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let a=new ut(se.comparator);a=a.insert(o,en.newNoDocument(o,ge.min()));const u=Ce().add(o),c=new Bf(ge.min(),new Map,new ut(Fe),a,u);await zk(r,c),r.wa=r.wa.remove(o),r.Sa.delete(e),Dy(r)}else await cv(r.localStore,e,!1).then(()=>hv(r,e,n)).catch(hc)}async function $B(t,e){const n=_e(t),r=e.batch.batchId;try{const i=await JU(n.localStore,e);Hk(n,r,null),Wk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gc(n,i)}catch(i){await hc(i)}}async function jB(t,e,n){const r=_e(t);try{const i=await function(a,u){const c=_e(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return c.mutationQueue.lookupMutationBatch(d,u).next(m=>(Je(m!==null),f=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>c.localDocuments.getDocuments(d,f))})}(r.localStore,e);Hk(r,e,n),Wk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gc(r,i)}catch(i){await hc(i)}}function Wk(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function Hk(t,e,n){const r=_e(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function hv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||Yk(t,r)})}function Yk(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(Lk(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Dy(t))}function bT(t,e,n){for(const r of n)r instanceof $k?(t.ba.addReference(r.key,e),zB(t,r)):r instanceof jk?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||Yk(t,r.key)):he()}function zB(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.ya.add(r),Dy(t))}function Dy(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new se(rt.fromString(e)),r=t.va.next();t.Sa.set(r,new MB(n)),t.wa=t.wa.insert(n,r),Mk(t.remoteStore,new Oi(Mr(sk(n.path)),r,"TargetPurposeLimboResolution",hy.ae))}}async function gc(t,e,n){const r=_e(t),i=[],o=[],a=[];r.ga.isEmpty()||(r.ga.forEach((u,c)=>{a.push(r.Ma(c,e,n).then(d=>{if((d||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,d!=null&&d.fromCache?"not-current":"current"),d){i.push(d);const f=Ty.$i(c.targetId,d);o.push(f)}}))}),await Promise.all(a),r.fa.c_(i),await async function(c,d){const f=_e(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>j.forEach(d,v=>j.forEach(v.Qi,y=>f.persistence.referenceDelegate.addReference(m,v.targetId,y)).next(()=>j.forEach(v.Ki,y=>f.persistence.referenceDelegate.removeReference(m,v.targetId,y)))))}catch(m){if(!dc(m))throw m;ee("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const v=m.targetId;if(!m.fromCache){const y=f.rs.get(v),E=y.snapshotVersion,P=y.withLastLimboFreeSnapshotVersion(E);f.rs=f.rs.insert(v,P)}}}(r.localStore,o))}async function WB(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await Ak(n.localStore,e);n.currentUser=e,function(o,a){o.Ca.forEach(u=>{u.forEach(c=>{c.reject(new ie($.CANCELLED,a))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gc(n,r.cs)}}function HB(t,e){const n=_e(t),r=n.Sa.get(e);if(r&&r.ma)return Ce().add(r.key);{let i=Ce();const o=n.pa.get(e);if(!o)return i;for(const a of o){const u=n.ga.get(a);i=i.unionWith(u.view.la)}return i}}function YB(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BB.bind(null,e),e.fa.c_=DB.bind(null,e.eventManager),e.fa.xa=AB.bind(null,e.eventManager),e}function qB(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$B.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jB.bind(null,e),e}class OT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=$f(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return XU(this.persistence,new GU,e.initialUser,this.serializer)}createPersistence(e){return new qU(Ey.Jr,this.serializer)}createSharedClientState(e){return new oB}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class KB{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WB.bind(null,this.syncEngine),await SB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new IB}()}createDatastore(e){const n=$f(e.databaseInfo.databaseId),r=function(o){return new uB(o)}(e.databaseInfo);return function(o,a,u,c){return new dB(o,a,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,u){return new pB(r,i,o,a,u)}(this.localStore,this.datastore,e.asyncQueue,n=>RT(this.syncEngine,n,0),function(){return xT.C()?new xT:new sB}())}createSyncEngine(e,n){return function(i,o,a,u,c,d,f){const m=new LB(i,o,a,u,c,d);return f&&(m.Fa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=_e(n);ee("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await mc(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xt.UNAUTHENTICATED,this.clientId=GI.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ee("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ee("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ky(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Im(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Ak(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function MT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XB(t);ee("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>DT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>DT(e.remoteStore,o)),t._onlineComponents=e}function QB(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function XB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Im(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!QB(n))throw n;ha("Error using user provided cache. Falling back to memory cache: "+n),await Im(t,new OT)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await Im(t,new OT);return t._offlineComponents}async function qk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await MT(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await MT(t,new KB))),t._onlineComponents}function JB(t){return qk(t).then(e=>e.syncEngine)}async function e$(t){const e=await qk(t),n=e.eventManager;return n.onListen=NB.bind(null,e.syncEngine),n.onUnlisten=FB.bind(null,e.syncEngine),n}function t$(t,e,n={}){const r=new Ki;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,u,c,d){const f=new ZB({next:v=>{a.enqueueAndForget(()=>xB(o,m)),v.fromCache&&c.source==="server"?d.reject(new ie($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),m=new RB(u,f,{includeMetadataChanges:!0,Z_:!0});return kB(o,m)}(await e$(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t,e,n){if(!n)throw new ie($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n$(t,e,n,r){if(e===!0&&r===!0)throw new ie($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NT(t){if(!se.isDocumentKey(t))throw new ie($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VT(t){if(se.isDocumentKey(t))throw new ie($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ay(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function Zo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ay(t);throw new ie($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ie($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mF;switch(r.type){case"firstParty":return new yF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=LT.get(n);r&&(ee("ComponentProvider","Removing Datastore"),LT.delete(n),r.terminate())}(this),Promise.resolve()}}function r$(t,e,n,r={}){var i;const o=(t=Zo(t,Wf))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=Xt.MOCK_USER;else{u=DM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new ie($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Xt(d)}t._authCredentials=new gF(new ZI(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hf(this.firestore,e,this._query)}}class Ln{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}}class Zi extends Hf{constructor(e,n,r){super(e,n,sk(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new se(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function i$(t,e,...n){if(t=Kt(t),Zk("collection","path",e),t instanceof Wf){const r=rt.fromString(e,...n);return VT(r),new Zi(t,null,r)}{if(!(t instanceof Ln||t instanceof Zi))throw new ie($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return VT(r),new Zi(t.firestore,null,r)}}function Nh(t,e,...n){if(t=Kt(t),arguments.length===1&&(e=GI.V()),Zk("doc","path",e),t instanceof Wf){const r=rt.fromString(e,...n);return NT(r),new Ln(t,null,new se(r))}{if(!(t instanceof Ln||t instanceof Zi))throw new ie($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return NT(r),new Ln(t.firestore,t instanceof Zi?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new bk(this,"async_queue_retry"),this.ou=()=>{const n=Cm();n&&ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=Cm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=Cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new Ki;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!dc(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{this.nu=r,this.ru=!1;const i=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(r);throw ci("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const i=Iy.createAndSchedule(this,e,n,r,o=>this.cu(o));return this.tu.push(i),i}_u(){this.nu&&he()}verifyOperationInProgress(){}async lu(){let e;do e=this.Za,await e;while(e!==this.Za)}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}class Yf extends Wf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new o$}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Qk(this),this._firestoreClient.terminate()}}function s$(t,e){const n=typeof t=="object"?t:fC(),r=typeof t=="string"?t:e||"(default)",i=b_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=kM("firestore");o&&r$(i,...o)}return i}function Gk(t){return t._firestoreClient||Qk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Qk(t){var e,n,r;const i=t._freezeSettings(),o=function(u,c,d,f){return new RF(u,c,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Kk(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new GB(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _a(un.fromBase64String(e))}catch(n){throw new ie($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _a(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=/^__.*__$/;class l${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,n,this.fieldTransforms):new fc(e,this.data,n,this.fieldTransforms)}}class Xk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new co(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Jk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class Zf{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.du(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new Zf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return Vd(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(e.length===0)throw this.gu("Document fields must not be empty");if(Jk(this.Tu)&&a$.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class u${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$f(e)}wu(e,n,r,i=!1){return new Zf({Tu:e,methodName:n,yu:r,path:tn.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ex(t){const e=t._freezeSettings(),n=$f(t._databaseId);return new u$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function c$(t,e,n,r,i,o={}){const a=t.wu(o.merge||o.mergeFields?2:0,e,n,i);by("Data must be an object, but it was:",a,r);const u=tx(r,a);let c,d;if(o.merge)c=new Rn(a.fieldMask),d=a.fieldTransforms;else if(o.mergeFields){const f=[];for(const m of o.mergeFields){const v=dv(e,m,n);if(!a.contains(v))throw new ie($.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);rx(f,v)||f.push(v)}c=new Rn(f),d=a.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=a.fieldTransforms;return new l$(new En(u),c,d)}class Gf extends Kf{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.gu(`${this._methodName}() can only appear at the top level of your update data`):e.gu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gf}}function h$(t,e,n){return new Zf({Tu:3,yu:e.settings.yu,methodName:t._methodName,Ru:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class d$ extends Kf{constructor(e,n){super(e),this.Su=n}_toFieldTransform(e){const n=h$(this,e,!0),r=this.Su.map(o=>vc(o,n)),i=new ma(r);return new iU(e.path,i)}isEqual(e){return this===e}}function f$(t,e,n,r){const i=t.wu(1,e,n);by("Data must be an object, but it was:",i,r);const o=[],a=En.empty();ss(r,(c,d)=>{const f=Oy(e,c,n);d=Kt(d);const m=i.mu(f);if(d instanceof Gf)o.push(f);else{const v=vc(d,m);v!=null&&(o.push(f),a.set(f,v))}});const u=new Rn(o);return new Xk(a,u,i.fieldTransforms)}function p$(t,e,n,r,i,o){const a=t.wu(1,e,n),u=[dv(e,r,n)],c=[i];if(o.length%2!=0)throw new ie($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(dv(e,o[v])),c.push(o[v+1]);const d=[],f=En.empty();for(let v=u.length-1;v>=0;--v)if(!rx(d,u[v])){const y=u[v];let E=c[v];E=Kt(E);const P=a.mu(y);if(E instanceof Gf)d.push(y);else{const x=vc(E,P);x!=null&&(d.push(y),f.set(y,x))}}const m=new Rn(d);return new Xk(f,m,a.fieldTransforms)}function vc(t,e){if(nx(t=Kt(t)))return by("Unsupported field value:",e,t),tx(t,e);if(t instanceof Kf)return function(r,i){if(!Jk(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&e.Tu!==4)throw e.gu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const u of r){let c=vc(u,i.fu(a));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=St.fromDate(r);return{timestampValue:Ld(i.serializer,o)}}if(r instanceof St){const o=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ld(i.serializer,o)}}if(r instanceof Ry)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _a)return{bytesValue:Sk(i.serializer,r._byteString)};if(r instanceof Ln){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.gu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yy(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${Ay(r)}`)}(t,e)}function tx(t,e){const n={};return QI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(t,(r,i)=>{const o=vc(i,e.Au(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function nx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof Ry||t instanceof _a||t instanceof Ln||t instanceof Kf)}function by(t,e,n){if(!nx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ay(n);throw r==="an object"?e.gu(t+" a custom object"):e.gu(t+" "+r)}}function dv(t,e,n){if((e=Kt(e))instanceof qf)return e._internalPath;if(typeof e=="string")return Oy(t,e);throw Vd("Field path arguments must be of type string or ",t,!1,void 0,n)}const m$=new RegExp("[~\\*/\\[\\]]");function Oy(t,e,n){if(e.search(m$)>=0)throw Vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qf(...e.split("."))._internalPath}catch{throw Vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vd(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new ie($.INVALID_ARGUMENT,u+t+c)}function rx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ox("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g$ extends ix{data(){return super.data()}}function ox(t,e){return typeof e=="string"?Oy(t,e):e instanceof qf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _${convertValue(e,n="none"){switch(Ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ss(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Ry(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lu(e));default:return null}}convertTimestamp(e){const n=to(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);Je(Dk(r));const i=new Nu(r.get(1),r.get(3)),o=new se(r.popFirst(5));return i.isEqual(n)||ci(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class w$ extends ix{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ox("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Vh extends w${data(e={}){return super.data(e)}}class E${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new dh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vh(this._firestore,this._userDataWriter,r.key,r,new dh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>{const c=new Vh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new dh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const c=new Vh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new dh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return u.type!==0&&(d=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),f=a.indexOf(u.doc.key)),{type:T$(u.type),doc:c,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function T$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}class P$ extends _${constructor(e){super(),this.firestore=e}convertBytes(e){return new _a(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,n)}}function S$(t){t=Zo(t,Hf);const e=Zo(t.firestore,Yf),n=Gk(e),r=new P$(e);return v$(t._query),t$(n,t._query).then(i=>new E$(e,r,t,i))}function sx(t,e,n){t=Zo(t,Ln);const r=Zo(t.firestore,Yf),i=y$(t.converter,e,n);return ax(r,[c$(ex(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Lr.none())])}function UT(t,e,n,...r){t=Zo(t,Ln);const i=Zo(t.firestore,Yf),o=ex(i);let a;return a=typeof(e=Kt(e))=="string"||e instanceof qf?p$(o,"updateDoc",t._key,e,n,r):f$(o,"updateDoc",t._key,e),ax(i,[a.toMutation(t._key,Lr.exists(!0))])}function ax(t,e){return function(r,i){const o=new Ki;return r.asyncQueue.enqueueAndForget(async()=>UB(await JB(r),i,o)),o.promise}(Gk(t),e)}function C$(...t){return new d$("arrayUnion",t)}(function(e,n=!0){(function(i){Va=i})(Oa),ua(new jo("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),u=new Yf(new vF(r.getProvider("auth-internal")),new EF(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ie($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nu(d.options.projectId,f)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),qi(sT,"4.1.3",e),qi(sT,"4.1.3","esm2017")})();const I$={apiKey:"AIzaSyAsn6FJ9BygNMb7eVambs4JVpA_yzKaqh0",authDomain:"worldwise-fc516.firebaseapp.com",projectId:"worldwise-fc516",storageBucket:"worldwise-fc516.appspot.com",messagingSenderId:"1028043845352",appId:"1:1028043845352:web:40e21d3a9e29a4f4b1a35d"},lx=dC(I$),Ml=s$(lx),Fd=lV(lx),Ba=R.createContext(),ux=({children:t})=>{const[e,n]=R.useState({}),r=()=>{GN(Fd)};return R.useEffect(()=>{const i=ZN(Fd,o=>{n(o)});return()=>{i()}},[]),A.jsx(Ba.Provider,{value:{currentUser:e,SignOut:r},children:t})};ux.propTypes={children:Ot.any};function _c(){const{currentUser:t,SignOut:e}=R.useContext(Ba);return A.jsxs("nav",{className:om.nav,children:[A.jsx(eC,{}),A.jsxs("ul",{children:[A.jsx("li",{children:A.jsx(Hl,{to:"/pricing",children:"Pricing"})}),A.jsx("li",{children:A.jsx(Hl,{to:"/product",children:"Product"})}),A.jsx("li",{children:t?A.jsx("a",{href:"",className:om.ctaLink,onClick:e,children:"Sign out"}):A.jsx(Hl,{to:"/login",className:om.ctaLink,children:"Login"})})]})]})}const k$="_product_1ijzm_1",cx={product:k$};function x$(){return A.jsxs("main",{className:cx.product,children:[A.jsx(_c,{}),A.jsxs("section",{children:[A.jsx("img",{src:"img-1.jpg",alt:"person with dog overlooking mountain with sunset"}),A.jsxs("div",{children:[A.jsx("h2",{children:"About WorldWide."}),A.jsx("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo est dicta illum vero culpa cum quaerat architecto sapiente eius non soluta, molestiae nihil laborum, placeat debitis, laboriosam at fuga perspiciatis?"}),A.jsx("p",{children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Corporis doloribus libero sunt expedita ratione iusto, magni, id sapiente sequi officiis et."})]})]})]})}function D$(){return A.jsxs("main",{className:cx.product,children:[A.jsx(_c,{}),A.jsxs("section",{children:[A.jsxs("div",{children:[A.jsxs("h2",{children:["Simple pricing.",A.jsx("br",{}),"Just $9/month."]}),A.jsx("p",{children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Vitae vel labore mollitia iusto. Recusandae quos provident, laboriosam fugit voluptatem iste."})]}),A.jsx("img",{src:"img-2.jpg",alt:"overview of a large city with skyscrapers"})]})]})}const A$="_homepage_hmef9_1",R$={homepage:A$};function b$(){const{currentUser:t}=R.useContext(Ba);return A.jsxs("main",{className:R$.homepage,children:[A.jsx(_c,{}),A.jsxs("section",{children:[A.jsxs("h1",{children:["You travel the world.",A.jsx("br",{}),"WorldWise keeps track of your adventures."]}),A.jsx("h2",{children:"A world map that tracks your footsteps into every city you can think of. Never forget your wonderful experiences, and show your friends how you have wandered the world."}),A.jsx(ba,{to:t?"/app":"/login",className:"cta",children:"Start tracking now"})]})]})}function O$(){return A.jsx("div",{children:A.jsx("h1",{children:"Page not found "})})}const M$="_app_1asv8_1",L$={app:M$},N$="_sidebar_1cb67_1",V$="_footer_1cb67_12",F$="_copyright_1cb67_16",km={sidebar:N$,footer:V$,copyright:F$},U$="_nav_89j0t_1",B$={nav:U$};function $$(){return A.jsx("nav",{className:B$.nav,children:A.jsxs("ul",{children:[A.jsx("li",{children:A.jsx(Hl,{to:"cities",children:"Cities"})}),A.jsx("li",{children:A.jsx(Hl,{to:"countries",children:"Countries"})})]})})}function j$(){return A.jsxs("div",{className:km.sidebar,children:[A.jsx(eC,{}),A.jsx($$,{}),A.jsx(QO,{}),A.jsx("footer",{className:km.footer,children:A.jsxs("p",{className:km.copyright,children:[" Copyright ",new Date().getFullYear()," by WorldWise Inc."]})})]})}const z$="_mapContainer_1mfx8_1",W$="_map_1mfx8_1",BT={mapContainer:z$,map:W$};function hx(t,e){const n=R.useRef(e);R.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const H$=1;function Y$(t){return Object.freeze({__version:H$,map:t})}function q$(t,e){return Object.freeze({...t,...e})}const dx=R.createContext(null),fx=dx.Provider;function My(){const t=R.useContext(dx);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function K$(t){function e(n,r){const{instance:i,context:o}=t(n).current;return R.useImperativeHandle(r,()=>i),n.children==null?null:M.createElement(fx,{value:o},n.children)}return R.forwardRef(e)}function Z$(t){function e(n,r){const[i,o]=R.useState(!1),{instance:a}=t(n,o).current;R.useImperativeHandle(r,()=>a),R.useEffect(function(){i&&a.update()},[a,i,n.children]);const u=a._contentNode;return u?Gu.createPortal(n.children,u):null}return R.forwardRef(e)}function G$(t){function e(n,r){const{instance:i}=t(n).current;return R.useImperativeHandle(r,()=>i),null}return R.forwardRef(e)}function px(t,e){const n=R.useRef();R.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Ly(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function Q$(t,e){return function(r,i){const o=My(),a=t(Ly(r,o),o);return hx(o.map,r.attribution),px(a.current,r.eventHandlers),e(a.current,o,r,i),a}}var fv={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(NA,function(n){var r="1.9.4";function i(s){var l,h,p,g;for(h=1,p=arguments.length;h<p;h++){g=arguments[h];for(l in g)s[l]=g[l]}return s}var o=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function a(s,l){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var p=h.call(arguments,2);return function(){return s.apply(l,p.length?p.concat(h.call(arguments)):arguments)}}var u=0;function c(s){return"_leaflet_id"in s||(s._leaflet_id=++u),s._leaflet_id}function d(s,l,h){var p,g,_,k;return k=function(){p=!1,g&&(_.apply(h,g),g=!1)},_=function(){p?g=arguments:(s.apply(h,arguments),setTimeout(k,l),p=!0)},_}function f(s,l,h){var p=l[1],g=l[0],_=p-g;return s===p&&h?s:((s-g)%_+_)%_+g}function m(){return!1}function v(s,l){if(l===!1)return s;var h=Math.pow(10,l===void 0?6:l);return Math.round(s*h)/h}function y(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function E(s){return y(s).split(/\s+/)}function P(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var h in l)s.options[h]=l[h];return s.options}function x(s,l,h){var p=[];for(var g in s)p.push(encodeURIComponent(h?g.toUpperCase():g)+"="+encodeURIComponent(s[g]));return(!l||l.indexOf("?")===-1?"?":"&")+p.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function w(s,l){return s.replace(T,function(h,p){var g=l[p];if(g===void 0)throw new Error("No value provided for variable "+h);return typeof g=="function"&&(g=g(l)),g})}var S=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function D(s,l){for(var h=0;h<s.length;h++)if(s[h]===l)return h;return-1}var O="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var F=0;function H(s){var l=+new Date,h=Math.max(0,16-(l-F));return F=l+h,window.setTimeout(s,h)}var te=window.requestAnimationFrame||V("RequestAnimationFrame")||H,K=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function le(s,l,h){if(h&&te===H)s.call(l);else return te.call(window,a(s,l))}function Se(s){s&&K.call(window,s)}var Be={__proto__:null,extend:i,create:o,bind:a,get lastId(){return u},stamp:c,throttle:d,wrapNum:f,falseFn:m,formatNum:v,trim:y,splitWords:E,setOptions:P,getParamString:x,template:w,isArray:S,indexOf:D,emptyImageUrl:O,requestFn:te,cancelFn:K,requestAnimFrame:le,cancelAnimFrame:Se};function et(){}et.extend=function(s){var l=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,p=o(h);p.constructor=l,l.prototype=p;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(l[g]=this[g]);return s.statics&&i(l,s.statics),s.includes&&($e(s.includes),i.apply(null,[p].concat(s.includes))),i(p,s),delete p.statics,delete p.includes,p.options&&(p.options=h.options?o(h.options):{},i(p.options,s.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var _=0,k=p._initHooks.length;_<k;_++)p._initHooks[_].call(this)}},l},et.include=function(s){var l=this.prototype.options;return i(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},et.mergeOptions=function(s){return i(this.prototype.options,s),this},et.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function $e(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=S(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var de={on:function(s,l,h){if(typeof s=="object")for(var p in s)this._on(p,s[p],l);else{s=E(s);for(var g=0,_=s.length;g<_;g++)this._on(s[g],l,h)}return this},off:function(s,l,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var p in s)this._off(p,s[p],l);else{s=E(s);for(var g=arguments.length===1,_=0,k=s.length;_<k;_++)g?this._off(s[_]):this._off(s[_],l,h)}return this},_on:function(s,l,h,p){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,h)===!1){h===this&&(h=void 0);var g={fn:l,ctx:h};p&&(g.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(g)}},_off:function(s,l,h){var p,g,_;if(this._events&&(p=this._events[s],!!p)){if(arguments.length===1){if(this._firingCount)for(g=0,_=p.length;g<_;g++)p[g].fn=m;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var k=this._listens(s,l,h);if(k!==!1){var b=p[k];this._firingCount&&(b.fn=m,this._events[s]=p=p.slice()),p.splice(k,1)}}},fire:function(s,l,h){if(!this.listens(s,h))return this;var p=i({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var g=this._events[s];if(g){this._firingCount=this._firingCount+1||1;for(var _=0,k=g.length;_<k;_++){var b=g[_],N=b.fn;b.once&&this.off(s,N,b.ctx),N.call(b.ctx||this,p)}this._firingCount--}}return h&&this._propagateEvent(p),this},listens:function(s,l,h,p){typeof s!="string"&&console.warn('"string" type argument expected');var g=l;typeof l!="function"&&(p=!!l,g=void 0,h=void 0);var _=this._events&&this._events[s];if(_&&_.length&&this._listens(s,g,h)!==!1)return!0;if(p){for(var k in this._eventParents)if(this._eventParents[k].listens(s,l,h,p))return!0}return!1},_listens:function(s,l,h){if(!this._events)return!1;var p=this._events[s]||[];if(!l)return!!p.length;h===this&&(h=void 0);for(var g=0,_=p.length;g<_;g++)if(p[g].fn===l&&p[g].ctx===h)return g;return!1},once:function(s,l,h){if(typeof s=="object")for(var p in s)this._on(p,s[p],l,!0);else{s=E(s);for(var g=0,_=s.length;g<_;g++)this._on(s[g],l,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[c(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[c(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,i({layer:s.target,propagatedFrom:s.target},s),!0)}};de.addEventListener=de.on,de.removeEventListener=de.clearAllEventListeners=de.off,de.addOneTimeEventListener=de.once,de.fireEvent=de.fire,de.hasEventListeners=de.listens;var je=et.extend(de);function U(s,l,h){this.x=h?Math.round(s):s,this.y=h?Math.round(l):l}var re=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(s){return this.clone()._add(W(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(W(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new U(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new U(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=re(this.x),this.y=re(this.y),this},distanceTo:function(s){s=W(s);var l=s.x-this.x,h=s.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(s){return s=W(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=W(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function W(s,l,h){return s instanceof U?s:S(s)?new U(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new U(s.x,s.y):new U(s,l,h)}function oe(s,l){if(s)for(var h=l?[s,l]:s,p=0,g=h.length;p<g;p++)this.extend(h[p])}oe.prototype={extend:function(s){var l,h;if(!s)return this;if(s instanceof U||typeof s[0]=="number"||"x"in s)l=h=W(s);else if(s=fe(s),l=s.min,h=s.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return W(this.min.x,this.max.y)},getTopRight:function(){return W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,h;return typeof s[0]=="number"||s instanceof U?s=W(s):s=fe(s),s instanceof oe?(l=s.min,h=s.max):l=h=s,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=fe(s);var l=this.min,h=this.max,p=s.min,g=s.max,_=g.x>=l.x&&p.x<=h.x,k=g.y>=l.y&&p.y<=h.y;return _&&k},overlaps:function(s){s=fe(s);var l=this.min,h=this.max,p=s.min,g=s.max,_=g.x>l.x&&p.x<h.x,k=g.y>l.y&&p.y<h.y;return _&&k},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,h=this.max,p=Math.abs(l.x-h.x)*s,g=Math.abs(l.y-h.y)*s;return fe(W(l.x-p,l.y-g),W(h.x+p,h.y+g))},equals:function(s){return s?(s=fe(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function fe(s,l){return!s||s instanceof oe?s:new oe(s,l)}function qe(s,l){if(s)for(var h=l?[s,l]:s,p=0,g=h.length;p<g;p++)this.extend(h[p])}qe.prototype={extend:function(s){var l=this._southWest,h=this._northEast,p,g;if(s instanceof me)p=s,g=s;else if(s instanceof qe){if(p=s._southWest,g=s._northEast,!p||!g)return this}else return s?this.extend(ae(s)||ye(s)):this;return!l&&!h?(this._southWest=new me(p.lat,p.lng),this._northEast=new me(g.lat,g.lng)):(l.lat=Math.min(p.lat,l.lat),l.lng=Math.min(p.lng,l.lng),h.lat=Math.max(g.lat,h.lat),h.lng=Math.max(g.lng,h.lng)),this},pad:function(s){var l=this._southWest,h=this._northEast,p=Math.abs(l.lat-h.lat)*s,g=Math.abs(l.lng-h.lng)*s;return new qe(new me(l.lat-p,l.lng-g),new me(h.lat+p,h.lng+g))},getCenter:function(){return new me((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new me(this.getNorth(),this.getWest())},getSouthEast:function(){return new me(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof me||"lat"in s?s=ae(s):s=ye(s);var l=this._southWest,h=this._northEast,p,g;return s instanceof qe?(p=s.getSouthWest(),g=s.getNorthEast()):p=g=s,p.lat>=l.lat&&g.lat<=h.lat&&p.lng>=l.lng&&g.lng<=h.lng},intersects:function(s){s=ye(s);var l=this._southWest,h=this._northEast,p=s.getSouthWest(),g=s.getNorthEast(),_=g.lat>=l.lat&&p.lat<=h.lat,k=g.lng>=l.lng&&p.lng<=h.lng;return _&&k},overlaps:function(s){s=ye(s);var l=this._southWest,h=this._northEast,p=s.getSouthWest(),g=s.getNorthEast(),_=g.lat>l.lat&&p.lat<h.lat,k=g.lng>l.lng&&p.lng<h.lng;return _&&k},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=ye(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ye(s,l){return s instanceof qe?s:new qe(s,l)}function me(s,l,h){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,h!==void 0&&(this.alt=+h)}me.prototype={equals:function(s,l){if(!s)return!1;s=ae(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+v(this.lat,s)+", "+v(this.lng,s)+")"},distanceTo:function(s){return ke.distance(this,ae(s))},wrap:function(){return ke.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,h=l/Math.cos(Math.PI/180*this.lat);return ye([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new me(this.lat,this.lng,this.alt)}};function ae(s,l,h){return s instanceof me?s:S(s)&&typeof s[0]!="object"?s.length===3?new me(s[0],s[1],s[2]):s.length===2?new me(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new me(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new me(s,l,h)}var tt={latLngToPoint:function(s,l){var h=this.projection.project(s),p=this.scale(l);return this.transformation._transform(h,p)},pointToLatLng:function(s,l){var h=this.scale(l),p=this.transformation.untransform(s,h);return this.projection.unproject(p)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(s),p=this.transformation.transform(l.min,h),g=this.transformation.transform(l.max,h);return new oe(p,g)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?f(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?f(s.lat,this.wrapLat,!0):s.lat,p=s.alt;return new me(h,l,p)},wrapLatLngBounds:function(s){var l=s.getCenter(),h=this.wrapLatLng(l),p=l.lat-h.lat,g=l.lng-h.lng;if(p===0&&g===0)return s;var _=s.getSouthWest(),k=s.getNorthEast(),b=new me(_.lat-p,_.lng-g),N=new me(k.lat-p,k.lng-g);return new qe(b,N)}},ke=i({},tt,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var h=Math.PI/180,p=s.lat*h,g=l.lat*h,_=Math.sin((l.lat-s.lat)*h/2),k=Math.sin((l.lng-s.lng)*h/2),b=_*_+Math.cos(p)*Math.cos(g)*k*k,N=2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b));return this.R*N}}),Oe=6378137,xt={R:Oe,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,h=this.MAX_LATITUDE,p=Math.max(Math.min(h,s.lat),-h),g=Math.sin(p*l);return new U(this.R*s.lng*l,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(s){var l=180/Math.PI;return new me((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:function(){var s=Oe*Math.PI;return new oe([-s,-s],[s,s])}()};function $n(s,l,h,p){if(S(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=h,this._d=p}$n.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new U((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function mr(s,l,h,p){return new $n(s,l,h,p)}var zr=i({},ke,{code:"EPSG:3857",projection:xt,transformation:function(){var s=.5/(Math.PI*xt.R);return mr(s,.5,-s,.5)}()}),fo=i({},zr,{code:"EPSG:900913"});function po(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function za(s,l){var h="",p,g,_,k,b,N;for(p=0,_=s.length;p<_;p++){for(b=s[p],g=0,k=b.length;g<k;g++)N=b[g],h+=(g?"L":"M")+N.x+" "+N.y;h+=l?ne.svg?"z":"x":""}return h||"M0 0"}var us=document.documentElement.style,cs="ActiveXObject"in window,rp=cs&&!document.addEventListener,gr="msLaunchUri"in navigator&&!("documentMode"in document),mi=vr("webkit"),Wa=vr("android"),Ha=vr("android 2")||vr("android 3"),Ya=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ec=Wa&&vr("Google")&&Ya<537&&!("AudioNode"in window),hs=!!window.opera,qa=!gr&&vr("chrome"),Ka=vr("gecko")&&!mi&&!hs&&!cs,mD=!qa&&vr("safari"),rw=vr("phantom"),iw="OTransition"in us,gD=navigator.platform.indexOf("Win")===0,ow=cs&&"transition"in us,ip="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ha,sw="MozPerspective"in us,vD=!window.L_DISABLE_3D&&(ow||ip||sw)&&!iw&&!rw,Za=typeof orientation<"u"||vr("mobile"),_D=Za&&mi,yD=Za&&ip,aw=!window.PointerEvent&&window.MSPointerEvent,lw=!!(window.PointerEvent||aw),uw="ontouchstart"in window||!!window.TouchEvent,wD=!window.L_NO_TOUCH&&(uw||lw),ED=Za&&hs,TD=Za&&Ka,PD=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,SD=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",m,l),window.removeEventListener("testPassiveEventSupport",m,l)}catch{}return s}(),CD=function(){return!!document.createElement("canvas").getContext}(),op=!!(document.createElementNS&&po("svg").createSVGRect),ID=!!op&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),kD=!op&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),xD=navigator.platform.indexOf("Mac")===0,DD=navigator.platform.indexOf("Linux")===0;function vr(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var ne={ie:cs,ielt9:rp,edge:gr,webkit:mi,android:Wa,android23:Ha,androidStock:Ec,opera:hs,chrome:qa,gecko:Ka,safari:mD,phantom:rw,opera12:iw,win:gD,ie3d:ow,webkit3d:ip,gecko3d:sw,any3d:vD,mobile:Za,mobileWebkit:_D,mobileWebkit3d:yD,msPointer:aw,pointer:lw,touch:wD,touchNative:uw,mobileOpera:ED,mobileGecko:TD,retina:PD,passiveEvents:SD,canvas:CD,svg:op,vml:kD,inlineSvg:ID,mac:xD,linux:DD},cw=ne.msPointer?"MSPointerDown":"pointerdown",hw=ne.msPointer?"MSPointerMove":"pointermove",dw=ne.msPointer?"MSPointerUp":"pointerup",fw=ne.msPointer?"MSPointerCancel":"pointercancel",sp={touchstart:cw,touchmove:hw,touchend:dw,touchcancel:fw},pw={touchstart:LD,touchmove:Tc,touchend:Tc,touchcancel:Tc},ds={},mw=!1;function AD(s,l,h){return l==="touchstart"&&MD(),pw[l]?(h=pw[l].bind(this,h),s.addEventListener(sp[l],h,!1),h):(console.warn("wrong event specified:",l),m)}function RD(s,l,h){if(!sp[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(sp[l],h,!1)}function bD(s){ds[s.pointerId]=s}function OD(s){ds[s.pointerId]&&(ds[s.pointerId]=s)}function gw(s){delete ds[s.pointerId]}function MD(){mw||(document.addEventListener(cw,bD,!0),document.addEventListener(hw,OD,!0),document.addEventListener(dw,gw,!0),document.addEventListener(fw,gw,!0),mw=!0)}function Tc(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in ds)l.touches.push(ds[h]);l.changedTouches=[l],s(l)}}function LD(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&$t(l),Tc(s,l)}function ND(s){var l={},h,p;for(p in s)h=s[p],l[p]=h&&h.bind?h.bind(s):h;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var VD=200;function FD(s,l){s.addEventListener("dblclick",l);var h=0,p;function g(_){if(_.detail!==1){p=_.detail;return}if(!(_.pointerType==="mouse"||_.sourceCapabilities&&!_.sourceCapabilities.firesTouchEvents)){var k=Ew(_);if(!(k.some(function(N){return N instanceof HTMLLabelElement&&N.attributes.for})&&!k.some(function(N){return N instanceof HTMLInputElement||N instanceof HTMLSelectElement}))){var b=Date.now();b-h<=VD?(p++,p===2&&l(ND(_))):p=1,h=b}}}return s.addEventListener("click",g),{dblclick:l,simDblclick:g}}function UD(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var ap=Cc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ga=Cc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),vw=Ga==="webkitTransition"||Ga==="OTransition"?Ga+"End":"transitionend";function _w(s){return typeof s=="string"?document.getElementById(s):s}function Qa(s,l){var h=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(s,null);h=p?p[l]:null}return h==="auto"?null:h}function Ve(s,l,h){var p=document.createElement(s);return p.className=l||"",h&&h.appendChild(p),p}function it(s){var l=s.parentNode;l&&l.removeChild(s)}function Pc(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function fs(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function ps(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function lp(s,l){if(s.classList!==void 0)return s.classList.contains(l);var h=Sc(s);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function we(s,l){if(s.classList!==void 0)for(var h=E(l),p=0,g=h.length;p<g;p++)s.classList.add(h[p]);else if(!lp(s,l)){var _=Sc(s);up(s,(_?_+" ":"")+l)}}function ft(s,l){s.classList!==void 0?s.classList.remove(l):up(s,y((" "+Sc(s)+" ").replace(" "+l+" "," ")))}function up(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function Sc(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function jn(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&BD(s,l)}function BD(s,l){var h=!1,p="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(p)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):s.style.filter+=" progid:"+p+"(opacity="+l+")"}function Cc(s){for(var l=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in l)return s[h];return!1}function mo(s,l,h){var p=l||new U(0,0);s.style[ap]=(ne.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(h?" scale("+h+")":"")}function yt(s,l){s._leaflet_pos=l,ne.any3d?mo(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function go(s){return s._leaflet_pos||new U(0,0)}var Xa,Ja,cp;if("onselectstart"in document)Xa=function(){ve(window,"selectstart",$t)},Ja=function(){Ke(window,"selectstart",$t)};else{var el=Cc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Xa=function(){if(el){var s=document.documentElement.style;cp=s[el],s[el]="none"}},Ja=function(){el&&(document.documentElement.style[el]=cp,cp=void 0)}}function hp(){ve(window,"dragstart",$t)}function dp(){Ke(window,"dragstart",$t)}var Ic,fp;function pp(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(kc(),Ic=s,fp=s.style.outlineStyle,s.style.outlineStyle="none",ve(window,"keydown",kc))}function kc(){Ic&&(Ic.style.outlineStyle=fp,Ic=void 0,fp=void 0,Ke(window,"keydown",kc))}function yw(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function mp(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var $D={__proto__:null,TRANSFORM:ap,TRANSITION:Ga,TRANSITION_END:vw,get:_w,getStyle:Qa,create:Ve,remove:it,empty:Pc,toFront:fs,toBack:ps,hasClass:lp,addClass:we,removeClass:ft,setClass:up,getClass:Sc,setOpacity:jn,testProp:Cc,setTransform:mo,setPosition:yt,getPosition:go,get disableTextSelection(){return Xa},get enableTextSelection(){return Ja},disableImageDrag:hp,enableImageDrag:dp,preventOutline:pp,restoreOutline:kc,getSizedParentNode:yw,getScale:mp};function ve(s,l,h,p){if(l&&typeof l=="object")for(var g in l)vp(s,g,l[g],h);else{l=E(l);for(var _=0,k=l.length;_<k;_++)vp(s,l[_],h,p)}return this}var _r="_leaflet_events";function Ke(s,l,h,p){if(arguments.length===1)ww(s),delete s[_r];else if(l&&typeof l=="object")for(var g in l)_p(s,g,l[g],h);else if(l=E(l),arguments.length===2)ww(s,function(b){return D(l,b)!==-1});else for(var _=0,k=l.length;_<k;_++)_p(s,l[_],h,p);return this}function ww(s,l){for(var h in s[_r]){var p=h.split(/\d/)[0];(!l||l(p))&&_p(s,p,null,null,h)}}var gp={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function vp(s,l,h,p){var g=l+c(h)+(p?"_"+c(p):"");if(s[_r]&&s[_r][g])return this;var _=function(b){return h.call(p||s,b||window.event)},k=_;!ne.touchNative&&ne.pointer&&l.indexOf("touch")===0?_=AD(s,l,_):ne.touch&&l==="dblclick"?_=FD(s,_):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(gp[l]||l,_,ne.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(_=function(b){b=b||window.event,wp(s,b)&&k(b)},s.addEventListener(gp[l],_,!1)):s.addEventListener(l,k,!1):s.attachEvent("on"+l,_),s[_r]=s[_r]||{},s[_r][g]=_}function _p(s,l,h,p,g){g=g||l+c(h)+(p?"_"+c(p):"");var _=s[_r]&&s[_r][g];if(!_)return this;!ne.touchNative&&ne.pointer&&l.indexOf("touch")===0?RD(s,l,_):ne.touch&&l==="dblclick"?UD(s,_):"removeEventListener"in s?s.removeEventListener(gp[l]||l,_,!1):s.detachEvent("on"+l,_),s[_r][g]=null}function vo(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function yp(s){return vp(s,"wheel",vo),this}function tl(s){return ve(s,"mousedown touchstart dblclick contextmenu",vo),s._leaflet_disable_click=!0,this}function $t(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function _o(s){return $t(s),vo(s),this}function Ew(s){if(s.composedPath)return s.composedPath();for(var l=[],h=s.target;h;)l.push(h),h=h.parentNode;return l}function Tw(s,l){if(!l)return new U(s.clientX,s.clientY);var h=mp(l),p=h.boundingClientRect;return new U((s.clientX-p.left)/h.x-l.clientLeft,(s.clientY-p.top)/h.y-l.clientTop)}var jD=ne.linux&&ne.chrome?window.devicePixelRatio:ne.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Pw(s){return ne.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/jD:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function wp(s,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var zD={__proto__:null,on:ve,off:Ke,stopPropagation:vo,disableScrollPropagation:yp,disableClickPropagation:tl,preventDefault:$t,stop:_o,getPropagationPath:Ew,getMousePosition:Tw,getWheelDelta:Pw,isExternalTarget:wp,addListener:ve,removeListener:Ke},Sw=je.extend({run:function(s,l,h,p){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=go(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=le(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var h=this._startPos.add(this._offset.multiplyBy(s));l&&h._round(),yt(this._el,h),this.fire("step")},_complete:function(){Se(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Re=je.extend({options:{crs:zr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=P(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(ae(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ga&&ne.any3d&&!ne.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ve(this._proxy,vw,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(ae(s),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=i({animate:h.animate},h.zoom),h.pan=i({animate:h.animate,duration:h.duration},h.pan));var p=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,h.zoom):this._tryAnimatedPan(s,h.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,h){var p=this.getZoomScale(l),g=this.getSize().divideBy(2),_=s instanceof U?s:this.latLngToContainerPoint(s),k=_.subtract(g).multiplyBy(1-1/p),b=this.containerPointToLatLng(g.add(k));return this.setView(b,l,{zoom:h})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():ye(s);var h=W(l.paddingTopLeft||l.padding||[0,0]),p=W(l.paddingBottomRight||l.padding||[0,0]),g=this.getBoundsZoom(s,!1,h.add(p));if(g=typeof l.maxZoom=="number"?Math.min(l.maxZoom,g):g,g===1/0)return{center:s.getCenter(),zoom:g};var _=p.subtract(h).divideBy(2),k=this.project(s.getSouthWest(),g),b=this.project(s.getNorthEast(),g),N=this.unproject(k.add(b).divideBy(2).add(_),g);return{center:N,zoom:g}},fitBounds:function(s,l){if(s=ye(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=W(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Sw,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){we(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,h){if(h=h||{},h.animate===!1||!ne.any3d)return this.setView(s,l,h);this._stop();var p=this.project(this.getCenter()),g=this.project(s),_=this.getSize(),k=this._zoom;s=ae(s),l=l===void 0?k:l;var b=Math.max(_.x,_.y),N=b*this.getZoomScale(k,l),B=g.distanceTo(p)||1,G=1.42,ue=G*G;function Te(wt){var Uc=wt?-1:1,RA=wt?N:b,bA=N*N-b*b+Uc*ue*ue*B*B,OA=2*RA*ue*B,Rp=bA/OA,i0=Math.sqrt(Rp*Rp+1)-Rp,MA=i0<1e-9?-18:Math.log(i0);return MA}function cn(wt){return(Math.exp(wt)-Math.exp(-wt))/2}function Dt(wt){return(Math.exp(wt)+Math.exp(-wt))/2}function Wn(wt){return cn(wt)/Dt(wt)}var yn=Te(0);function ws(wt){return b*(Dt(yn)/Dt(yn+G*wt))}function kA(wt){return b*(Dt(yn)*Wn(yn+G*wt)-cn(yn))/ue}function xA(wt){return 1-Math.pow(1-wt,1.5)}var DA=Date.now(),n0=(Te(1)-yn)/G,AA=h.duration?1e3*h.duration:1e3*n0*.8;function r0(){var wt=(Date.now()-DA)/AA,Uc=xA(wt)*n0;wt<=1?(this._flyToFrame=le(r0,this),this._move(this.unproject(p.add(g.subtract(p).multiplyBy(kA(Uc)/B)),k),this.getScaleZoom(b/ws(Uc),k),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),r0.call(this),this},flyToBounds:function(s,l){var h=this._getBoundsCenterZoom(s,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(s){return s=ye(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var h=this.getCenter(),p=this._limitCenter(h,this._zoom,ye(s));return h.equals(p)||this.panTo(p,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var h=W(l.paddingTopLeft||l.padding||[0,0]),p=W(l.paddingBottomRight||l.padding||[0,0]),g=this.project(this.getCenter()),_=this.project(s),k=this.getPixelBounds(),b=fe([k.min.add(h),k.max.subtract(p)]),N=b.getSize();if(!b.contains(_)){this._enforcingBounds=!0;var B=_.subtract(b.getCenter()),G=b.extend(_).getSize().subtract(N);g.x+=B.x<0?-G.x:G.x,g.y+=B.y<0?-G.y:G.y,this.panTo(this.unproject(g),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=i({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),p=l.divideBy(2).round(),g=h.divideBy(2).round(),_=p.subtract(g);return!_.x&&!_.y?this:(s.animate&&s.pan?this.panBy(_):(s.pan&&this._rawPanBy(_),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=i({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),h=a(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,s):navigator.geolocation.getCurrentPosition(l,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,h=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,h=s.coords.longitude,p=new me(l,h),g=p.toBounds(s.coords.accuracy*2),_=this._locateOptions;if(_.setView){var k=this.getBoundsZoom(g);this.setView(p,_.maxZoom?Math.min(k,_.maxZoom):k)}var b={latlng:p,bounds:g,timestamp:s.timestamp};for(var N in s.coords)typeof s.coords[N]=="number"&&(b[N]=s.coords[N]);this.fire("locationfound",b)}},addHandler:function(s,l){if(!l)return this;var h=this[s]=new l(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),it(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Se(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)it(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),p=Ve("div",h,l||this._mapPane);return s&&(this._panes[s]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new qe(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,h){s=ye(s),h=W(h||[0,0]);var p=this.getZoom()||0,g=this.getMinZoom(),_=this.getMaxZoom(),k=s.getNorthWest(),b=s.getSouthEast(),N=this.getSize().subtract(h),B=fe(this.project(b,p),this.project(k,p)).getSize(),G=ne.any3d?this.options.zoomSnap:1,ue=N.x/B.x,Te=N.y/B.y,cn=l?Math.max(ue,Te):Math.min(ue,Te);return p=this.getScaleZoom(cn,p),G&&(p=Math.round(p/(G/100))*(G/100),p=l?Math.ceil(p/G)*G:Math.floor(p/G)*G),Math.max(g,Math.min(_,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var h=this._getTopLeftPoint(s,l);return new oe(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(s)/h.scale(l)},getScaleZoom:function(s,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var p=h.zoom(s*h.scale(l));return isNaN(p)?1/0:p},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(ae(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(W(s),l)},layerPointToLatLng:function(s){var l=W(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(ae(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ae(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(ye(s))},distance:function(s,l){return this.options.crs.distance(ae(s),ae(l))},containerPointToLayerPoint:function(s){return W(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return W(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(W(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ae(s)))},mouseEventToContainerPoint:function(s){return Tw(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=_w(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ve(l,"scroll",this._onScroll,this),this._containerId=c(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&ne.any3d,we(s,"leaflet-container"+(ne.touch?" leaflet-touch":"")+(ne.retina?" leaflet-retina":"")+(ne.ielt9?" leaflet-oldie":"")+(ne.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Qa(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),yt(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(we(s.markerPane,"leaflet-zoom-hide"),we(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,h){yt(this._mapPane,new U(0,0));var p=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var g=this._zoom!==l;this._moveStart(g,h)._move(s,l)._moveEnd(g),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,h,p){l===void 0&&(l=this._zoom);var g=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),p?h&&h.pinch&&this.fire("zoom",h):((g||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Se(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){yt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[c(this._container)]=this;var l=s?Ke:ve;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),ne.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Se(this._resizeRequest),this._resizeRequest=le(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var h=[],p,g=l==="mouseout"||l==="mouseover",_=s.target||s.srcElement,k=!1;_;){if(p=this._targets[c(_)],p&&(l==="click"||l==="preclick")&&this._draggableMoved(p)){k=!0;break}if(p&&p.listens(l,!0)&&(g&&!wp(_,s)||(h.push(p),g))||_===this._container)break;_=_.parentNode}return!h.length&&!k&&!g&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var h=s.type;h==="mousedown"&&pp(l),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,h){if(s.type==="click"){var p=i({},s);p.type="preclick",this._fireDOMEvent(p,p.type,h)}var g=this._findEventTargets(s,l);if(h){for(var _=[],k=0;k<h.length;k++)h[k].listens(l,!0)&&_.push(h[k]);g=_.concat(g)}if(g.length){l==="contextmenu"&&$t(s);var b=g[0],N={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var B=b.getLatLng&&(!b._radius||b._radius<=10);N.containerPoint=B?this.latLngToContainerPoint(b.getLatLng()):this.mouseEventToContainerPoint(s),N.layerPoint=this.containerPointToLayerPoint(N.containerPoint),N.latlng=B?b.getLatLng():this.layerPointToLatLng(N.layerPoint)}for(k=0;k<g.length;k++)if(g[k].fire(l,N,!0),N.originalEvent._stopped||g[k].options.bubblingMouseEvents===!1&&D(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return go(this._mapPane)||new U(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var h=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var h=this.getSize()._divideBy(2);return this.project(s,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,h){var p=this._getNewPixelOrigin(h,l);return this.project(s,l)._subtract(p)},_latLngBoundsToNewLayerBounds:function(s,l,h){var p=this._getNewPixelOrigin(h,l);return fe([this.project(s.getSouthWest(),l)._subtract(p),this.project(s.getNorthWest(),l)._subtract(p),this.project(s.getSouthEast(),l)._subtract(p),this.project(s.getNorthEast(),l)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,h){if(!h)return s;var p=this.project(s,l),g=this.getSize().divideBy(2),_=new oe(p.subtract(g),p.add(g)),k=this._getBoundsOffset(_,h,l);return Math.abs(k.x)<=1&&Math.abs(k.y)<=1?s:this.unproject(p.add(k),l)},_limitOffset:function(s,l){if(!l)return s;var h=this.getPixelBounds(),p=new oe(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(p,l))},_getBoundsOffset:function(s,l,h){var p=fe(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),g=p.min.subtract(s.min),_=p.max.subtract(s.max),k=this._rebound(g.x,-_.x),b=this._rebound(g.y,-_.y);return new U(k,b)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),h=this.getMaxZoom(),p=ne.any3d?this.options.zoomSnap:1;return p&&(s=Math.round(s/p)*p),Math.max(l,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ft(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var h=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var s=this._proxy=Ve("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var h=ap,p=this._proxy.style[h];mo(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),p===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){it(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();mo(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(l),g=this._getCenterOffset(s)._divideBy(1-1/p);return h.animate!==!0&&!this.getSize().contains(g)?!1:(le(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,h,p){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,we(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ft(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function WD(s,l){return new Re(s,l)}var nr=et.extend({options:{position:"topright"},initialize:function(s){P(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),h=this.getPosition(),p=s._controlCorners[h];return we(l,"leaflet-control"),h.indexOf("bottom")!==-1?p.insertBefore(l,p.firstChild):p.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(it(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),nl=function(s){return new nr(s)};Re.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",h=this._controlContainer=Ve("div",l+"control-container",this._container);function p(g,_){var k=l+g+" "+l+_;s[g+_]=Ve("div",k,h)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)it(this._controlCorners[s]);it(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Cw=nr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,h,p){return h<p?-1:p<h?1:0}},initialize:function(s,l,h){P(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in s)this._addLayer(s[p],p);for(p in l)this._addLayer(l[p],p,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return nr.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(c(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){we(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(we(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):ft(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ft(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=Ve("div",s),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),tl(l),yp(l);var p=this._section=Ve("section",s+"-list");h&&(this._map.on("click",this.collapse,this),ve(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=Ve("a",s+"-toggle",l);g.href="#",g.title="Layers",g.setAttribute("role","button"),ve(g,{keydown:function(_){_.keyCode===13&&this._expandSafely()},click:function(_){$t(_),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=Ve("div",s+"-base",p),this._separator=Ve("div",s+"-separator",p),this._overlaysList=Ve("div",s+"-overlays",p),l.appendChild(p)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&c(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(a(function(p,g){return this.options.sortFunction(p.layer,g.layer,p.name,g.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Pc(this._baseLayersList),Pc(this._overlaysList),this._layerControlInputs=[];var s,l,h,p,g=0;for(h=0;h<this._layers.length;h++)p=this._layers[h],this._addItem(p),l=l||p.overlay,s=s||!p.overlay,g+=p.overlay?0:1;return this.options.hideSingleBase&&(s=s&&g>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(c(s.target)),h=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(s,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=h,p.firstChild},_addItem:function(s){var l=document.createElement("label"),h=this._map.hasLayer(s.layer),p;s.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=h):p=this._createRadioElement("leaflet-base-layers_"+c(this),h),this._layerControlInputs.push(p),p.layerId=c(s.layer),ve(p,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+s.name;var _=document.createElement("span");l.appendChild(_),_.appendChild(p),_.appendChild(g);var k=s.overlay?this._overlaysList:this._baseLayersList;return k.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,h,p=[],g=[];this._handlingClick=!0;for(var _=s.length-1;_>=0;_--)l=s[_],h=this._getLayer(l.layerId).layer,l.checked?p.push(h):l.checked||g.push(h);for(_=0;_<g.length;_++)this._map.hasLayer(g[_])&&this._map.removeLayer(g[_]);for(_=0;_<p.length;_++)this._map.hasLayer(p[_])||this._map.addLayer(p[_]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,h,p=this._map.getZoom(),g=s.length-1;g>=0;g--)l=s[g],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&p<h.options.minZoom||h.options.maxZoom!==void 0&&p>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,ve(s,"click",$t),this.expand();var l=this;setTimeout(function(){Ke(s,"click",$t),l._preventClick=!1})}}),HD=function(s,l,h){return new Cw(s,l,h)},Ep=nr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",h=Ve("div",l+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,h,p,g){var _=Ve("a",h,p);return _.innerHTML=s,_.href="#",_.title=l,_.setAttribute("role","button"),_.setAttribute("aria-label",l),tl(_),ve(_,"click",_o),ve(_,"click",g,this),ve(_,"click",this._refocusOnMap,this),_},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";ft(this._zoomInButton,l),ft(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(we(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(we(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Re.mergeOptions({zoomControl:!0}),Re.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ep,this.addControl(this.zoomControl))});var YD=function(s){return new Ep(s)},Iw=nr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",h=Ve("div",l),p=this.options;return this._addScales(p,l+"-line",h),s.on(p.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,h){s.metric&&(this._mScale=Ve("div",l,h)),s.imperial&&(this._iScale=Ve("div",l,h))},_update:function(){var s=this._map,l=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/s)},_updateImperial:function(s){var l=s*3.2808399,h,p,g;l>5280?(h=l/5280,p=this._getRoundNum(h),this._updateScale(this._iScale,p+" mi",p/h)):(g=this._getRoundNum(l),this._updateScale(this._iScale,g+" ft",g/l))},_updateScale:function(s,l,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),h=s/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),qD=function(s){return new Iw(s)},KD='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Tp=nr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ne.inlineSvg?KD+" ":"")+"Leaflet</a>"},initialize:function(s){P(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Ve("div","leaflet-control-attribution"),tl(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Re.mergeOptions({attributionControl:!0}),Re.addInitHook(function(){this.options.attributionControl&&new Tp().addTo(this)});var ZD=function(s){return new Tp(s)};nr.Layers=Cw,nr.Zoom=Ep,nr.Scale=Iw,nr.Attribution=Tp,nl.layers=HD,nl.zoom=YD,nl.scale=qD,nl.attribution=ZD;var yr=et.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});yr.addTo=function(s,l){return s.addHandler(l,this),this};var GD={Events:de},kw=ne.touch?"touchstart mousedown":"mousedown",gi=je.extend({options:{clickTolerance:3},initialize:function(s,l,h,p){P(this,p),this._element=s,this._dragStartTarget=l||s,this._preventOutline=h},enable:function(){this._enabled||(ve(this._dragStartTarget,kw,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(gi._dragging===this&&this.finishDrag(!0),Ke(this._dragStartTarget,kw,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!lp(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){gi._dragging===this&&this.finishDrag();return}if(!(gi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(gi._dragging=this,this._preventOutline&&pp(this._element),hp(),Xa(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,h=yw(this._element);this._startPoint=new U(l.clientX,l.clientY),this._startPos=go(this._element),this._parentScale=mp(h);var p=s.type==="mousedown";ve(document,p?"mousemove":"touchmove",this._onMove,this),ve(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,h=new U(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,$t(s),this._moved||(this.fire("dragstart"),this._moved=!0,we(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),we(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),yt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){ft(document.body,"leaflet-dragging"),this._lastTarget&&(ft(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ke(document,"mousemove touchmove",this._onMove,this),Ke(document,"mouseup touchend touchcancel",this._onUp,this),dp(),Ja();var l=this._moved&&this._moving;this._moving=!1,gi._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function xw(s,l,h){var p,g=[1,4,2,8],_,k,b,N,B,G,ue,Te;for(_=0,G=s.length;_<G;_++)s[_]._code=yo(s[_],l);for(b=0;b<4;b++){for(ue=g[b],p=[],_=0,G=s.length,k=G-1;_<G;k=_++)N=s[_],B=s[k],N._code&ue?B._code&ue||(Te=xc(B,N,ue,l,h),Te._code=yo(Te,l),p.push(Te)):(B._code&ue&&(Te=xc(B,N,ue,l,h),Te._code=yo(Te,l),p.push(Te)),p.push(N));s=p}return s}function Dw(s,l){var h,p,g,_,k,b,N,B,G;if(!s||s.length===0)throw new Error("latlngs not passed");zn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ue=ae([0,0]),Te=ye(s),cn=Te.getNorthWest().distanceTo(Te.getSouthWest())*Te.getNorthEast().distanceTo(Te.getNorthWest());cn<1700&&(ue=Pp(s));var Dt=s.length,Wn=[];for(h=0;h<Dt;h++){var yn=ae(s[h]);Wn.push(l.project(ae([yn.lat-ue.lat,yn.lng-ue.lng])))}for(b=N=B=0,h=0,p=Dt-1;h<Dt;p=h++)g=Wn[h],_=Wn[p],k=g.y*_.x-_.y*g.x,N+=(g.x+_.x)*k,B+=(g.y+_.y)*k,b+=k*3;b===0?G=Wn[0]:G=[N/b,B/b];var ws=l.unproject(W(G));return ae([ws.lat+ue.lat,ws.lng+ue.lng])}function Pp(s){for(var l=0,h=0,p=0,g=0;g<s.length;g++){var _=ae(s[g]);l+=_.lat,h+=_.lng,p++}return ae([l/p,h/p])}var QD={__proto__:null,clipPolygon:xw,polygonCenter:Dw,centroid:Pp};function Aw(s,l){if(!l||!s.length)return s.slice();var h=l*l;return s=eA(s,h),s=JD(s,h),s}function Rw(s,l,h){return Math.sqrt(rl(s,l,h,!0))}function XD(s,l,h){return rl(s,l,h)}function JD(s,l){var h=s.length,p=typeof Uint8Array!=void 0+""?Uint8Array:Array,g=new p(h);g[0]=g[h-1]=1,Sp(s,g,l,0,h-1);var _,k=[];for(_=0;_<h;_++)g[_]&&k.push(s[_]);return k}function Sp(s,l,h,p,g){var _=0,k,b,N;for(b=p+1;b<=g-1;b++)N=rl(s[b],s[p],s[g],!0),N>_&&(k=b,_=N);_>h&&(l[k]=1,Sp(s,l,h,p,k),Sp(s,l,h,k,g))}function eA(s,l){for(var h=[s[0]],p=1,g=0,_=s.length;p<_;p++)tA(s[p],s[g])>l&&(h.push(s[p]),g=p);return g<_-1&&h.push(s[_-1]),h}var bw;function Ow(s,l,h,p,g){var _=p?bw:yo(s,h),k=yo(l,h),b,N,B;for(bw=k;;){if(!(_|k))return[s,l];if(_&k)return!1;b=_||k,N=xc(s,l,b,h,g),B=yo(N,h),b===_?(s=N,_=B):(l=N,k=B)}}function xc(s,l,h,p,g){var _=l.x-s.x,k=l.y-s.y,b=p.min,N=p.max,B,G;return h&8?(B=s.x+_*(N.y-s.y)/k,G=N.y):h&4?(B=s.x+_*(b.y-s.y)/k,G=b.y):h&2?(B=N.x,G=s.y+k*(N.x-s.x)/_):h&1&&(B=b.x,G=s.y+k*(b.x-s.x)/_),new U(B,G,g)}function yo(s,l){var h=0;return s.x<l.min.x?h|=1:s.x>l.max.x&&(h|=2),s.y<l.min.y?h|=4:s.y>l.max.y&&(h|=8),h}function tA(s,l){var h=l.x-s.x,p=l.y-s.y;return h*h+p*p}function rl(s,l,h,p){var g=l.x,_=l.y,k=h.x-g,b=h.y-_,N=k*k+b*b,B;return N>0&&(B=((s.x-g)*k+(s.y-_)*b)/N,B>1?(g=h.x,_=h.y):B>0&&(g+=k*B,_+=b*B)),k=s.x-g,b=s.y-_,p?k*k+b*b:new U(g,_)}function zn(s){return!S(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Mw(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),zn(s)}function Lw(s,l){var h,p,g,_,k,b,N,B;if(!s||s.length===0)throw new Error("latlngs not passed");zn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var G=ae([0,0]),ue=ye(s),Te=ue.getNorthWest().distanceTo(ue.getSouthWest())*ue.getNorthEast().distanceTo(ue.getNorthWest());Te<1700&&(G=Pp(s));var cn=s.length,Dt=[];for(h=0;h<cn;h++){var Wn=ae(s[h]);Dt.push(l.project(ae([Wn.lat-G.lat,Wn.lng-G.lng])))}for(h=0,p=0;h<cn-1;h++)p+=Dt[h].distanceTo(Dt[h+1])/2;if(p===0)B=Dt[0];else for(h=0,_=0;h<cn-1;h++)if(k=Dt[h],b=Dt[h+1],g=k.distanceTo(b),_+=g,_>p){N=(_-p)/g,B=[b.x-N*(b.x-k.x),b.y-N*(b.y-k.y)];break}var yn=l.unproject(W(B));return ae([yn.lat+G.lat,yn.lng+G.lng])}var nA={__proto__:null,simplify:Aw,pointToSegmentDistance:Rw,closestPointOnSegment:XD,clipSegment:Ow,_getEdgeIntersection:xc,_getBitCode:yo,_sqClosestPointOnSegment:rl,isFlat:zn,_flat:Mw,polylineCenter:Lw},Cp={project:function(s){return new U(s.lng,s.lat)},unproject:function(s){return new me(s.y,s.x)},bounds:new oe([-180,-90],[180,90])},Ip={R:6378137,R_MINOR:6356752314245179e-9,bounds:new oe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,h=this.R,p=s.lat*l,g=this.R_MINOR/h,_=Math.sqrt(1-g*g),k=_*Math.sin(p),b=Math.tan(Math.PI/4-p/2)/Math.pow((1-k)/(1+k),_/2);return p=-h*Math.log(Math.max(b,1e-10)),new U(s.lng*l*h,p)},unproject:function(s){for(var l=180/Math.PI,h=this.R,p=this.R_MINOR/h,g=Math.sqrt(1-p*p),_=Math.exp(-s.y/h),k=Math.PI/2-2*Math.atan(_),b=0,N=.1,B;b<15&&Math.abs(N)>1e-7;b++)B=g*Math.sin(k),B=Math.pow((1-B)/(1+B),g/2),N=Math.PI/2-2*Math.atan(_*B)-k,k+=N;return new me(k*l,s.x*l/h)}},rA={__proto__:null,LonLat:Cp,Mercator:Ip,SphericalMercator:xt},iA=i({},ke,{code:"EPSG:3395",projection:Ip,transformation:function(){var s=.5/(Math.PI*Ip.R);return mr(s,.5,-s,.5)}()}),Nw=i({},ke,{code:"EPSG:4326",projection:Cp,transformation:mr(1/180,1,-1/180,.5)}),oA=i({},tt,{projection:Cp,transformation:mr(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var h=l.lng-s.lng,p=l.lat-s.lat;return Math.sqrt(h*h+p*p)},infinite:!0});tt.Earth=ke,tt.EPSG3395=iA,tt.EPSG3857=zr,tt.EPSG900913=fo,tt.EPSG4326=Nw,tt.Simple=oA;var rr=je.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[c(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[c(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Re.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=c(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=c(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return c(s)in this._layers},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},_addLayers:function(s){s=s?S(s)?s:[s]:[];for(var l=0,h=s.length;l<h;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[c(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=c(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,h=this._getZoomSpan();for(var p in this._zoomBoundLayers){var g=this._zoomBoundLayers[p].options;s=g.minZoom===void 0?s:Math.min(s,g.minZoom),l=g.maxZoom===void 0?l:Math.max(l,g.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ms=rr.extend({initialize:function(s,l){P(this,l),this._layers={};var h,p;if(s)for(h=0,p=s.length;h<p;h++)this.addLayer(s[h])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),h,p;for(h in this._layers)p=this._layers[h],p[s]&&p[s].apply(p,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return c(s)}}),sA=function(s,l){return new ms(s,l)},Wr=ms.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),ms.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),ms.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new qe;for(var l in this._layers){var h=this._layers[l];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),aA=function(s,l){return new Wr(s,l)},gs=et.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){P(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(p,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(s,l){var h=this.options,p=h[l+"Size"];typeof p=="number"&&(p=[p,p]);var g=W(p),_=W(l==="shadow"&&h.shadowAnchor||h.iconAnchor||g&&g.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(h.className||""),_&&(s.style.marginLeft=-_.x+"px",s.style.marginTop=-_.y+"px"),g&&(s.style.width=g.x+"px",s.style.height=g.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return ne.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function lA(s){return new gs(s)}var il=gs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof il.imagePath!="string"&&(il.imagePath=this._detectIconPath()),(this.options.imagePath||il.imagePath)+gs.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(h,p,g){var _=p.exec(h);return _&&_[g]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Ve("div","leaflet-default-icon-path",document.body),l=Qa(s,"background-image")||Qa(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Vw=yr.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new gi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),we(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ft(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,h=l._map,p=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,_=go(l._icon),k=h.getPixelBounds(),b=h.getPixelOrigin(),N=fe(k.min._subtract(b).add(g),k.max._subtract(b).subtract(g));if(!N.contains(_)){var B=W((Math.max(N.max.x,_.x)-N.max.x)/(k.max.x-N.max.x)-(Math.min(N.min.x,_.x)-N.min.x)/(k.min.x-N.min.x),(Math.max(N.max.y,_.y)-N.max.y)/(k.max.y-N.max.y)-(Math.min(N.min.y,_.y)-N.min.y)/(k.min.y-N.min.y)).multiplyBy(p);h.panBy(B,{animate:!1}),this._draggable._newPos._add(B),this._draggable._startPos._add(B),yt(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=le(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Se(this._panRequest),this._panRequest=le(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,h=l._shadow,p=go(l._icon),g=l._map.layerPointToLatLng(p);h&&yt(h,p),l._latlng=g,s.latlng=g,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Se(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Dc=rr.extend({options:{icon:new il,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){P(this,l),this._latlng=ae(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=ae(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),p=!1;h!==this._icon&&(this._icon&&this._removeIcon(),p=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),we(h,l),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ve(h,"focus",this._panOnFocus,this);var g=s.icon.createShadow(this._shadow),_=!1;g!==this._shadow&&(this._removeShadow(),_=!0),g&&(we(g,l),g.alt=""),this._shadow=g,s.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&_&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ke(this._icon,"focus",this._panOnFocus,this),it(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&it(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&yt(this._icon,s),this._shadow&&yt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(we(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Vw)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Vw(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&jn(this._icon,s),this._shadow&&jn(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,h=l.iconSize?W(l.iconSize):W(0,0),p=l.iconAnchor?W(l.iconAnchor):W(0,0);s.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:h.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function uA(s,l){return new Dc(s,l)}var vi=rr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return P(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ac=vi.extend({options:{fill:!0,radius:10},initialize:function(s,l){P(this,l),this._latlng=ae(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=ae(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return vi.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,h=this._clickTolerance(),p=[s+h,l+h];this._pxBounds=new oe(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function cA(s,l){return new Ac(s,l)}var kp=Ac.extend({initialize:function(s,l,h){if(typeof l=="number"&&(l=i({},h,{radius:l})),P(this,l),this._latlng=ae(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new qe(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:vi.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,h=this._map,p=h.options.crs;if(p.distance===ke.distance){var g=Math.PI/180,_=this._mRadius/ke.R/g,k=h.project([l+_,s]),b=h.project([l-_,s]),N=k.add(b).divideBy(2),B=h.unproject(N).lat,G=Math.acos((Math.cos(_*g)-Math.sin(l*g)*Math.sin(B*g))/(Math.cos(l*g)*Math.cos(B*g)))/g;(isNaN(G)||G===0)&&(G=_/Math.cos(Math.PI/180*l)),this._point=N.subtract(h.getPixelOrigin()),this._radius=isNaN(G)?0:N.x-h.project([B,s-G]).x,this._radiusY=N.y-k.y}else{var ue=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(ue).x}this._updateBounds()}});function hA(s,l,h){return new kp(s,l,h)}var Hr=vi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){P(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,h=null,p=rl,g,_,k=0,b=this._parts.length;k<b;k++)for(var N=this._parts[k],B=1,G=N.length;B<G;B++){g=N[B-1],_=N[B];var ue=p(s,g,_,!0);ue<l&&(l=ue,h=p(s,g,_))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Lw(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=ae(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new qe,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return zn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],h=zn(s),p=0,g=s.length;p<g;p++)h?(l[p]=ae(s[p]),this._bounds.extend(l[p])):l[p]=this._convertLatLngs(s[p]);return l},_project:function(){var s=new oe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new U(s,s);this._rawPxBounds&&(this._pxBounds=new oe([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,h){var p=s[0]instanceof me,g=s.length,_,k;if(p){for(k=[],_=0;_<g;_++)k[_]=this._map.latLngToLayerPoint(s[_]),h.extend(k[_]);l.push(k)}else for(_=0;_<g;_++)this._projectLatlngs(s[_],l,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,p,g,_,k,b,N;for(h=0,g=0,_=this._rings.length;h<_;h++)for(N=this._rings[h],p=0,k=N.length;p<k-1;p++)b=Ow(N[p],N[p+1],s,p,!0),b&&(l[g]=l[g]||[],l[g].push(b[0]),(b[1]!==N[p+1]||p===k-2)&&(l[g].push(b[1]),g++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,h=0,p=s.length;h<p;h++)s[h]=Aw(s[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var h,p,g,_,k,b,N=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,_=this._parts.length;h<_;h++)for(b=this._parts[h],p=0,k=b.length,g=k-1;p<k;g=p++)if(!(!l&&p===0)&&Rw(s,b[g],b[p])<=N)return!0;return!1}});function dA(s,l){return new Hr(s,l)}Hr._flat=Mw;var vs=Hr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Dw(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=Hr.prototype._convertLatLngs.call(this,s),h=l.length;return h>=2&&l[0]instanceof me&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(s){Hr.prototype._setLatLngs.call(this,s),zn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return zn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,h=new U(l,l);if(s=new oe(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,g=this._rings.length,_;p<g;p++)_=xw(this._rings[p],s,!0),_.length&&this._parts.push(_)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,h,p,g,_,k,b,N,B;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(_=0,N=this._parts.length;_<N;_++)for(h=this._parts[_],k=0,B=h.length,b=B-1;k<B;b=k++)p=h[k],g=h[b],p.y>s.y!=g.y>s.y&&s.x<(g.x-p.x)*(s.y-p.y)/(g.y-p.y)+p.x&&(l=!l);return l||Hr.prototype._containsPoint.call(this,s,!0)}});function fA(s,l){return new vs(s,l)}var Yr=Wr.extend({initialize:function(s,l){P(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=S(s)?s:s.features,h,p,g;if(l){for(h=0,p=l.length;h<p;h++)g=l[h],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var _=this.options;if(_.filter&&!_.filter(s))return this;var k=Rc(s,_);return k?(k.feature=Mc(s),k.defaultOptions=k.options,this.resetStyle(k),_.onEachFeature&&_.onEachFeature(s,k),this.addLayer(k)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=i({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function Rc(s,l){var h=s.type==="Feature"?s.geometry:s,p=h?h.coordinates:null,g=[],_=l&&l.pointToLayer,k=l&&l.coordsToLatLng||xp,b,N,B,G;if(!p&&!h)return null;switch(h.type){case"Point":return b=k(p),Fw(_,s,b,l);case"MultiPoint":for(B=0,G=p.length;B<G;B++)b=k(p[B]),g.push(Fw(_,s,b,l));return new Wr(g);case"LineString":case"MultiLineString":return N=bc(p,h.type==="LineString"?0:1,k),new Hr(N,l);case"Polygon":case"MultiPolygon":return N=bc(p,h.type==="Polygon"?1:2,k),new vs(N,l);case"GeometryCollection":for(B=0,G=h.geometries.length;B<G;B++){var ue=Rc({geometry:h.geometries[B],type:"Feature",properties:s.properties},l);ue&&g.push(ue)}return new Wr(g);case"FeatureCollection":for(B=0,G=h.features.length;B<G;B++){var Te=Rc(h.features[B],l);Te&&g.push(Te)}return new Wr(g);default:throw new Error("Invalid GeoJSON object.")}}function Fw(s,l,h,p){return s?s(l,h):new Dc(h,p&&p.markersInheritOptions&&p)}function xp(s){return new me(s[1],s[0],s[2])}function bc(s,l,h){for(var p=[],g=0,_=s.length,k;g<_;g++)k=l?bc(s[g],l-1,h):(h||xp)(s[g]),p.push(k);return p}function Dp(s,l){return s=ae(s),s.alt!==void 0?[v(s.lng,l),v(s.lat,l),v(s.alt,l)]:[v(s.lng,l),v(s.lat,l)]}function Oc(s,l,h,p){for(var g=[],_=0,k=s.length;_<k;_++)g.push(l?Oc(s[_],zn(s[_])?0:l-1,h,p):Dp(s[_],p));return!l&&h&&g.length>0&&g.push(g[0].slice()),g}function _s(s,l){return s.feature?i({},s.feature,{geometry:l}):Mc(l)}function Mc(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Ap={toGeoJSON:function(s){return _s(this,{type:"Point",coordinates:Dp(this.getLatLng(),s)})}};Dc.include(Ap),kp.include(Ap),Ac.include(Ap),Hr.include({toGeoJSON:function(s){var l=!zn(this._latlngs),h=Oc(this._latlngs,l?1:0,!1,s);return _s(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),vs.include({toGeoJSON:function(s){var l=!zn(this._latlngs),h=l&&!zn(this._latlngs[0]),p=Oc(this._latlngs,h?2:l?1:0,!0,s);return l||(p=[p]),_s(this,{type:(h?"Multi":"")+"Polygon",coordinates:p})}}),ms.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(s).geometry.coordinates)}),_s(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var h=l==="GeometryCollection",p=[];return this.eachLayer(function(g){if(g.toGeoJSON){var _=g.toGeoJSON(s);if(h)p.push(_.geometry);else{var k=Mc(_);k.type==="FeatureCollection"?p.push.apply(p,k.features):p.push(k)}}}),h?_s(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function Uw(s,l){return new Yr(s,l)}var pA=Uw,Lc=rr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,h){this._url=s,this._bounds=ye(l),P(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(we(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){it(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&fs(this._image),this},bringToBack:function(){return this._map&&ps(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=ye(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:Ve("img");if(we(l,"leaflet-image-layer"),this._zoomAnimated&&we(l,"leaflet-zoom-animated"),this.options.className&&we(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;mo(this._image,h,l)},_reset:function(){var s=this._image,l=new oe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();yt(s,l.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){jn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),mA=function(s,l,h){return new Lc(s,l,h)},Bw=Lc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:Ve("video");if(we(l,"leaflet-image-layer"),this._zoomAnimated&&we(l,"leaflet-zoom-animated"),this.options.className&&we(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onloadeddata=a(this.fire,this,"load"),s){for(var h=l.getElementsByTagName("source"),p=[],g=0;g<h.length;g++)p.push(h[g].src);this._url=h.length>0?p:[l.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var _=0;_<this._url.length;_++){var k=Ve("source");k.src=this._url[_],l.appendChild(k)}}});function gA(s,l,h){return new Bw(s,l,h)}var $w=Lc.extend({_initImage:function(){var s=this._image=this._url;we(s,"leaflet-image-layer"),this._zoomAnimated&&we(s,"leaflet-zoom-animated"),this.options.className&&we(s,this.options.className),s.onselectstart=m,s.onmousemove=m}});function vA(s,l,h){return new $w(s,l,h)}var wr=rr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof me||S(s))?(this._latlng=ae(s),P(this,l)):(P(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&jn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&jn(this._container,1),this.bringToFront(),this.options.interactive&&(we(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(jn(this._container,0),this._removeTimeout=setTimeout(a(it,void 0,this._container),200)):it(this._container),this.options.interactive&&(ft(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ae(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&fs(this._container),this},bringToBack:function(){return this._map&&ps(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof Wr){l=null;var h=this._source._layers;for(var p in h)if(h[p]._map){l=h[p];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=W(this.options.offset),h=this._getAnchor();this._zoomAnimated?yt(this._container,s.add(h)):l=l.add(s).add(h);var p=this._containerBottom=-l.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=p+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Re.include({_initOverlay:function(s,l,h,p){var g=l;return g instanceof s||(g=new s(p).setContent(l)),h&&g.setLatLng(h),g}}),rr.include({_initOverlay:function(s,l,h,p){var g=h;return g instanceof s?(P(g,p),g._source=this):(g=l&&!p?l:new s(p,this),g.setContent(h)),g}});var Nc=wr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,wr.prototype.openOn.call(this,s)},onAdd:function(s){wr.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof vi||this._source.on("preclick",vo))},onRemove:function(s){wr.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof vi||this._source.off("preclick",vo))},getEvents:function(){var s=wr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=Ve("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Ve("div",s+"-content-wrapper",l);if(this._contentNode=Ve("div",s+"-content",h),tl(l),yp(this._contentNode),ve(l,"contextmenu",vo),this._tipContainer=Ve("div",s+"-tip-container",l),this._tip=Ve("div",s+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=Ve("a",s+"-close-button",l);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',ve(p,"click",function(g){$t(g),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var p=s.offsetHeight,g=this.options.maxHeight,_="leaflet-popup-scrolled";g&&p>g?(l.height=g+"px",we(s,_)):ft(s,_),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();yt(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(Qa(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,p=this._containerWidth,g=new U(this._containerLeft,-h-this._containerBottom);g._add(go(this._container));var _=s.layerPointToContainerPoint(g),k=W(this.options.autoPanPadding),b=W(this.options.autoPanPaddingTopLeft||k),N=W(this.options.autoPanPaddingBottomRight||k),B=s.getSize(),G=0,ue=0;_.x+p+N.x>B.x&&(G=_.x+p-B.x+N.x),_.x-G-b.x<0&&(G=_.x-b.x),_.y+h+N.y>B.y&&(ue=_.y+h-B.y+N.y),_.y-ue-b.y<0&&(ue=_.y-b.y),(G||ue)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([G,ue]))}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),_A=function(s,l){return new Nc(s,l)};Re.mergeOptions({closePopupOnClick:!0}),Re.include({openPopup:function(s,l,h){return this._initOverlay(Nc,s,l,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),rr.include({bindPopup:function(s,l){return this._popup=this._initOverlay(Nc,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Wr||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){_o(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof vi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Vc=wr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){wr.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){wr.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=wr.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ve("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,h,p=this._map,g=this._container,_=p.latLngToContainerPoint(p.getCenter()),k=p.layerPointToContainerPoint(s),b=this.options.direction,N=g.offsetWidth,B=g.offsetHeight,G=W(this.options.offset),ue=this._getAnchor();b==="top"?(l=N/2,h=B):b==="bottom"?(l=N/2,h=0):b==="center"?(l=N/2,h=B/2):b==="right"?(l=0,h=B/2):b==="left"?(l=N,h=B/2):k.x<_.x?(b="right",l=0,h=B/2):(b="left",l=N+(G.x+ue.x)*2,h=B/2),s=s.subtract(W(l,h,!0)).add(G).add(ue),ft(g,"leaflet-tooltip-right"),ft(g,"leaflet-tooltip-left"),ft(g,"leaflet-tooltip-top"),ft(g,"leaflet-tooltip-bottom"),we(g,"leaflet-tooltip-"+b),yt(g,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&jn(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),yA=function(s,l){return new Vc(s,l)};Re.include({openTooltip:function(s,l,h){return this._initOverlay(Vc,s,l,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),rr.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Vc,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Wr||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(ve(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),ve(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,h,p;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),p=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(l)}});var jw=gs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Pc(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var p=W(h.bgPos);l.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function wA(s){return new jw(s)}gs.Default=il;var ol=rr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ne.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){P(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),it(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(fs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ps(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof U?s:new U(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,h=-s(-1/0,1/0),p=0,g=l.length,_;p<g;p++)_=l[p].style.zIndex,l[p]!==this._container&&_&&(h=s(h,+_));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ne.ielt9){jn(this._container,this.options.opacity);var s=+new Date,l=!1,h=!1;for(var p in this._tiles){var g=this._tiles[p];if(!(!g.current||!g.loaded)){var _=Math.min(1,(s-g.loaded)/200);jn(g.el,_),_<1?l=!0:(g.active?h=!0:this._onOpaqueTile(g),g.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(Se(this._fadeFrame),this._fadeFrame=le(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Ve("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=l-Math.abs(s-h),this._onUpdateLevel(h)):(it(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var p=this._levels[s],g=this._map;return p||(p=this._levels[s]={},p.el=Ve("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=l,p.origin=g.project(g.unproject(g.getPixelOrigin()),s).round(),p.zoom=s,this._setZoomTransform(p,g.getCenter(),g.getZoom()),m(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var s,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var p=l.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)it(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,h,p){var g=Math.floor(s/2),_=Math.floor(l/2),k=h-1,b=new U(+g,+_);b.z=+k;var N=this._tileCoordsToKey(b),B=this._tiles[N];return B&&B.active?(B.retain=!0,!0):(B&&B.loaded&&(B.retain=!0),k>p?this._retainParent(g,_,k,p):!1)},_retainChildren:function(s,l,h,p){for(var g=2*s;g<2*s+2;g++)for(var _=2*l;_<2*l+2;_++){var k=new U(g,_);k.z=h+1;var b=this._tileCoordsToKey(k),N=this._tiles[b];if(N&&N.active){N.retain=!0;continue}else N&&N.loaded&&(N.retain=!0);h+1<p&&this._retainChildren(g,_,h+1,p)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,h,p){var g=Math.round(l);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var _=this.options.updateWhenZooming&&g!==this._tileZoom;(!p||_)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,l)},_setZoomTransform:function(s,l,h){var p=this._map.getZoomScale(h,s.zoom),g=s.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(l,h)).round();ne.any3d?mo(s.el,g,p):yt(s.el,g)},_resetGrid:function(){var s=this._map,l=s.options.crs,h=this._tileSize=this.getTileSize(),p=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],p).x/h.x),Math.ceil(s.project([0,l.wrapLng[1]],p).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],p).y/h.x),Math.ceil(s.project([l.wrapLat[1],0],p).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),p=l.getZoomScale(h,this._tileZoom),g=l.project(s,this._tileZoom).floor(),_=l.getSize().divideBy(p*2);return new oe(g.subtract(_),g.add(_))},_update:function(s){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(s),g=this._pxBoundsToTileRange(p),_=g.getCenter(),k=[],b=this.options.keepBuffer,N=new oe(g.getBottomLeft().subtract([b,-b]),g.getTopRight().add([b,-b]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var B in this._tiles){var G=this._tiles[B].coords;(G.z!==this._tileZoom||!N.contains(new U(G.x,G.y)))&&(this._tiles[B].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var ue=g.min.y;ue<=g.max.y;ue++)for(var Te=g.min.x;Te<=g.max.x;Te++){var cn=new U(Te,ue);if(cn.z=this._tileZoom,!!this._isValidTile(cn)){var Dt=this._tiles[this._tileCoordsToKey(cn)];Dt?Dt.current=!0:k.push(cn)}}if(k.sort(function(yn,ws){return yn.distanceTo(_)-ws.distanceTo(_)}),k.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Wn=document.createDocumentFragment();for(Te=0;Te<k.length;Te++)this._addTile(k[Te],Wn);this._level.el.appendChild(Wn)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!l.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(s);return ye(this.options.bounds).overlaps(p)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,h=this.getTileSize(),p=s.scaleBy(h),g=p.add(h),_=l.unproject(p,s.z),k=l.unproject(g,s.z);return[_,k]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),h=new qe(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),h=new U(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(s){var l=this._tiles[s];l&&(it(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){we(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=m,s.onmousemove=m,ne.ielt9&&this.options.opacity<1&&jn(s,this.options.opacity)},_addTile:function(s,l){var h=this._getTilePos(s),p=this._tileCoordsToKey(s),g=this.createTile(this._wrapCoords(s),a(this._tileReady,this,s));this._initTile(g),this.createTile.length<2&&le(a(this._tileReady,this,s,null,g)),yt(g,h),this._tiles[p]={el:g,coords:s,current:!0},l.appendChild(g),this.fire("tileloadstart",{tile:g,coords:s})},_tileReady:function(s,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:s});var p=this._tileCoordsToKey(s);h=this._tiles[p],h&&(h.loaded=+new Date,this._map._fadeAnimated?(jn(h.el,0),Se(this._fadeFrame),this._fadeFrame=le(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(we(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ne.ielt9||!this._map._fadeAnimated?le(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new U(this._wrapX?f(s.x,this._wrapX):s.x,this._wrapY?f(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new oe(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function EA(s){return new ol(s)}var ys=ol.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=P(this,l),l.detectRetina&&ne.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var h=document.createElement("img");return ve(h,"load",a(this._tileOnLoad,this,l,h)),ve(h,"error",a(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var l={r:ne.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=h),l["-y"]=h}return w(this._url,i(l,this.options))},_tileOnLoad:function(s,l){ne.ielt9?setTimeout(a(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,h){var p=this.options.errorTileUrl;p&&l.getAttribute("src")!==p&&(l.src=p),s(h,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,p=this.options.zoomOffset;return h&&(s=l-s),s+p},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=m,l.onerror=m,!l.complete)){l.src=O;var h=this._tiles[s].coords;it(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",O),ol.prototype._removeTile.call(this,s)},_tileReady:function(s,l,h){if(!(!this._map||h&&h.getAttribute("src")===O))return ol.prototype._tileReady.call(this,s,l,h)}});function zw(s,l){return new ys(s,l)}var Ww=ys.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var h=i({},this.defaultWmsParams);for(var p in l)p in this.options||(h[p]=l[p]);l=P(this,l);var g=l.detectRetina&&ne.retina?2:1,_=this.getTileSize();h.width=_.x*g,h.height=_.y*g,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,ys.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),h=this._crs,p=fe(h.project(l[0]),h.project(l[1])),g=p.min,_=p.max,k=(this._wmsVersion>=1.3&&this._crs===Nw?[g.y,g.x,_.y,_.x]:[g.x,g.y,_.x,_.y]).join(","),b=ys.prototype.getTileUrl.call(this,s);return b+x(this.wmsParams,b,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+k},setParams:function(s,l){return i(this.wmsParams,s),l||this.redraw(),this}});function TA(s,l){return new Ww(s,l)}ys.WMS=Ww,zw.wms=TA;var qr=rr.extend({options:{padding:.1},initialize:function(s){P(this,s),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),we(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var h=this._map.getZoomScale(l,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,l),_=p.multiplyBy(-h).add(g).subtract(this._map._getNewPixelOrigin(s,l));ne.any3d?mo(this._container,_,h):yt(this._container,_)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new oe(h,h.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Hw=qr.extend({options:{tolerance:0},getEvents:function(){var s=qr.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");ve(s,"mousemove",this._onMouseMove,this),ve(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ve(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Se(this._redrawRequest),delete this._ctx,it(this._container),Ke(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qr.prototype._update.call(this);var s=this._bounds,l=this._container,h=s.getSize(),p=ne.retina?2:1;yt(l,s.min),l.width=p*h.x,l.height=p*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",ne.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){qr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[c(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,h=l.next,p=l.prev;h?h.prev=p:this._drawLast=p,p?p.next=h:this._drawFirst=h,delete s._order,delete this._layers[c(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),h=[],p,g;for(g=0;g<l.length;g++){if(p=Number(l[g]),isNaN(p))return;h.push(p)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||le(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new oe,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)s=p.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var h,p,g,_,k=s._parts,b=k.length,N=this._ctx;if(b){for(N.beginPath(),h=0;h<b;h++){for(p=0,g=k[h].length;p<g;p++)_=k[h][p],N[p?"lineTo":"moveTo"](_.x,_.y);l&&N.closePath()}this._fillStroke(N,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,h=this._ctx,p=Math.max(Math.round(s._radius),1),g=(Math.max(Math.round(s._radiusY),1)||p)/p;g!==1&&(h.save(),h.scale(1,g)),h.beginPath(),h.arc(l.x,l.y/g,p,0,Math.PI*2,!1),g!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,l){var h=l.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),h,p,g=this._drawFirst;g;g=g.next)h=g.layer,h.options.interactive&&h._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(p=h);this._fireEvent(p?[p]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(ft(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var h,p,g=this._drawFirst;g;g=g.next)h=g.layer,h.options.interactive&&h._containsPoint(l)&&(p=h);p!==this._hoveredLayer&&(this._handleMouseOut(s),p&&(we(this._container,"leaflet-interactive"),this._fireEvent([p],s,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,h){this._map._fireDOMEvent(l,h||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var h=l.next,p=l.prev;if(h)h.prev=p;else return;p?p.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var h=l.next,p=l.prev;if(p)p.next=h;else return;h?h.prev=p:p&&(this._drawLast=p),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function Yw(s){return ne.canvas?new Hw(s):null}var sl=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),PA={_initContainer:function(){this._container=Ve("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qr.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=sl("shape");we(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=sl("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[c(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;it(l),s.removeInteractiveTarget(l),delete this._layers[c(s)]},_updateStyle:function(s){var l=s._stroke,h=s._fill,p=s.options,g=s._container;g.stroked=!!p.stroke,g.filled=!!p.fill,p.stroke?(l||(l=s._stroke=sl("stroke")),g.appendChild(l),l.weight=p.weight+"px",l.color=p.color,l.opacity=p.opacity,p.dashArray?l.dashStyle=S(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=p.lineCap.replace("butt","flat"),l.joinstyle=p.lineJoin):l&&(g.removeChild(l),s._stroke=null),p.fill?(h||(h=s._fill=sl("fill")),g.appendChild(h),h.color=p.fillColor||p.color,h.opacity=p.fillOpacity):h&&(g.removeChild(h),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),h=Math.round(s._radius),p=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+p+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){fs(s._container)},_bringToBack:function(s){ps(s._container)}},Fc=ne.vml?sl:po,al=qr.extend({_initContainer:function(){this._container=Fc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Fc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){it(this._container),Ke(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qr.prototype._update.call(this);var s=this._bounds,l=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),yt(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=Fc("path");s.options.className&&we(l,s.options.className),s.options.interactive&&we(l,"leaflet-interactive"),this._updateStyle(s),this._layers[c(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){it(s._path),s.removeInteractiveTarget(s._path),delete this._layers[c(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,h=s.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,za(s._parts,l))},_updateCircle:function(s){var l=s._point,h=Math.max(Math.round(s._radius),1),p=Math.max(Math.round(s._radiusY),1)||h,g="a"+h+","+p+" 0 1,0 ",_=s._empty()?"M0 0":"M"+(l.x-h)+","+l.y+g+h*2+",0 "+g+-h*2+",0 ";this._setPath(s,_)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){fs(s._path)},_bringToBack:function(s){ps(s._path)}});ne.vml&&al.include(PA);function qw(s){return ne.svg||ne.vml?new al(s):null}Re.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&Yw(s)||qw(s)}});var Kw=vs.extend({initialize:function(s,l){vs.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=ye(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function SA(s,l){return new Kw(s,l)}al.create=Fc,al.pointsToPath=za,Yr.geometryToLayer=Rc,Yr.coordsToLatLng=xp,Yr.coordsToLatLngs=bc,Yr.latLngToCoords=Dp,Yr.latLngsToCoords=Oc,Yr.getFeature=_s,Yr.asFeature=Mc,Re.mergeOptions({boxZoom:!0});var Zw=yr.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){ve(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ke(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){it(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Xa(),hp(),this._startPoint=this._map.mouseEventToContainerPoint(s),ve(document,{contextmenu:_o,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Ve("div","leaflet-zoom-box",this._container),we(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new oe(this._point,this._startPoint),h=l.getSize();yt(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(it(this._box),ft(this._container,"leaflet-crosshair")),Ja(),dp(),Ke(document,{contextmenu:_o,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new qe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Re.addInitHook("addHandler","boxZoom",Zw),Re.mergeOptions({doubleClickZoom:!0});var Gw=yr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,h=l.getZoom(),p=l.options.zoomDelta,g=s.originalEvent.shiftKey?h-p:h+p;l.options.doubleClickZoom==="center"?l.setZoom(g):l.setZoomAround(s.containerPoint,g)}});Re.addInitHook("addHandler","doubleClickZoom",Gw),Re.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Qw=yr.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new gi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}we(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ft(this._map._container,"leaflet-grab"),ft(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=ye(this._map.options.maxBounds);this._offsetLimit=fe(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),h=this._initialWorldOffset,p=this._draggable._newPos.x,g=(p-l+h)%s+l-h,_=(p+l+h)%s-l-h,k=Math.abs(g+h)<Math.abs(_+h)?g:_;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=k},_onDragEnd:function(s){var l=this._map,h=l.options,p=!h.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),p)l.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),_=(this._lastTime-this._times[0])/1e3,k=h.easeLinearity,b=g.multiplyBy(k/_),N=b.distanceTo([0,0]),B=Math.min(h.inertiaMaxSpeed,N),G=b.multiplyBy(B/N),ue=B/(h.inertiaDeceleration*k),Te=G.multiplyBy(-ue/2).round();!Te.x&&!Te.y?l.fire("moveend"):(Te=l._limitOffset(Te,l.options.maxBounds),le(function(){l.panBy(Te,{duration:ue,easeLinearity:k,noMoveStart:!0,animate:!0})}))}}});Re.addInitHook("addHandler","dragging",Qw),Re.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Xw=yr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),ve(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ke(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,h=s.scrollTop||l.scrollTop,p=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(p,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},h=this.keyCodes,p,g;for(p=0,g=h.left.length;p<g;p++)l[h.left[p]]=[-1*s,0];for(p=0,g=h.right.length;p<g;p++)l[h.right[p]]=[s,0];for(p=0,g=h.down.length;p<g;p++)l[h.down[p]]=[0,s];for(p=0,g=h.up.length;p<g;p++)l[h.up[p]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},h=this.keyCodes,p,g;for(p=0,g=h.zoomIn.length;p<g;p++)l[h.zoomIn[p]]=s;for(p=0,g=h.zoomOut.length;p<g;p++)l[h.zoomOut[p]]=-s},_addHooks:function(){ve(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ke(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,h=this._map,p;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(p=this._panKeys[l],s.shiftKey&&(p=W(p).multiplyBy(3)),h.options.maxBounds&&(p=h._limitOffset(W(p),h.options.maxBounds)),h.options.worldCopyJump){var g=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(p)));h.panTo(g)}else h.panBy(p)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;_o(s)}}});Re.addInitHook("addHandler","keyboard",Xw),Re.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Jw=yr.extend({addHooks:function(){ve(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ke(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=Pw(s),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var p=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),p),_o(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,_=h?Math.ceil(g/h)*h:g,k=s._limitZoom(l+(this._delta>0?_:-_))-l;this._delta=0,this._startTime=null,k&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+k):s.setZoomAround(this._lastMousePos,l+k))}});Re.addInitHook("addHandler","scrollWheelZoom",Jw);var CA=600;Re.mergeOptions({tapHold:ne.touchNative&&ne.safari&&ne.mobile,tapTolerance:15});var e0=yr.extend({addHooks:function(){ve(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ke(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new U(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(ve(document,"touchend",$t),ve(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),CA),ve(document,"touchend touchcancel contextmenu",this._cancel,this),ve(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Ke(document,"touchend",$t),Ke(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Ke(document,"touchend touchcancel contextmenu",this._cancel,this),Ke(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new U(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});Re.addInitHook("addHandler","tapHold",e0),Re.mergeOptions({touchZoom:ne.touch,bounceAtZoomLimits:!0});var t0=yr.extend({addHooks:function(){we(this._map._container,"leaflet-touch-zoom"),ve(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ft(this._map._container,"leaflet-touch-zoom"),Ke(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(s.touches[0]),p=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(p)._divideBy(2))),this._startDist=h.distanceTo(p),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),ve(document,"touchmove",this._onTouchMove,this),ve(document,"touchend touchcancel",this._onTouchEnd,this),$t(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(s.touches[0]),p=l.mouseEventToContainerPoint(s.touches[1]),g=h.distanceTo(p)/this._startDist;if(this._zoom=l.getScaleZoom(g,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&g<1||this._zoom>l.getMaxZoom()&&g>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var _=h._add(p)._divideBy(2)._subtract(this._centerPoint);if(g===1&&_.x===0&&_.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(_),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),Se(this._animRequest);var k=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=le(k,this,!0),$t(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Se(this._animRequest),Ke(document,"touchmove",this._onTouchMove,this),Ke(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Re.addInitHook("addHandler","touchZoom",t0),Re.BoxZoom=Zw,Re.DoubleClickZoom=Gw,Re.Drag=Qw,Re.Keyboard=Xw,Re.ScrollWheelZoom=Jw,Re.TapHold=e0,Re.TouchZoom=t0,n.Bounds=oe,n.Browser=ne,n.CRS=tt,n.Canvas=Hw,n.Circle=kp,n.CircleMarker=Ac,n.Class=et,n.Control=nr,n.DivIcon=jw,n.DivOverlay=wr,n.DomEvent=zD,n.DomUtil=$D,n.Draggable=gi,n.Evented=je,n.FeatureGroup=Wr,n.GeoJSON=Yr,n.GridLayer=ol,n.Handler=yr,n.Icon=gs,n.ImageOverlay=Lc,n.LatLng=me,n.LatLngBounds=qe,n.Layer=rr,n.LayerGroup=ms,n.LineUtil=nA,n.Map=Re,n.Marker=Dc,n.Mixin=GD,n.Path=vi,n.Point=U,n.PolyUtil=QD,n.Polygon=vs,n.Polyline=Hr,n.Popup=Nc,n.PosAnimation=Sw,n.Projection=rA,n.Rectangle=Kw,n.Renderer=qr,n.SVG=al,n.SVGOverlay=$w,n.TileLayer=ys,n.Tooltip=Vc,n.Transformation=$n,n.Util=Be,n.VideoOverlay=Bw,n.bind=a,n.bounds=fe,n.canvas=Yw,n.circle=hA,n.circleMarker=cA,n.control=nl,n.divIcon=wA,n.extend=i,n.featureGroup=aA,n.geoJSON=Uw,n.geoJson=pA,n.gridLayer=EA,n.icon=lA,n.imageOverlay=mA,n.latLng=ae,n.latLngBounds=ye,n.layerGroup=sA,n.map=WD,n.marker=uA,n.point=W,n.polygon=fA,n.polyline=dA,n.popup=_A,n.rectangle=SA,n.setOptions=P,n.stamp=c,n.svg=qw,n.svgOverlay=vA,n.tileLayer=zw,n.tooltip=yA,n.transformation=mr,n.version=r,n.videoOverlay=gA;var IA=window.L;n.noConflict=function(){return window.L=IA,this},window.L=n})})(fv,fv.exports);var Qf=fv.exports;function Ny(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Vy(t,e){return e==null?function(r,i){const o=R.useRef();return o.current||(o.current=t(r,i)),o}:function(r,i){const o=R.useRef();o.current||(o.current=t(r,i));const a=R.useRef(r),{instance:u}=o.current;return R.useEffect(function(){a.current!==r&&(e(u,r,a.current),a.current=r)},[u,r,i]),o}}function X$(t,e){R.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function mx(t){return function(n){const r=My(),i=t(Ly(n,r),r);return hx(r.map,n.attribution),px(i.current,n.eventHandlers),X$(i.current,r),i}}function J$(t,e){const n=Vy(t,e),r=mx(n);return K$(r)}function e4(t,e){const n=Vy(t),r=Q$(n,e);return Z$(r)}function t4(t,e){const n=Vy(t,e),r=mx(n);return G$(r)}function n4(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function gx(){return My().map}function r4(t){const e=gx();return R.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function pv(){return pv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pv.apply(this,arguments)}function i4({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:o,placeholder:a,style:u,whenReady:c,zoom:d,...f},m){const[v]=R.useState({className:i,id:o,style:u}),[y,E]=R.useState(null);R.useImperativeHandle(m,()=>(y==null?void 0:y.map)??null,[y]);const P=R.useCallback(T=>{if(T!==null&&y===null){const w=new Qf.Map(T,f);n!=null&&d!=null?w.setView(n,d):t!=null&&w.fitBounds(t,e),c!=null&&w.whenReady(c),E(Y$(w))}},[]);R.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const x=y?M.createElement(fx,{value:y},r):a??null;return M.createElement("div",pv({},v,{ref:P}),x)}const o4=R.forwardRef(i4),s4=J$(function({position:e,...n},r){const i=new Qf.Marker(e,n);return Ny(i,q$(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),a4=e4(function(e,n){const r=new Qf.Popup(e,n.overlayContainer);return Ny(r,n)},function(e,n,{position:r},i){R.useEffect(function(){const{instance:a}=e;function u(d){d.popup===a&&(a.update(),i(!0))}function c(d){d.popup===a&&i(!1)}return n.map.on({popupopen:u,popupclose:c}),n.overlayContainer==null?(r!=null&&a.setLatLng(r),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var f;n.map.off({popupopen:u,popupclose:c}),(f=n.overlayContainer)==null||f.unbindPopup(),n.map.removeLayer(a)}},[e,n,i,r])}),l4=t4(function({url:e,...n},r){const i=new Qf.TileLayer(e,Ly(n,r));return Ny(i,r)},function(e,n,r){n4(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)}),vx=R.createContext(),u4={cities:[],isLoading:!1,currentCity:{},error:""};function c4(t,e){switch(e.type){case"loading":return{...t,isLoading:!0};case"cities/loaded":return{...t,isLoading:!1,cities:e.payload};case"city/loaded":return{...t,isLoading:!1,currentCity:e.payload};case"city/deleted":return{...t,isLoading:!1,cities:t.cities.filter(n=>n.id!==e.payload),currentCity:{}};case"rejected":return{...t,isLoading:!1,error:e.payload};default:throw new Error("Unknown action type")}}const _x=({children:t})=>{const[{cities:e,isLoading:n,currentCity:r,error:i},o]=R.useReducer(c4,u4),{currentUser:a}=R.useContext(Ba);async function u(){o({type:"loading"});try{const m=i$(Ml,"cities"),v=await S$(m,a.uid);if(v.empty)await sx(Nh(Ml,"cities",a.uid),{cities:[]}),o({type:"cities/loaded",payload:[]});else{const y=v.docs.map(E=>E.data());o({type:"cities/loaded",payload:y[0].cities})}}catch{o({type:"rejected",payload:"There was an error loading data..."})}}R.useEffect(function(){u()},[a]);const c=R.useCallback(async function(v){if(v!==r.id){o({type:"loading"});try{const y=e.filter(E=>E.id===v);o({type:"city/loaded",payload:y})}catch{o({type:"rejected",payload:"There was an error loading data..."})}}},[r,e]);async function d(m){o({type:"loading"});try{const v=Nh(Ml,"cities",a==null?void 0:a.uid);await UT(v,{cities:C$(m)}),u()}catch{o({type:"rejected",payload:"There was an error sending data..."})}}async function f(m){o({type:"loading"});try{const v=e.filter(E=>E.id!==m),y=Nh(Ml,"cities",a==null?void 0:a.uid);await UT(y,{cities:v}),o({type:"city/deleted",payload:m})}catch{o({type:"rejected",payload:"There was an error deleting city..."})}}return A.jsx(vx.Provider,{value:{isLoading:n,cities:e,currentCity:r,error:i,getCity:c,createCity:d,deleteCity:f},children:t})};function $a(){const t=R.useContext(vx);if(t===void 0)throw new Error("CitiesContext is used in the wrong place.");return t}_x.propTypes={children:Ot.oneOfType([Ot.arrayOf(Ot.node),Ot.node])};function h4(t=null){const[e,n]=R.useState(!1),[r,i]=R.useState(t),[o,a]=R.useState(null);function u(){if(!navigator.geolocation)return a("Your browser does not support geolocation");n(!0),navigator.geolocation.getCurrentPosition(c=>{i({lat:c.coords.latitude,lng:c.coords.longitude}),n(!1)},c=>{a(c.message),n(!1)})}return{isLoading:e,position:r,error:o,getPosition:u}}const d4="_btn_de80c_1",f4="_primary_de80c_12",p4="_back_de80c_18",m4="_position_de80c_24",$T={btn:d4,primary:f4,back:p4,position:m4};function Xf({children:t,onClick:e,type:n}){return A.jsx("div",{children:A.jsx("button",{className:`${$T.btn} ${$T[n]}`,onClick:e,children:t})})}Xf.propTypes={children:Ot.string.isRequired,onClick:Ot.func,type:Ot.string};function yx(){const[t]=cM(),e=t.get("lat"),n=t.get("lng");return[e,n]}function g4(){const{cities:t}=$a(),[e,n]=R.useState([40,0]),{isLoading:r,position:i,getPosition:o}=h4(),[a,u]=yx();return R.useEffect(function(){u&&n([a,u])},[a,u]),R.useEffect(function(){i&&n([i.lat,i.lng])},[i]),t?A.jsxs("div",{className:BT.mapContainer,children:[!i&&A.jsx(Xf,{type:"position",onClick:o,children:r?"Loading...":"Use your position"}),A.jsxs(o4,{center:e,zoom:6,scrollWheelZoom:!0,className:BT.map,children:[A.jsx(l4,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.map(c=>{var d,f;return A.jsx(s4,{position:[((d=c.position)==null?void 0:d.lat)||0,((f=c.position)==null?void 0:f.lng)||0],children:A.jsxs(a4,{children:[A.jsx("span",{children:c.emoji})," ",A.jsx("span",{children:c.cityName})]})},c.id)}),A.jsx(wx,{position:e}),A.jsx(v4,{})]})]}):null}function wx({position:t}){return gx().setView(t),null}function v4(){const t=ao();r4({click:e=>t(`form?lat=${e.latlng.lat}&lng=${e.latlng.lng}`)})}wx.propTypes={position:Ot.arrayOf(Ot.number,Ot.number)};const _4="_user_ofm1r_1",y4={user:_4};function w4(){const{SignOut:t}=R.useContext(Ba);return A.jsxs("div",{className:y4.user,children:[A.jsx("span",{children:"Welcome "}),A.jsx("button",{onClick:t,children:"Logout"})]})}function E4(){return A.jsxs("div",{className:L$.app,children:[A.jsx(j$,{}),A.jsx(g4,{}),A.jsx(w4,{})]})}const T4="_login_z39b4_1",P4="_form_z39b4_9",S4="_row_z39b4_23",C4="_btn_z39b4_28",I4="_footer_z39b4_37",k4="_link_z39b4_41",At={login:T4,form:P4,row:S4,btn:C4,footer:I4,link:k4};function x4(){const[t,e]=R.useState(""),[n,r]=R.useState(""),i=ao();async function o(a){a.preventDefault();const u=a.target[0].value,c=a.target[1].value;YN(Fd,u,c).then(()=>{i("/app")}).catch(d=>{const f=d.code,m=d.message;console.log(f,m),alert("Invalid email or password, please try again!")})}return A.jsxs("main",{className:At.login,children:[A.jsx(_c,{}),A.jsxs("form",{className:At.form,onSubmit:o,children:[A.jsxs("div",{className:At.row,children:[A.jsx("label",{htmlFor:"email",children:"Email address"}),A.jsx("input",{type:"email",placeholder:"example@gmail.com",id:"email",onChange:a=>e(a.target.value),value:t})]}),A.jsxs("div",{className:At.row,children:[A.jsx("label",{htmlFor:"password",children:"Password"}),A.jsx("input",{type:"password",placeholder:"password",id:"password",onChange:a=>r(a.target.value),value:n})]}),A.jsxs("div",{className:At.row,children:[A.jsx("button",{className:At.btn,children:"Login"}),A.jsxs("p",{className:At.footer,children:["Want to make an account?"," ",A.jsx(ba,{className:At.link,to:"../signup",children:"Sign up"})]})]})]})]})}function D4(){const[t,e]=R.useState(""),[n,r]=R.useState(""),[i,o]=R.useState(""),a=ao();async function u(c){c.preventDefault();const d=c.target[1].value,f=c.target[2].value,m=c.target[3].value;f==m?HN(Fd,d,f).then(v=>{sx(Nh(Ml,"cities",v.user.uid),{cities:[]})}).then(()=>{alert("Congrats! You have successfully created an account. Now let's log in"),a("/login")}).catch(v=>{const y=v.code,E=v.message;console.log(y,E),alert("The operation failed! :( please make sure that your inputs are correct and then try again")}):alert("Invalid email or password, please check them and then try again.")}return A.jsxs("main",{className:At.login,children:[A.jsx(_c,{}),A.jsxs("form",{className:At.form,onSubmit:u,children:[A.jsxs("div",{className:At.row,children:[A.jsx("label",{htmlFor:"name",children:"Username"}),A.jsx("input",{type:"text",id:"name",placeholder:"John Smith"})]}),A.jsxs("div",{className:At.row,children:[A.jsx("label",{htmlFor:"email",children:"Email address"}),A.jsx("input",{type:"email",required:!0,id:"email",placeholder:"example@gmail.com",onChange:c=>e(c.target.value),value:t})]}),A.jsxs("div",{className:At.row,children:[A.jsx("label",{htmlFor:"password",children:"Password"}),A.jsx("input",{type:"password",placeholder:"password",required:!0,id:"confirm_password",onChange:c=>r(c.target.value),value:n})]}),A.jsxs("div",{className:At.row,children:[A.jsx("label",{htmlFor:"password",children:"Confirm your password"}),A.jsx("input",{type:"password",placeholder:"confirm your password",required:!0,onChange:c=>o(c.target.value),id:"password",value:i})]}),A.jsxs("div",{className:At.row,children:[A.jsx("button",{type:"submit",className:At.btn,children:"Sign up"}),A.jsxs("p",{className:At.footer,children:["Already have account?"," ",A.jsx(ba,{className:At.link,to:"../login",children:"Log in"})]})]})]})]})}const A4="_spinnerContainer_trq0m_1",R4="_spinner_trq0m_1",b4="_rotate_trq0m_1",jT={spinnerContainer:A4,spinner:R4,rotate:b4};function Fy(){return A.jsx("div",{className:jT.spinnerContainer,children:A.jsx("div",{className:jT.spinner})})}const O4="_cityList_1bdo4_1",M4={cityList:O4},L4="_cityItem_9gldr_1",N4="_emoji_9gldr_23",V4="_name_9gldr_28",F4="_date_9gldr_34",U4="_deleteBtn_9gldr_38",Ps={cityItem:L4,"cityItem--active":"_cityItem--active_9gldr_18",emoji:N4,name:V4,date:F4,deleteBtn:U4},B4=t=>new Intl.DateTimeFormat("en",{day:"numeric",month:"long",year:"numeric"}).format(new Date(t));function Ex(t){const{currentCity:e,deleteCity:n}=$a(),{cityName:r,emoji:i,date:o,id:a,position:u}=t.city,c=u==null?void 0:u.lat,d=u==null?void 0:u.lng;function f(m){m.preventDefault(),n(a)}return A.jsx("li",{children:A.jsxs(ba,{className:`${Ps.cityItem} ${a===e.id?Ps["cityItem--active"]:""}`,to:`${a}?lat=${c}&lng=${d}`,children:[A.jsx("span",{className:Ps.emoji,children:i}),A.jsx("h3",{className:Ps.name,children:r}),A.jsx("time",{className:Ps.date,children:B4(o.toDate())}),A.jsx("button",{className:Ps.deleteBtn,onClick:f,children:""})]})})}Ex.protoTypes={city:Ot.shape({cityName:Ot.string,emoji:Ot.string,date:Ot.date})};const $4="_message_y7yb3_1",j4={message:$4};function Uu({message:t}){return A.jsxs("p",{className:j4.message,children:[A.jsx("span",{role:"img",children:""})," ",t]})}Uu.propTypes={message:Ot.string.isRequired};function z4(){const{cities:t,isLoading:e}=$a();return e||!t?A.jsx(Fy,{}):t.length?A.jsx("ul",{className:M4.cityList,children:t.map(n=>A.jsx(Ex,{city:n},n.id))}):A.jsx(Uu,{message:"Add your first city by clicking on a city on the map"})}const W4="_countryList_1anyx_1",H4={countryList:W4},Y4="_countryItem_q7ghg_1",q4={countryItem:Y4};function Tx({country:t}){return A.jsxs("li",{className:q4.countryItem,children:[A.jsx("span",{children:t.emoji}),A.jsx("span",{children:t.country})]})}Tx.propTypes={country:Ot.object};function K4(){const{cities:t,isLoading:e}=$a();if(e)return A.jsx(Fy,{});if(!t.length)return A.jsx(Uu,{message:"Add your first city by clicking on a city on the map"});const n=t.reduce((r,i)=>r.map(o=>o.country).includes(i.country)?r:[...r,{country:i.country,emoji:i.emoji}],[]);return A.jsx("ul",{className:H4.countryList,children:n.map(r=>A.jsx(Tx,{country:r},r.country))})}const Z4="_city_jn8wo_1",G4="_row_jn8wo_14",yl={city:Z4,row:G4};function Px(){const t=ao();return A.jsx(Xf,{type:"back",onClick:e=>{e.preventDefault(),t(-1)},children:" Back"})}const Q4=t=>new Intl.DateTimeFormat("en",{day:"numeric",month:"long",year:"numeric",weekday:"long"}).format(new Date(t));function X4(){const{id:t}=FO(),{getCity:e,currentCity:n,isLoading:r}=$a();R.useEffect(function(){e(t)},[t,e]);const{cityName:i,emoji:o,date:a,notes:u}=n;return r?A.jsx(Fy,{}):A.jsxs("div",{className:yl.city,children:[A.jsxs("div",{className:yl.row,children:[A.jsx("h6",{children:"City name"}),A.jsxs("h3",{children:[A.jsx("span",{children:o})," ",i]})]}),A.jsxs("div",{className:yl.row,children:[A.jsxs("h6",{children:["You went to ",i," on"]}),A.jsx("p",{children:Q4(a||null)})]}),u&&A.jsxs("div",{className:yl.row,children:[A.jsx("h6",{children:"Your notes"}),A.jsx("p",{children:u})]}),A.jsxs("div",{className:yl.row,children:[A.jsx("h6",{children:"Learn more"}),A.jsxs("a",{href:`https://en.wikipedia.org/wiki/${i}`,target:"_blank",rel:"noreferrer",children:["Check out ",i," on Wikipedia "]})]}),A.jsx("div",{children:A.jsx(Px,{})})]})}var Sx={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var a=typeof o;if(a==="string"||a==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var u=n.apply(null,o);u&&r.push(u)}}else if(a==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var c in o)e.call(o,c)&&o[c]&&r.push(c)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Sx);var J4=Sx.exports;const gn=Ia(J4);function Jn(t){"@babel/helpers - typeof";return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jn(t)}function q(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Uy(t){return q(1,arguments),t instanceof Date||Jn(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function J(t){q(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Jn(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ud(t){if(q(1,arguments),!Uy(t)&&typeof t!="number")return!1;var e=J(t);return!isNaN(Number(e))}function Ee(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function By(t,e){q(2,arguments);var n=J(t).getTime(),r=Ee(e);return new Date(n+r)}function Cx(t,e){q(2,arguments);var n=Ee(e);return By(t,-n)}var ej=864e5;function tj(t){q(1,arguments);var e=J(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/ej)+1}function ya(t){q(1,arguments);var e=1,n=J(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function Ix(t){q(1,arguments);var e=J(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=ya(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=ya(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function nj(t){q(1,arguments);var e=Ix(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=ya(n);return r}var rj=6048e5;function kx(t){q(1,arguments);var e=J(t),n=ya(e).getTime()-nj(e).getTime();return Math.round(n/rj)+1}var ij={};function ls(){return ij}function Go(t,e){var n,r,i,o,a,u,c,d;q(1,arguments);var f=ls(),m=Ee((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(u=a.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=J(t),y=v.getUTCDay(),E=(y<m?7:0)+y-m;return v.setUTCDate(v.getUTCDate()-E),v.setUTCHours(0,0,0,0),v}function $y(t,e){var n,r,i,o,a,u,c,d;q(1,arguments);var f=J(t),m=f.getUTCFullYear(),v=ls(),y=Ee((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(u=a.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:v.firstWeekContainsDate)!==null&&r!==void 0?r:(c=v.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=new Date(0);E.setUTCFullYear(m+1,0,y),E.setUTCHours(0,0,0,0);var P=Go(E,e),x=new Date(0);x.setUTCFullYear(m,0,y),x.setUTCHours(0,0,0,0);var T=Go(x,e);return f.getTime()>=P.getTime()?m+1:f.getTime()>=T.getTime()?m:m-1}function oj(t,e){var n,r,i,o,a,u,c,d;q(1,arguments);var f=ls(),m=Ee((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(u=a.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),v=$y(t,e),y=new Date(0);y.setUTCFullYear(v,0,m),y.setUTCHours(0,0,0,0);var E=Go(y,e);return E}var sj=6048e5;function xx(t,e){q(1,arguments);var n=J(t),r=Go(n,e).getTime()-oj(n,e).getTime();return Math.round(r/sj)+1}function ze(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var aj={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return ze(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):ze(r+1,2)},d:function(e,n){return ze(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return ze(e.getUTCHours()%12||12,n.length)},H:function(e,n){return ze(e.getUTCHours(),n.length)},m:function(e,n){return ze(e.getUTCMinutes(),n.length)},s:function(e,n){return ze(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return ze(o,n.length)}};const wi=aj;var Ss={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lj={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return wi.y(e,n)},Y:function(e,n,r,i){var o=$y(e,i),a=o>0?o:1-o;if(n==="YY"){var u=a%100;return ze(u,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):ze(a,n.length)},R:function(e,n){var r=Ix(e);return ze(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return ze(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return ze(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return ze(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return wi.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return ze(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var o=xx(e,i);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):ze(o,n.length)},I:function(e,n,r){var i=kx(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):ze(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):wi.d(e,n)},D:function(e,n,r){var i=tj(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):ze(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var o=e.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return ze(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var o=e.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return ze(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),o=i===0?7:i;switch(n){case"i":return String(o);case"ii":return ze(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),o=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),o;switch(i===12?o=Ss.noon:i===0?o=Ss.midnight:o=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),o;switch(i>=17?o=Ss.evening:i>=12?o=Ss.afternoon:i>=4?o=Ss.morning:o=Ss.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return wi.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):wi.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):ze(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):ze(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):wi.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):wi.s(e,n)},S:function(e,n){return wi.S(e,n)},X:function(e,n,r,i){var o=i._originalDate||e,a=o.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return WT(a);case"XXXX":case"XX":return So(a);case"XXXXX":case"XXX":default:return So(a,":")}},x:function(e,n,r,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(n){case"x":return WT(a);case"xxxx":case"xx":return So(a);case"xxxxx":case"xxx":default:return So(a,":")}},O:function(e,n,r,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+zT(a,":");case"OOOO":default:return"GMT"+So(a,":")}},z:function(e,n,r,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+zT(a,":");case"zzzz":default:return"GMT"+So(a,":")}},t:function(e,n,r,i){var o=i._originalDate||e,a=Math.floor(o.getTime()/1e3);return ze(a,n.length)},T:function(e,n,r,i){var o=i._originalDate||e,a=o.getTime();return ze(a,n.length)}};function zT(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;if(o===0)return n+String(i);var a=e||"";return n+String(i)+a+ze(o,2)}function WT(t,e){if(t%60===0){var n=t>0?"-":"+";return n+ze(Math.abs(t)/60,2)}return So(t,e)}function So(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),o=ze(Math.floor(i/60),2),a=ze(i%60,2);return r+o+n+a}const uj=lj;var HT=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Dx=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},cj=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return HT(e,n);var a;switch(i){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",HT(i,n)).replace("{{time}}",Dx(o,n))},hj={p:Dx,P:cj};const mv=hj;function Bd(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var dj=["D","DD"],fj=["YY","YYYY"];function Ax(t){return dj.indexOf(t)!==-1}function Rx(t){return fj.indexOf(t)!==-1}function $d(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var pj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mj=function(e,n,r){var i,o=pj[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const gj=mj;function xm(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var vj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_j={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wj={date:xm({formats:vj,defaultWidth:"full"}),time:xm({formats:_j,defaultWidth:"full"}),dateTime:xm({formats:yj,defaultWidth:"full"})};const Ej=wj;var Tj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Pj=function(e,n,r,i){return Tj[e]};const Sj=Pj;function wl(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{var u=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[u]}var d=t.argumentCallback?t.argumentCallback(e):e;return i[d]}}var Cj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ij={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Dj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Aj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Rj=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},bj={ordinalNumber:Rj,era:wl({values:Cj,defaultWidth:"wide"}),quarter:wl({values:Ij,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:wl({values:kj,defaultWidth:"wide"}),day:wl({values:xj,defaultWidth:"wide"}),dayPeriod:wl({values:Dj,defaultWidth:"wide",formattingValues:Aj,defaultFormattingWidth:"wide"})};const Oj=bj;function El(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;var a=o[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?Lj(u,function(m){return m.test(a)}):Mj(u,function(m){return m.test(a)}),d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;var f=e.slice(a.length);return{value:d,rest:f}}}function Mj(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Lj(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Nj(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],o=e.match(t.parsePattern);if(!o)return null;var a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;var u=e.slice(i.length);return{value:a,rest:u}}}var Vj=/^(\d+)(th|st|nd|rd)?/i,Fj=/\d+/i,Uj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Bj={any:[/^b/i,/^(a|c)/i]},$j={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jj={any:[/1/i,/2/i,/3/i,/4/i]},zj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Wj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Hj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Yj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Kj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zj={ordinalNumber:Nj({matchPattern:Vj,parsePattern:Fj,valueCallback:function(e){return parseInt(e,10)}}),era:El({matchPatterns:Uj,defaultMatchWidth:"wide",parsePatterns:Bj,defaultParseWidth:"any"}),quarter:El({matchPatterns:$j,defaultMatchWidth:"wide",parsePatterns:jj,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:El({matchPatterns:zj,defaultMatchWidth:"wide",parsePatterns:Wj,defaultParseWidth:"any"}),day:El({matchPatterns:Hj,defaultMatchWidth:"wide",parsePatterns:Yj,defaultParseWidth:"any"}),dayPeriod:El({matchPatterns:qj,defaultMatchWidth:"any",parsePatterns:Kj,defaultParseWidth:"any"})};const Gj=Zj;var Qj={code:"en-US",formatDistance:gj,formatLong:Ej,formatRelative:Sj,localize:Oj,match:Gj,options:{weekStartsOn:0,firstWeekContainsDate:1}};const bx=Qj;var Xj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Jj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ez=/^'([^]*?)'?$/,tz=/''/g,nz=/[a-zA-Z]/;function YT(t,e,n){var r,i,o,a,u,c,d,f,m,v,y,E,P,x,T,w,S,D;q(2,arguments);var O=String(e),V=ls(),F=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:V.locale)!==null&&r!==void 0?r:bx,H=Ee((o=(a=(u=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(d=n.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&u!==void 0?u:V.firstWeekContainsDate)!==null&&a!==void 0?a:(m=V.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(H>=1&&H<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var te=Ee((y=(E=(P=(x=n==null?void 0:n.weekStartsOn)!==null&&x!==void 0?x:n==null||(T=n.locale)===null||T===void 0||(w=T.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&P!==void 0?P:V.weekStartsOn)!==null&&E!==void 0?E:(S=V.locale)===null||S===void 0||(D=S.options)===null||D===void 0?void 0:D.weekStartsOn)!==null&&y!==void 0?y:0);if(!(te>=0&&te<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!F.localize)throw new RangeError("locale must contain localize property");if(!F.formatLong)throw new RangeError("locale must contain formatLong property");var K=J(t);if(!Ud(K))throw new RangeError("Invalid time value");var le=Bd(K),Se=Cx(K,le),Be={firstWeekContainsDate:H,weekStartsOn:te,locale:F,_originalDate:K},et=O.match(Jj).map(function($e){var de=$e[0];if(de==="p"||de==="P"){var je=mv[de];return je($e,F.formatLong)}return $e}).join("").match(Xj).map(function($e){if($e==="''")return"'";var de=$e[0];if(de==="'")return rz($e);var je=uj[de];if(je)return!(n!=null&&n.useAdditionalWeekYearTokens)&&Rx($e)&&$d($e,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Ax($e)&&$d($e,e,String(t)),je(Se,$e,F.localize,Be);if(de.match(nz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+de+"`");return $e}).join("");return et}function rz(t){var e=t.match(ez);return e?e[1].replace(tz,"'"):t}var iz=6e4;function gv(t,e){q(2,arguments);var n=Ee(e);return By(t,n*iz)}var oz=36e5;function sz(t,e){q(2,arguments);var n=Ee(e);return By(t,n*oz)}function ja(t,e){q(2,arguments);var n=J(t),r=Ee(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function jy(t,e){q(2,arguments);var n=Ee(e),r=n*7;return ja(t,r)}function pr(t,e){q(2,arguments);var n=J(t),r=Ee(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var a=o.getDate();return i>=a?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function Ox(t,e){q(2,arguments);var n=Ee(e),r=n*3;return pr(t,r)}function wa(t,e){q(2,arguments);var n=Ee(e);return pr(t,n*12)}function az(t,e){q(2,arguments);var n=Ee(e);return ja(t,-n)}function lz(t,e){q(2,arguments);var n=Ee(e);return jy(t,-n)}function Ea(t,e){q(2,arguments);var n=Ee(e);return pr(t,-n)}function uz(t,e){q(2,arguments);var n=Ee(e);return Ox(t,-n)}function Bu(t,e){q(2,arguments);var n=Ee(e);return wa(t,-n)}function Dm(t){q(1,arguments);var e=J(t),n=e.getSeconds();return n}function bn(t){q(1,arguments);var e=J(t),n=e.getMinutes();return n}function On(t){q(1,arguments);var e=J(t),n=e.getHours();return n}function cz(t){q(1,arguments);var e=J(t),n=e.getDay();return n}function qT(t){q(1,arguments);var e=J(t),n=e.getDate();return n}function Mx(t,e){var n,r,i,o,a,u,c,d;q(1,arguments);var f=ls(),m=Ee((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(u=a.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=J(t),y=v.getDay(),E=(y<m?7:0)+y-m;return v.setDate(v.getDate()-E),v.setHours(0,0,0,0),v}function jd(t){return q(1,arguments),Mx(t,{weekStartsOn:1})}function hz(t){q(1,arguments);var e=J(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=jd(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var a=jd(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function dz(t){q(1,arguments);var e=hz(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=jd(n);return r}var fz=6048e5;function pz(t){q(1,arguments);var e=J(t),n=jd(e).getTime()-dz(e).getTime();return Math.round(n/fz)+1}function nn(t){q(1,arguments);var e=J(t),n=e.getMonth();return n}function zs(t){q(1,arguments);var e=J(t),n=Math.floor(e.getMonth()/3)+1;return n}function Pe(t){return q(1,arguments),J(t).getFullYear()}function vv(t){q(1,arguments);var e=J(t),n=e.getTime();return n}function mz(t,e){q(2,arguments);var n=J(t),r=Ee(e);return n.setSeconds(r),n}function Jl(t,e){q(2,arguments);var n=J(t),r=Ee(e);return n.setMinutes(r),n}function eu(t,e){q(2,arguments);var n=J(t),r=Ee(e);return n.setHours(r),n}function gz(t){q(1,arguments);var e=J(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function dn(t,e){q(2,arguments);var n=J(t),r=Ee(e),i=n.getFullYear(),o=n.getDate(),a=new Date(0);a.setFullYear(i,r,15),a.setHours(0,0,0,0);var u=gz(a);return n.setMonth(r,Math.min(o,u)),n}function Cs(t,e){q(2,arguments);var n=J(t),r=Ee(e),i=Math.floor(n.getMonth()/3)+1,o=r-i;return dn(n,n.getMonth()+o*3)}function Gr(t,e){q(2,arguments);var n=J(t),r=Ee(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function KT(t){q(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(Jn(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var i=J(r);(n===void 0||n>i||isNaN(i.getDate()))&&(n=i)}),n||new Date(NaN)}function ZT(t){q(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(Jn(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var i=J(r);(n===void 0||n<i||isNaN(Number(i)))&&(n=i)}),n||new Date(NaN)}function Vr(t){q(1,arguments);var e=J(t);return e.setHours(0,0,0,0),e}var vz=864e5;function zd(t,e){q(2,arguments);var n=Vr(t),r=Vr(e),i=n.getTime()-Bd(n),o=r.getTime()-Bd(r);return Math.round((i-o)/vz)}function Wd(t,e){q(2,arguments);var n=J(t),r=J(e),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function Hd(t,e){q(2,arguments);var n=J(t),r=J(e);return n.getFullYear()-r.getFullYear()}function Lx(t){q(1,arguments);var e=J(t);return e.setDate(1),e.setHours(0,0,0,0),e}function _v(t){q(1,arguments);var e=J(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function Nx(t){q(1,arguments);var e=J(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function yv(t){q(1,arguments);var e=J(t);return e.setHours(23,59,59,999),e}function _z(t){q(1,arguments);var e=J(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function yz(t){q(1,arguments);var e=J(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function wz(t,e){q(2,arguments);var n=J(t),r=J(e);return n.getTime()===r.getTime()}function Ez(t,e){q(2,arguments);var n=Vr(t),r=Vr(e);return n.getTime()===r.getTime()}function Tz(t,e){q(2,arguments);var n=J(t),r=J(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Pz(t,e){q(2,arguments);var n=J(t),r=J(e);return n.getFullYear()===r.getFullYear()}function Sz(t,e){q(2,arguments);var n=_v(t),r=_v(e);return n.getTime()===r.getTime()}function ro(t,e){q(2,arguments);var n=J(t),r=J(e);return n.getTime()>r.getTime()}function ni(t,e){q(2,arguments);var n=J(t),r=J(e);return n.getTime()<r.getTime()}function $u(t,e){q(2,arguments);var n=J(t).getTime(),r=J(e.start).getTime(),i=J(e.end).getTime();if(!(r<=i))throw new RangeError("Invalid interval");return n>=r&&n<=i}function GT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cz(t,e){if(t){if(typeof t=="string")return GT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GT(t,e)}}function QT(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Cz(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,u;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return o=d.done,d},e:function(d){a=!0,u=d},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(a)throw u}}}}function Iz(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function Q(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wv(t,e){return wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wv(t,e)}function Le(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wv(t,e)}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yd(t)}function kz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xz(t,e){if(e&&(Jn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q(t)}function Ne(t){var e=kz();return function(){var r=Yd(t),i;if(e){var o=Yd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return xz(this,i)}}function De(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dz(t,e){if(Jn(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vx(t){var e=Dz(t,"string");return Jn(e)==="symbol"?e:String(e)}function XT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vx(r.key),r)}}function Ae(t,e,n){return e&&XT(t.prototype,e),n&&XT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z(t,e,n){return e=Vx(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Az=10,Fx=function(){function t(){De(this,t),Z(this,"priority",void 0),Z(this,"subPriority",0)}return Ae(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),Rz=function(t){Le(n,t);var e=Ne(n);function n(r,i,o,a,u){var c;return De(this,n),c=e.call(this),c.value=r,c.validateValue=i,c.setValue=o,c.priority=a,u&&(c.subPriority=u),c}return Ae(n,[{key:"validate",value:function(i,o){return this.validateValue(i,this.value,o)}},{key:"set",value:function(i,o,a){return this.setValue(i,o,this.value,a)}}]),n}(Fx),bz=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",Az),Z(Q(r),"subPriority",-1),r}return Ae(n,[{key:"set",value:function(i,o){if(o.timestampIsSet)return i;var a=new Date(0);return a.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),a.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),a}}]),n}(Fx),Ue=function(){function t(){De(this,t),Z(this,"incompatibleTokens",void 0),Z(this,"priority",void 0),Z(this,"subPriority",void 0)}return Ae(t,[{key:"run",value:function(n,r,i,o){var a=this.parse(n,r,i,o);return a?{setter:new Rz(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),Oz=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",140),Z(Q(r),"incompatibleTokens",["R","u","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a){switch(o){case"G":case"GG":case"GGG":return a.era(i,{width:"abbreviated"})||a.era(i,{width:"narrow"});case"GGGGG":return a.era(i,{width:"narrow"});case"GGGG":default:return a.era(i,{width:"wide"})||a.era(i,{width:"abbreviated"})||a.era(i,{width:"narrow"})}}},{key:"set",value:function(i,o,a){return o.era=a,i.setUTCFullYear(a,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ue),zy=6e4,Wy=36e5,Mz=1e3,mt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ir={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function gt(t,e){return t&&{value:e(t.value),rest:t.rest}}function st(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function kr(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(i*Wy+o*zy+a*Mz),rest:e.slice(n[0].length)}}function Ux(t){return st(mt.anyDigitsSigned,t)}function dt(t,e){switch(t){case 1:return st(mt.singleDigit,e);case 2:return st(mt.twoDigits,e);case 3:return st(mt.threeDigits,e);case 4:return st(mt.fourDigits,e);default:return st(new RegExp("^\\d{1,"+t+"}"),e)}}function qd(t,e){switch(t){case 1:return st(mt.singleDigitSigned,e);case 2:return st(mt.twoDigitsSigned,e);case 3:return st(mt.threeDigitsSigned,e);case 4:return st(mt.fourDigitsSigned,e);default:return st(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Hy(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Bx(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var o=r+50,a=Math.floor(o/100)*100,u=t>=o%100;i=t+a-(u?100:0)}return n?i:1-i}function $x(t){return t%400===0||t%4===0&&t%100!==0}var Lz=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",130),Z(Q(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a){var u=function(d){return{year:d,isTwoDigitYear:o==="yy"}};switch(o){case"y":return gt(dt(4,i),u);case"yo":return gt(a.ordinalNumber(i,{unit:"year"}),u);default:return gt(dt(o.length,i),u)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,a){var u=i.getUTCFullYear();if(a.isTwoDigitYear){var c=Bx(a.year,u);return i.setUTCFullYear(c,0,1),i.setUTCHours(0,0,0,0),i}var d=!("era"in o)||o.era===1?a.year:1-a.year;return i.setUTCFullYear(d,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ue),Nz=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",130),Z(Q(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a){var u=function(d){return{year:d,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return gt(dt(4,i),u);case"Yo":return gt(a.ordinalNumber(i,{unit:"year"}),u);default:return gt(dt(o.length,i),u)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,a,u){var c=$y(i,u);if(a.isTwoDigitYear){var d=Bx(a.year,c);return i.setUTCFullYear(d,0,u.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Go(i,u)}var f=!("era"in o)||o.era===1?a.year:1-a.year;return i.setUTCFullYear(f,0,u.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Go(i,u)}}]),n}(Ue),Vz=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",130),Z(Q(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o){return qd(o==="R"?4:o.length,i)}},{key:"set",value:function(i,o,a){var u=new Date(0);return u.setUTCFullYear(a,0,4),u.setUTCHours(0,0,0,0),ya(u)}}]),n}(Ue),Fz=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",130),Z(Q(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o){return qd(o==="u"?4:o.length,i)}},{key:"set",value:function(i,o,a){return i.setUTCFullYear(a,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ue),Uz=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",120),Z(Q(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a){switch(o){case"Q":case"QQ":return dt(o.length,i);case"Qo":return a.ordinalNumber(i,{unit:"quarter"});case"QQQ":return a.quarter(i,{width:"abbreviated",context:"formatting"})||a.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(i,{width:"wide",context:"formatting"})||a.quarter(i,{width:"abbreviated",context:"formatting"})||a.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,a){return i.setUTCMonth((a-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ue),Bz=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",120),Z(Q(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a){switch(o){case"q":case"qq":return dt(o.length,i);case"qo":return a.ordinalNumber(i,{unit:"quarter"});case"qqq":return a.quarter(i,{width:"abbreviated",context:"standalone"})||a.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(i,{width:"wide",context:"standalone"})||a.quarter(i,{width:"abbreviated",context:"standalone"})||a.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,a){return i.setUTCMonth((a-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ue),$z=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Z(Q(r),"priority",110),r}return Ae(n,[{key:"parse",value:function(i,o,a){var u=function(d){return d-1};switch(o){case"M":return gt(st(mt.month,i),u);case"MM":return gt(dt(2,i),u);case"Mo":return gt(a.ordinalNumber(i,{unit:"month"}),u);case"MMM":return a.month(i,{width:"abbreviated",context:"formatting"})||a.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(i,{width:"wide",context:"formatting"})||a.month(i,{width:"abbreviated",context:"formatting"})||a.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,a){return i.setUTCMonth(a,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ue),jz=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",110),Z(Q(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a){var u=function(d){return d-1};switch(o){case"L":return gt(st(mt.month,i),u);case"LL":return gt(dt(2,i),u);case"Lo":return gt(a.ordinalNumber(i,{unit:"month"}),u);case"LLL":return a.month(i,{width:"abbreviated",context:"standalone"})||a.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(i,{width:"wide",context:"standalone"})||a.month(i,{width:"abbreviated",context:"standalone"})||a.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,a){return i.setUTCMonth(a,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ue);function zz(t,e,n){q(2,arguments);var r=J(t),i=Ee(e),o=xx(r,n)-i;return r.setUTCDate(r.getUTCDate()-o*7),r}var Wz=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",100),Z(Q(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a){switch(o){case"w":return st(mt.week,i);case"wo":return a.ordinalNumber(i,{unit:"week"});default:return dt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,a,u){return Go(zz(i,a,u),u)}}]),n}(Ue);function Hz(t,e){q(2,arguments);var n=J(t),r=Ee(e),i=kx(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var Yz=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",100),Z(Q(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a){switch(o){case"I":return st(mt.week,i);case"Io":return a.ordinalNumber(i,{unit:"week"});default:return dt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,a){return ya(Hz(i,a))}}]),n}(Ue),qz=[31,28,31,30,31,30,31,31,30,31,30,31],Kz=[31,29,31,30,31,30,31,31,30,31,30,31],Zz=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",90),Z(Q(r),"subPriority",1),Z(Q(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a){switch(o){case"d":return st(mt.date,i);case"do":return a.ordinalNumber(i,{unit:"date"});default:return dt(o.length,i)}}},{key:"validate",value:function(i,o){var a=i.getUTCFullYear(),u=$x(a),c=i.getUTCMonth();return u?o>=1&&o<=Kz[c]:o>=1&&o<=qz[c]}},{key:"set",value:function(i,o,a){return i.setUTCDate(a),i.setUTCHours(0,0,0,0),i}}]),n}(Ue),Gz=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",90),Z(Q(r),"subpriority",1),Z(Q(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a){switch(o){case"D":case"DD":return st(mt.dayOfYear,i);case"Do":return a.ordinalNumber(i,{unit:"date"});default:return dt(o.length,i)}}},{key:"validate",value:function(i,o){var a=i.getUTCFullYear(),u=$x(a);return u?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(i,o,a){return i.setUTCMonth(0,a),i.setUTCHours(0,0,0,0),i}}]),n}(Ue);function Yy(t,e,n){var r,i,o,a,u,c,d,f;q(2,arguments);var m=ls(),v=Ee((r=(i=(o=(a=n==null?void 0:n.weekStartsOn)!==null&&a!==void 0?a:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&o!==void 0?o:m.weekStartsOn)!==null&&i!==void 0?i:(d=m.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&r!==void 0?r:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=J(t),E=Ee(e),P=y.getUTCDay(),x=E%7,T=(x+7)%7,w=(T<v?7:0)+E-P;return y.setUTCDate(y.getUTCDate()+w),y}var Qz=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",90),Z(Q(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a){switch(o){case"E":case"EE":case"EEE":return a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(i,{width:"wide",context:"formatting"})||a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,a,u){return i=Yy(i,a,u),i.setUTCHours(0,0,0,0),i}}]),n}(Ue),Xz=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",90),Z(Q(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a,u){var c=function(f){var m=Math.floor((f-1)/7)*7;return(f+u.weekStartsOn+6)%7+m};switch(o){case"e":case"ee":return gt(dt(o.length,i),c);case"eo":return gt(a.ordinalNumber(i,{unit:"day"}),c);case"eee":return a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"eeeee":return a.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(i,{width:"wide",context:"formatting"})||a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,a,u){return i=Yy(i,a,u),i.setUTCHours(0,0,0,0),i}}]),n}(Ue),Jz=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",90),Z(Q(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a,u){var c=function(f){var m=Math.floor((f-1)/7)*7;return(f+u.weekStartsOn+6)%7+m};switch(o){case"c":case"cc":return gt(dt(o.length,i),c);case"co":return gt(a.ordinalNumber(i,{unit:"day"}),c);case"ccc":return a.day(i,{width:"abbreviated",context:"standalone"})||a.day(i,{width:"short",context:"standalone"})||a.day(i,{width:"narrow",context:"standalone"});case"ccccc":return a.day(i,{width:"narrow",context:"standalone"});case"cccccc":return a.day(i,{width:"short",context:"standalone"})||a.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(i,{width:"wide",context:"standalone"})||a.day(i,{width:"abbreviated",context:"standalone"})||a.day(i,{width:"short",context:"standalone"})||a.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,a,u){return i=Yy(i,a,u),i.setUTCHours(0,0,0,0),i}}]),n}(Ue);function e3(t,e){q(2,arguments);var n=Ee(e);n%7===0&&(n=n-7);var r=1,i=J(t),o=i.getUTCDay(),a=n%7,u=(a+7)%7,c=(u<r?7:0)+n-o;return i.setUTCDate(i.getUTCDate()+c),i}var t3=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",90),Z(Q(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a){var u=function(d){return d===0?7:d};switch(o){case"i":case"ii":return dt(o.length,i);case"io":return a.ordinalNumber(i,{unit:"day"});case"iii":return gt(a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"}),u);case"iiiii":return gt(a.day(i,{width:"narrow",context:"formatting"}),u);case"iiiiii":return gt(a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"}),u);case"iiii":default:return gt(a.day(i,{width:"wide",context:"formatting"})||a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"}),u)}}},{key:"validate",value:function(i,o){return o>=1&&o<=7}},{key:"set",value:function(i,o,a){return i=e3(i,a),i.setUTCHours(0,0,0,0),i}}]),n}(Ue),n3=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",80),Z(Q(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a){switch(o){case"a":case"aa":case"aaa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})||a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,a){return i.setUTCHours(Hy(a),0,0,0),i}}]),n}(Ue),r3=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",80),Z(Q(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a){switch(o){case"b":case"bb":case"bbb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})||a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,a){return i.setUTCHours(Hy(a),0,0,0),i}}]),n}(Ue),i3=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",80),Z(Q(r),"incompatibleTokens",["a","b","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a){switch(o){case"B":case"BB":case"BBB":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})||a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,a){return i.setUTCHours(Hy(a),0,0,0),i}}]),n}(Ue),o3=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",70),Z(Q(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a){switch(o){case"h":return st(mt.hour12h,i);case"ho":return a.ordinalNumber(i,{unit:"hour"});default:return dt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=12}},{key:"set",value:function(i,o,a){var u=i.getUTCHours()>=12;return u&&a<12?i.setUTCHours(a+12,0,0,0):!u&&a===12?i.setUTCHours(0,0,0,0):i.setUTCHours(a,0,0,0),i}}]),n}(Ue),s3=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",70),Z(Q(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a){switch(o){case"H":return st(mt.hour23h,i);case"Ho":return a.ordinalNumber(i,{unit:"hour"});default:return dt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=23}},{key:"set",value:function(i,o,a){return i.setUTCHours(a,0,0,0),i}}]),n}(Ue),a3=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",70),Z(Q(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a){switch(o){case"K":return st(mt.hour11h,i);case"Ko":return a.ordinalNumber(i,{unit:"hour"});default:return dt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,a){var u=i.getUTCHours()>=12;return u&&a<12?i.setUTCHours(a+12,0,0,0):i.setUTCHours(a,0,0,0),i}}]),n}(Ue),l3=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",70),Z(Q(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a){switch(o){case"k":return st(mt.hour24h,i);case"ko":return a.ordinalNumber(i,{unit:"hour"});default:return dt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=24}},{key:"set",value:function(i,o,a){var u=a<=24?a%24:a;return i.setUTCHours(u,0,0,0),i}}]),n}(Ue),u3=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",60),Z(Q(r),"incompatibleTokens",["t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a){switch(o){case"m":return st(mt.minute,i);case"mo":return a.ordinalNumber(i,{unit:"minute"});default:return dt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,a){return i.setUTCMinutes(a,0,0),i}}]),n}(Ue),c3=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",50),Z(Q(r),"incompatibleTokens",["t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o,a){switch(o){case"s":return st(mt.second,i);case"so":return a.ordinalNumber(i,{unit:"second"});default:return dt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,a){return i.setUTCSeconds(a,0),i}}]),n}(Ue),h3=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",30),Z(Q(r),"incompatibleTokens",["t","T"]),r}return Ae(n,[{key:"parse",value:function(i,o){var a=function(c){return Math.floor(c*Math.pow(10,-o.length+3))};return gt(dt(o.length,i),a)}},{key:"set",value:function(i,o,a){return i.setUTCMilliseconds(a),i}}]),n}(Ue),d3=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",10),Z(Q(r),"incompatibleTokens",["t","T","x"]),r}return Ae(n,[{key:"parse",value:function(i,o){switch(o){case"X":return kr(Ir.basicOptionalMinutes,i);case"XX":return kr(Ir.basic,i);case"XXXX":return kr(Ir.basicOptionalSeconds,i);case"XXXXX":return kr(Ir.extendedOptionalSeconds,i);case"XXX":default:return kr(Ir.extended,i)}}},{key:"set",value:function(i,o,a){return o.timestampIsSet?i:new Date(i.getTime()-a)}}]),n}(Ue),f3=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",10),Z(Q(r),"incompatibleTokens",["t","T","X"]),r}return Ae(n,[{key:"parse",value:function(i,o){switch(o){case"x":return kr(Ir.basicOptionalMinutes,i);case"xx":return kr(Ir.basic,i);case"xxxx":return kr(Ir.basicOptionalSeconds,i);case"xxxxx":return kr(Ir.extendedOptionalSeconds,i);case"xxx":default:return kr(Ir.extended,i)}}},{key:"set",value:function(i,o,a){return o.timestampIsSet?i:new Date(i.getTime()-a)}}]),n}(Ue),p3=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",40),Z(Q(r),"incompatibleTokens","*"),r}return Ae(n,[{key:"parse",value:function(i){return Ux(i)}},{key:"set",value:function(i,o,a){return[new Date(a*1e3),{timestampIsSet:!0}]}}]),n}(Ue),m3=function(t){Le(n,t);var e=Ne(n);function n(){var r;De(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),Z(Q(r),"priority",20),Z(Q(r),"incompatibleTokens","*"),r}return Ae(n,[{key:"parse",value:function(i){return Ux(i)}},{key:"set",value:function(i,o,a){return[new Date(a),{timestampIsSet:!0}]}}]),n}(Ue),g3={G:new Oz,y:new Lz,Y:new Nz,R:new Vz,u:new Fz,Q:new Uz,q:new Bz,M:new $z,L:new jz,w:new Wz,I:new Yz,d:new Zz,D:new Gz,E:new Qz,e:new Xz,c:new Jz,i:new t3,a:new n3,b:new r3,B:new i3,h:new o3,H:new s3,K:new a3,k:new l3,m:new u3,s:new c3,S:new h3,X:new d3,x:new f3,t:new p3,T:new m3},v3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,y3=/^'([^]*?)'?$/,w3=/''/g,E3=/\S/,T3=/[a-zA-Z]/;function Am(t,e,n,r){var i,o,a,u,c,d,f,m,v,y,E,P,x,T,w,S,D,O;q(3,arguments);var V=String(t),F=String(e),H=ls(),te=(i=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:H.locale)!==null&&i!==void 0?i:bx;if(!te.match)throw new RangeError("locale must contain match property");var K=Ee((a=(u=(c=(d=r==null?void 0:r.firstWeekContainsDate)!==null&&d!==void 0?d:r==null||(f=r.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&c!==void 0?c:H.firstWeekContainsDate)!==null&&u!==void 0?u:(v=H.locale)===null||v===void 0||(y=v.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(K>=1&&K<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var le=Ee((E=(P=(x=(T=r==null?void 0:r.weekStartsOn)!==null&&T!==void 0?T:r==null||(w=r.locale)===null||w===void 0||(S=w.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&x!==void 0?x:H.weekStartsOn)!==null&&P!==void 0?P:(D=H.locale)===null||D===void 0||(O=D.options)===null||O===void 0?void 0:O.weekStartsOn)!==null&&E!==void 0?E:0);if(!(le>=0&&le<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(F==="")return V===""?J(n):new Date(NaN);var Se={firstWeekContainsDate:K,weekStartsOn:le,locale:te},Be=[new bz],et=F.match(_3).map(function(ke){var Oe=ke[0];if(Oe in mv){var xt=mv[Oe];return xt(ke,te.formatLong)}return ke}).join("").match(v3),$e=[],de=QT(et),je;try{var U=function(){var Oe=je.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&Rx(Oe)&&$d(Oe,F,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Ax(Oe)&&$d(Oe,F,t);var xt=Oe[0],$n=g3[xt];if($n){var mr=$n.incompatibleTokens;if(Array.isArray(mr)){var zr=$e.find(function(po){return mr.includes(po.token)||po.token===xt});if(zr)throw new RangeError("The format string mustn't contain `".concat(zr.fullToken,"` and `").concat(Oe,"` at the same time"))}else if($n.incompatibleTokens==="*"&&$e.length>0)throw new RangeError("The format string mustn't contain `".concat(Oe,"` and any other token at the same time"));$e.push({token:xt,fullToken:Oe});var fo=$n.run(V,Oe,te.match,Se);if(!fo)return{v:new Date(NaN)};Be.push(fo.setter),V=fo.rest}else{if(xt.match(T3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+xt+"`");if(Oe==="''"?Oe="'":xt==="'"&&(Oe=P3(Oe)),V.indexOf(Oe)===0)V=V.slice(Oe.length);else return{v:new Date(NaN)}}};for(de.s();!(je=de.n()).done;){var re=U();if(Jn(re)==="object")return re.v}}catch(ke){de.e(ke)}finally{de.f()}if(V.length>0&&E3.test(V))return new Date(NaN);var W=Be.map(function(ke){return ke.priority}).sort(function(ke,Oe){return Oe-ke}).filter(function(ke,Oe,xt){return xt.indexOf(ke)===Oe}).map(function(ke){return Be.filter(function(Oe){return Oe.priority===ke}).sort(function(Oe,xt){return xt.subPriority-Oe.subPriority})}).map(function(ke){return ke[0]}),oe=J(n);if(isNaN(oe.getTime()))return new Date(NaN);var fe=Cx(oe,Bd(oe)),qe={},ye=QT(W),me;try{for(ye.s();!(me=ye.n()).done;){var ae=me.value;if(!ae.validate(fe,Se))return new Date(NaN);var tt=ae.set(fe,qe,Se);Array.isArray(tt)?(fe=tt[0],Iz(qe,tt[1])):fe=tt}}catch(ke){ye.e(ke)}finally{ye.f()}return fe}function P3(t){return t.match(y3)[1].replace(w3,"'")}function S3(t,e){var n;q(1,arguments);var r=Ee((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=x3(t),o;if(i.date){var a=D3(i.date,r);o=A3(a.restDateString,a.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var u=o.getTime(),c=0,d;if(i.time&&(c=R3(i.time),isNaN(c)))return new Date(NaN);if(i.timezone){if(d=b3(i.timezone),isNaN(d))return new Date(NaN)}else{var f=new Date(u+c),m=new Date(0);return m.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),m.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),m}return new Date(u+c+d)}var fh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},C3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,I3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,k3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function x3(t){var e={},n=t.split(fh.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],fh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(fh.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=fh.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function D3(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function A3(t,e){if(e===null)return new Date(NaN);var n=t.match(C3);if(!n)return new Date(NaN);var r=!!n[4],i=Tl(n[1]),o=Tl(n[2])-1,a=Tl(n[3]),u=Tl(n[4]),c=Tl(n[5])-1;if(r)return V3(e,u,c)?O3(e,u,c):new Date(NaN);var d=new Date(0);return!L3(e,o,a)||!N3(e,i)?new Date(NaN):(d.setUTCFullYear(e,o,Math.max(i,a)),d)}function Tl(t){return t?parseInt(t):1}function R3(t){var e=t.match(I3);if(!e)return NaN;var n=Rm(e[1]),r=Rm(e[2]),i=Rm(e[3]);return F3(n,r,i)?n*Wy+r*zy+i*1e3:NaN}function Rm(t){return t&&parseFloat(t.replace(",","."))||0}function b3(t){if(t==="Z")return 0;var e=t.match(k3);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return U3(r,i)?n*(r*Wy+i*zy):NaN}function O3(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}var M3=[31,null,31,30,31,30,31,31,30,31,30,31];function jx(t){return t%400===0||t%4===0&&t%100!==0}function L3(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(M3[e]||(jx(t)?29:28))}function N3(t,e){return e>=1&&e<=(jx(t)?366:365)}function V3(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function F3(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function U3(t,e){return e>=0&&e<=59}function B3(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ev(t,e)}function Ev(t,e){return Ev=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Ev(t,e)}function $3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function JT(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j3(t,e,n){return t===e?!0:t.correspondingElement?t.correspondingElement.classList.contains(n):t.classList.contains(n)}function z3(t,e,n){if(t===e)return!0;for(;t.parentNode||t.host;){if(t.parentNode&&j3(t,e,n))return!0;t=t.parentNode||t.host}return t}function W3(t){return document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY}var H3=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var e=!1,n=Object.defineProperty({},"passive",{get:function(){e=!0}}),r=function(){};return window.addEventListener("testPassiveEventSupport",r,n),window.removeEventListener("testPassiveEventSupport",r,n),e}};function Y3(t){return t===void 0&&(t=0),function(){return++t}}var q3=Y3(),Tv,ph={},bm={},K3=["touchstart","touchmove"],Z3="ignore-react-onclickoutside";function e1(t,e){var n={},r=K3.indexOf(e)!==-1;return r&&Tv&&(n.passive=!t.props.preventDefault),n}function Jf(t,e){var n,r,i=t.displayName||t.name||"Component";return r=n=function(o){B3(a,o);function a(c){var d;return d=o.call(this,c)||this,d.__outsideClickHandler=function(f){if(typeof d.__clickOutsideHandlerProp=="function"){d.__clickOutsideHandlerProp(f);return}var m=d.getInstance();if(typeof m.props.handleClickOutside=="function"){m.props.handleClickOutside(f);return}if(typeof m.handleClickOutside=="function"){m.handleClickOutside(f);return}throw new Error("WrappedComponent: "+i+" lacks a handleClickOutside(event) function for processing outside click events.")},d.__getComponentNode=function(){var f=d.getInstance();return e&&typeof e.setClickOutsideRef=="function"?e.setClickOutsideRef()(f):typeof f.setClickOutsideRef=="function"?f.setClickOutsideRef():Gu.findDOMNode(f)},d.enableOnClickOutside=function(){if(!(typeof document>"u"||bm[d._uid])){typeof Tv>"u"&&(Tv=H3()),bm[d._uid]=!0;var f=d.props.eventTypes;f.forEach||(f=[f]),ph[d._uid]=function(m){if(d.componentNode!==null&&(d.props.preventDefault&&m.preventDefault(),d.props.stopPropagation&&m.stopPropagation(),!(d.props.excludeScrollbar&&W3(m)))){var v=m.composed&&m.composedPath&&m.composedPath().shift()||m.target;z3(v,d.componentNode,d.props.outsideClickIgnoreClass)===document&&d.__outsideClickHandler(m)}},f.forEach(function(m){document.addEventListener(m,ph[d._uid],e1(JT(d),m))})}},d.disableOnClickOutside=function(){delete bm[d._uid];var f=ph[d._uid];if(f&&typeof document<"u"){var m=d.props.eventTypes;m.forEach||(m=[m]),m.forEach(function(v){return document.removeEventListener(v,f,e1(JT(d),v))}),delete ph[d._uid]}},d.getRef=function(f){return d.instanceRef=f},d._uid=q3(),d}var u=a.prototype;return u.getInstance=function(){if(t.prototype&&!t.prototype.isReactComponent)return this;var d=this.instanceRef;return d.getInstance?d.getInstance():d},u.componentDidMount=function(){if(!(typeof document>"u"||!document.createElement)){var d=this.getInstance();if(e&&typeof e.handleClickOutside=="function"&&(this.__clickOutsideHandlerProp=e.handleClickOutside(d),typeof this.__clickOutsideHandlerProp!="function"))throw new Error("WrappedComponent: "+i+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside()}},u.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},u.componentWillUnmount=function(){this.disableOnClickOutside()},u.render=function(){var d=this.props;d.excludeScrollbar;var f=$3(d,["excludeScrollbar"]);return t.prototype&&t.prototype.isReactComponent?f.ref=this.getRef:f.wrappedRef=this.getRef,f.disableOnClickOutside=this.disableOnClickOutside,f.enableOnClickOutside=this.enableOnClickOutside,R.createElement(t,f)},a}(R.Component),n.displayName="OnClickOutside("+i+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:e&&e.excludeScrollbar||!1,outsideClickIgnoreClass:Z3,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return t.getClass?t.getClass():t},r}var zx=R.createContext(),Wx=R.createContext();function G3(t){var e=t.children,n=R.useState(null),r=n[0],i=n[1],o=R.useRef(!1);R.useEffect(function(){return function(){o.current=!0}},[]);var a=R.useCallback(function(u){o.current||i(u)},[]);return R.createElement(zx.Provider,{value:r},R.createElement(Wx.Provider,{value:a},e))}var Hx=function(e){return Array.isArray(e)?e[0]:e},Yx=function(e){if(typeof e=="function"){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.apply(void 0,r)}},Pv=function(e,n){if(typeof e=="function")return Yx(e,n);e!=null&&(e.current=n)},t1=function(e){return e.reduce(function(n,r){var i=r[0],o=r[1];return n[i]=o,n},{})},n1=typeof window<"u"&&window.document&&window.document.createElement?R.useLayoutEffect:R.useEffect,In="top",er="bottom",tr="right",kn="left",qy="auto",yc=[In,er,tr,kn],Ta="start",ju="end",Q3="clippingParents",qx="viewport",Pl="popper",X3="reference",r1=yc.reduce(function(t,e){return t.concat([e+"-"+Ta,e+"-"+ju])},[]),Kx=[].concat(yc,[qy]).reduce(function(t,e){return t.concat([e,e+"-"+Ta,e+"-"+ju])},[]),J3="beforeRead",e9="read",t9="afterRead",n9="beforeMain",r9="main",i9="afterMain",o9="beforeWrite",s9="write",a9="afterWrite",l9=[J3,e9,t9,n9,r9,i9,o9,s9,a9];function $r(t){return t?(t.nodeName||"").toLowerCase():null}function Fn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Qo(t){var e=Fn(t).Element;return t instanceof e||t instanceof Element}function Gn(t){var e=Fn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Ky(t){if(typeof ShadowRoot>"u")return!1;var e=Fn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function u9(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Gn(o)||!$r(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var u=i[a];u===!1?o.removeAttribute(a):o.setAttribute(a,u===!0?"":u)}))})}function c9(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),u=a.reduce(function(c,d){return c[d]="",c},{});!Gn(i)||!$r(i)||(Object.assign(i.style,u),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}const h9={name:"applyStyles",enabled:!0,phase:"write",fn:u9,effect:c9,requires:["computeStyles"]};function Fr(t){return t.split("-")[0]}var Lo=Math.max,Kd=Math.min,Pa=Math.round;function Sv(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Zx(){return!/^((?!chrome|android).)*safari/i.test(Sv())}function Sa(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&Gn(t)&&(i=t.offsetWidth>0&&Pa(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Pa(r.height)/t.offsetHeight||1);var a=Qo(t)?Fn(t):window,u=a.visualViewport,c=!Zx()&&n,d=(r.left+(c&&u?u.offsetLeft:0))/i,f=(r.top+(c&&u?u.offsetTop:0))/o,m=r.width/i,v=r.height/o;return{width:m,height:v,top:f,right:d+m,bottom:f+v,left:d,x:d,y:f}}function Zy(t){var e=Sa(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Gx(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Ky(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function di(t){return Fn(t).getComputedStyle(t)}function d9(t){return["table","td","th"].indexOf($r(t))>=0}function ho(t){return((Qo(t)?t.ownerDocument:t.document)||window.document).documentElement}function ep(t){return $r(t)==="html"?t:t.assignedSlot||t.parentNode||(Ky(t)?t.host:null)||ho(t)}function i1(t){return!Gn(t)||di(t).position==="fixed"?null:t.offsetParent}function f9(t){var e=/firefox/i.test(Sv()),n=/Trident/i.test(Sv());if(n&&Gn(t)){var r=di(t);if(r.position==="fixed")return null}var i=ep(t);for(Ky(i)&&(i=i.host);Gn(i)&&["html","body"].indexOf($r(i))<0;){var o=di(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function wc(t){for(var e=Fn(t),n=i1(t);n&&d9(n)&&di(n).position==="static";)n=i1(n);return n&&($r(n)==="html"||$r(n)==="body"&&di(n).position==="static")?e:n||f9(t)||e}function Gy(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function tu(t,e,n){return Lo(t,Kd(e,n))}function p9(t,e,n){var r=tu(t,e,n);return r>n?n:r}function Qx(){return{top:0,right:0,bottom:0,left:0}}function Xx(t){return Object.assign({},Qx(),t)}function Jx(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var m9=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Xx(typeof e!="number"?e:Jx(e,yc))};function g9(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,u=Fr(n.placement),c=Gy(u),d=[kn,tr].indexOf(u)>=0,f=d?"height":"width";if(!(!o||!a)){var m=m9(i.padding,n),v=Zy(o),y=c==="y"?In:kn,E=c==="y"?er:tr,P=n.rects.reference[f]+n.rects.reference[c]-a[c]-n.rects.popper[f],x=a[c]-n.rects.reference[c],T=wc(o),w=T?c==="y"?T.clientHeight||0:T.clientWidth||0:0,S=P/2-x/2,D=m[y],O=w-v[f]-m[E],V=w/2-v[f]/2+S,F=tu(D,V,O),H=c;n.modifiersData[r]=(e={},e[H]=F,e.centerOffset=F-V,e)}}function v9(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Gx(e.elements.popper,i)&&(e.elements.arrow=i))}const _9={name:"arrow",enabled:!0,phase:"main",fn:g9,effect:v9,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ca(t){return t.split("-")[1]}var y9={top:"auto",right:"auto",bottom:"auto",left:"auto"};function w9(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Pa(n*i)/i||0,y:Pa(r*i)/i||0}}function o1(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,u=t.position,c=t.gpuAcceleration,d=t.adaptive,f=t.roundOffsets,m=t.isFixed,v=a.x,y=v===void 0?0:v,E=a.y,P=E===void 0?0:E,x=typeof f=="function"?f({x:y,y:P}):{x:y,y:P};y=x.x,P=x.y;var T=a.hasOwnProperty("x"),w=a.hasOwnProperty("y"),S=kn,D=In,O=window;if(d){var V=wc(n),F="clientHeight",H="clientWidth";if(V===Fn(n)&&(V=ho(n),di(V).position!=="static"&&u==="absolute"&&(F="scrollHeight",H="scrollWidth")),V=V,i===In||(i===kn||i===tr)&&o===ju){D=er;var te=m&&V===O&&O.visualViewport?O.visualViewport.height:V[F];P-=te-r.height,P*=c?1:-1}if(i===kn||(i===In||i===er)&&o===ju){S=tr;var K=m&&V===O&&O.visualViewport?O.visualViewport.width:V[H];y-=K-r.width,y*=c?1:-1}}var le=Object.assign({position:u},d&&y9),Se=f===!0?w9({x:y,y:P},Fn(n)):{x:y,y:P};if(y=Se.x,P=Se.y,c){var Be;return Object.assign({},le,(Be={},Be[D]=w?"0":"",Be[S]=T?"0":"",Be.transform=(O.devicePixelRatio||1)<=1?"translate("+y+"px, "+P+"px)":"translate3d("+y+"px, "+P+"px, 0)",Be))}return Object.assign({},le,(e={},e[D]=w?P+"px":"",e[S]=T?y+"px":"",e.transform="",e))}function E9(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,u=n.roundOffsets,c=u===void 0?!0:u,d={placement:Fr(e.placement),variation:Ca(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,o1(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,o1(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const T9={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:E9,data:{}};var mh={passive:!0};function P9(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,u=a===void 0?!0:a,c=Fn(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&d.forEach(function(f){f.addEventListener("scroll",n.update,mh)}),u&&c.addEventListener("resize",n.update,mh),function(){o&&d.forEach(function(f){f.removeEventListener("scroll",n.update,mh)}),u&&c.removeEventListener("resize",n.update,mh)}}const S9={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:P9,data:{}};var C9={left:"right",right:"left",bottom:"top",top:"bottom"};function Fh(t){return t.replace(/left|right|bottom|top/g,function(e){return C9[e]})}var I9={start:"end",end:"start"};function s1(t){return t.replace(/start|end/g,function(e){return I9[e]})}function Qy(t){var e=Fn(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Xy(t){return Sa(ho(t)).left+Qy(t).scrollLeft}function k9(t,e){var n=Fn(t),r=ho(t),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,u=0,c=0;if(i){o=i.width,a=i.height;var d=Zx();(d||!d&&e==="fixed")&&(u=i.offsetLeft,c=i.offsetTop)}return{width:o,height:a,x:u+Xy(t),y:c}}function x9(t){var e,n=ho(t),r=Qy(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Lo(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Lo(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+Xy(t),c=-r.scrollTop;return di(i||n).direction==="rtl"&&(u+=Lo(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:u,y:c}}function Jy(t){var e=di(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function eD(t){return["html","body","#document"].indexOf($r(t))>=0?t.ownerDocument.body:Gn(t)&&Jy(t)?t:eD(ep(t))}function nu(t,e){var n;e===void 0&&(e=[]);var r=eD(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Fn(r),a=i?[o].concat(o.visualViewport||[],Jy(r)?r:[]):r,u=e.concat(a);return i?u:u.concat(nu(ep(a)))}function Cv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function D9(t,e){var n=Sa(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function a1(t,e,n){return e===qx?Cv(k9(t,n)):Qo(e)?D9(e,n):Cv(x9(ho(t)))}function A9(t){var e=nu(ep(t)),n=["absolute","fixed"].indexOf(di(t).position)>=0,r=n&&Gn(t)?wc(t):t;return Qo(r)?e.filter(function(i){return Qo(i)&&Gx(i,r)&&$r(i)!=="body"}):[]}function R9(t,e,n,r){var i=e==="clippingParents"?A9(t):[].concat(e),o=[].concat(i,[n]),a=o[0],u=o.reduce(function(c,d){var f=a1(t,d,r);return c.top=Lo(f.top,c.top),c.right=Kd(f.right,c.right),c.bottom=Kd(f.bottom,c.bottom),c.left=Lo(f.left,c.left),c},a1(t,a,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function tD(t){var e=t.reference,n=t.element,r=t.placement,i=r?Fr(r):null,o=r?Ca(r):null,a=e.x+e.width/2-n.width/2,u=e.y+e.height/2-n.height/2,c;switch(i){case In:c={x:a,y:e.y-n.height};break;case er:c={x:a,y:e.y+e.height};break;case tr:c={x:e.x+e.width,y:u};break;case kn:c={x:e.x-n.width,y:u};break;default:c={x:e.x,y:e.y}}var d=i?Gy(i):null;if(d!=null){var f=d==="y"?"height":"width";switch(o){case Ta:c[d]=c[d]-(e[f]/2-n[f]/2);break;case ju:c[d]=c[d]+(e[f]/2-n[f]/2);break}}return c}function zu(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,a=o===void 0?t.strategy:o,u=n.boundary,c=u===void 0?Q3:u,d=n.rootBoundary,f=d===void 0?qx:d,m=n.elementContext,v=m===void 0?Pl:m,y=n.altBoundary,E=y===void 0?!1:y,P=n.padding,x=P===void 0?0:P,T=Xx(typeof x!="number"?x:Jx(x,yc)),w=v===Pl?X3:Pl,S=t.rects.popper,D=t.elements[E?w:v],O=R9(Qo(D)?D:D.contextElement||ho(t.elements.popper),c,f,a),V=Sa(t.elements.reference),F=tD({reference:V,element:S,strategy:"absolute",placement:i}),H=Cv(Object.assign({},S,F)),te=v===Pl?H:V,K={top:O.top-te.top+T.top,bottom:te.bottom-O.bottom+T.bottom,left:O.left-te.left+T.left,right:te.right-O.right+T.right},le=t.modifiersData.offset;if(v===Pl&&le){var Se=le[i];Object.keys(K).forEach(function(Be){var et=[tr,er].indexOf(Be)>=0?1:-1,$e=[In,er].indexOf(Be)>=0?"y":"x";K[Be]+=Se[$e]*et})}return K}function b9(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,u=n.flipVariations,c=n.allowedAutoPlacements,d=c===void 0?Kx:c,f=Ca(r),m=f?u?r1:r1.filter(function(E){return Ca(E)===f}):yc,v=m.filter(function(E){return d.indexOf(E)>=0});v.length===0&&(v=m);var y=v.reduce(function(E,P){return E[P]=zu(t,{placement:P,boundary:i,rootBoundary:o,padding:a})[Fr(P)],E},{});return Object.keys(y).sort(function(E,P){return y[E]-y[P]})}function O9(t){if(Fr(t)===qy)return[];var e=Fh(t);return[s1(t),e,s1(e)]}function M9(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,u=a===void 0?!0:a,c=n.fallbackPlacements,d=n.padding,f=n.boundary,m=n.rootBoundary,v=n.altBoundary,y=n.flipVariations,E=y===void 0?!0:y,P=n.allowedAutoPlacements,x=e.options.placement,T=Fr(x),w=T===x,S=c||(w||!E?[Fh(x)]:O9(x)),D=[x].concat(S).reduce(function(ye,me){return ye.concat(Fr(me)===qy?b9(e,{placement:me,boundary:f,rootBoundary:m,padding:d,flipVariations:E,allowedAutoPlacements:P}):me)},[]),O=e.rects.reference,V=e.rects.popper,F=new Map,H=!0,te=D[0],K=0;K<D.length;K++){var le=D[K],Se=Fr(le),Be=Ca(le)===Ta,et=[In,er].indexOf(Se)>=0,$e=et?"width":"height",de=zu(e,{placement:le,boundary:f,rootBoundary:m,altBoundary:v,padding:d}),je=et?Be?tr:kn:Be?er:In;O[$e]>V[$e]&&(je=Fh(je));var U=Fh(je),re=[];if(o&&re.push(de[Se]<=0),u&&re.push(de[je]<=0,de[U]<=0),re.every(function(ye){return ye})){te=le,H=!1;break}F.set(le,re)}if(H)for(var W=E?3:1,oe=function(me){var ae=D.find(function(tt){var ke=F.get(tt);if(ke)return ke.slice(0,me).every(function(Oe){return Oe})});if(ae)return te=ae,"break"},fe=W;fe>0;fe--){var qe=oe(fe);if(qe==="break")break}e.placement!==te&&(e.modifiersData[r]._skip=!0,e.placement=te,e.reset=!0)}}const L9={name:"flip",enabled:!0,phase:"main",fn:M9,requiresIfExists:["offset"],data:{_skip:!1}};function l1(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function u1(t){return[In,tr,er,kn].some(function(e){return t[e]>=0})}function N9(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=zu(e,{elementContext:"reference"}),u=zu(e,{altBoundary:!0}),c=l1(a,r),d=l1(u,i,o),f=u1(c),m=u1(d);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:f,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":m})}const V9={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:N9};function F9(t,e,n){var r=Fr(t),i=[kn,In].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],u=o[1];return a=a||0,u=(u||0)*i,[kn,tr].indexOf(r)>=0?{x:u,y:a}:{x:a,y:u}}function U9(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,a=Kx.reduce(function(f,m){return f[m]=F9(m,e.rects,o),f},{}),u=a[e.placement],c=u.x,d=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=d),e.modifiersData[r]=a}const B9={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:U9};function $9(t){var e=t.state,n=t.name;e.modifiersData[n]=tD({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const j9={name:"popperOffsets",enabled:!0,phase:"read",fn:$9,data:{}};function z9(t){return t==="x"?"y":"x"}function W9(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,u=a===void 0?!1:a,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,m=n.padding,v=n.tether,y=v===void 0?!0:v,E=n.tetherOffset,P=E===void 0?0:E,x=zu(e,{boundary:c,rootBoundary:d,padding:m,altBoundary:f}),T=Fr(e.placement),w=Ca(e.placement),S=!w,D=Gy(T),O=z9(D),V=e.modifiersData.popperOffsets,F=e.rects.reference,H=e.rects.popper,te=typeof P=="function"?P(Object.assign({},e.rects,{placement:e.placement})):P,K=typeof te=="number"?{mainAxis:te,altAxis:te}:Object.assign({mainAxis:0,altAxis:0},te),le=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Se={x:0,y:0};if(V){if(o){var Be,et=D==="y"?In:kn,$e=D==="y"?er:tr,de=D==="y"?"height":"width",je=V[D],U=je+x[et],re=je-x[$e],W=y?-H[de]/2:0,oe=w===Ta?F[de]:H[de],fe=w===Ta?-H[de]:-F[de],qe=e.elements.arrow,ye=y&&qe?Zy(qe):{width:0,height:0},me=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Qx(),ae=me[et],tt=me[$e],ke=tu(0,F[de],ye[de]),Oe=S?F[de]/2-W-ke-ae-K.mainAxis:oe-ke-ae-K.mainAxis,xt=S?-F[de]/2+W+ke+tt+K.mainAxis:fe+ke+tt+K.mainAxis,$n=e.elements.arrow&&wc(e.elements.arrow),mr=$n?D==="y"?$n.clientTop||0:$n.clientLeft||0:0,zr=(Be=le==null?void 0:le[D])!=null?Be:0,fo=je+Oe-zr-mr,po=je+xt-zr,za=tu(y?Kd(U,fo):U,je,y?Lo(re,po):re);V[D]=za,Se[D]=za-je}if(u){var us,cs=D==="x"?In:kn,rp=D==="x"?er:tr,gr=V[O],mi=O==="y"?"height":"width",Wa=gr+x[cs],Ha=gr-x[rp],Ya=[In,kn].indexOf(T)!==-1,Ec=(us=le==null?void 0:le[O])!=null?us:0,hs=Ya?Wa:gr-F[mi]-H[mi]-Ec+K.altAxis,qa=Ya?gr+F[mi]+H[mi]-Ec-K.altAxis:Ha,Ka=y&&Ya?p9(hs,gr,qa):tu(y?hs:Wa,gr,y?qa:Ha);V[O]=Ka,Se[O]=Ka-gr}e.modifiersData[r]=Se}}const H9={name:"preventOverflow",enabled:!0,phase:"main",fn:W9,requiresIfExists:["offset"]};function Y9(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function q9(t){return t===Fn(t)||!Gn(t)?Qy(t):Y9(t)}function K9(t){var e=t.getBoundingClientRect(),n=Pa(e.width)/t.offsetWidth||1,r=Pa(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Z9(t,e,n){n===void 0&&(n=!1);var r=Gn(e),i=Gn(e)&&K9(e),o=ho(e),a=Sa(t,i,n),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&(($r(e)!=="body"||Jy(o))&&(u=q9(e)),Gn(e)?(c=Sa(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=Xy(o))),{x:a.left+u.scrollLeft-c.x,y:a.top+u.scrollTop-c.y,width:a.width,height:a.height}}function G9(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(u){if(!n.has(u)){var c=e.get(u);c&&i(c)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function Q9(t){var e=G9(t);return l9.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function X9(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function J9(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var c1={placement:"bottom",modifiers:[],strategy:"absolute"};function h1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function eW(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?c1:i;return function(u,c,d){d===void 0&&(d=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},c1,o),modifiersData:{},elements:{reference:u,popper:c},attributes:{},styles:{}},m=[],v=!1,y={state:f,setOptions:function(T){var w=typeof T=="function"?T(f.options):T;P(),f.options=Object.assign({},o,f.options,w),f.scrollParents={reference:Qo(u)?nu(u):u.contextElement?nu(u.contextElement):[],popper:nu(c)};var S=Q9(J9([].concat(r,f.options.modifiers)));return f.orderedModifiers=S.filter(function(D){return D.enabled}),E(),y.update()},forceUpdate:function(){if(!v){var T=f.elements,w=T.reference,S=T.popper;if(h1(w,S)){f.rects={reference:Z9(w,wc(S),f.options.strategy==="fixed"),popper:Zy(S)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(K){return f.modifiersData[K.name]=Object.assign({},K.data)});for(var D=0;D<f.orderedModifiers.length;D++){if(f.reset===!0){f.reset=!1,D=-1;continue}var O=f.orderedModifiers[D],V=O.fn,F=O.options,H=F===void 0?{}:F,te=O.name;typeof V=="function"&&(f=V({state:f,options:H,name:te,instance:y})||f)}}}},update:X9(function(){return new Promise(function(x){y.forceUpdate(),x(f)})}),destroy:function(){P(),v=!0}};if(!h1(u,c))return y;y.setOptions(d).then(function(x){!v&&d.onFirstUpdate&&d.onFirstUpdate(x)});function E(){f.orderedModifiers.forEach(function(x){var T=x.name,w=x.options,S=w===void 0?{}:w,D=x.effect;if(typeof D=="function"){var O=D({state:f,name:T,instance:y,options:S}),V=function(){};m.push(O||V)}})}function P(){m.forEach(function(x){return x()}),m=[]}return y}}var tW=[S9,j9,T9,h9,B9,L9,H9,_9,V9],nW=eW({defaultModifiers:tW}),rW=typeof Element<"u",iW=typeof Map=="function",oW=typeof Set=="function",sW=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Uh(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Uh(t[r],e[r]))return!1;return!0}var o;if(iW&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;for(o=t.entries();!(r=o.next()).done;)if(!Uh(r.value[1],e.get(r.value[0])))return!1;return!0}if(oW&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(sW&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(rW&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!Uh(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var aW=function(e,n){try{return Uh(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const lW=Ia(aW);var uW=[],cW=function(e,n,r){r===void 0&&(r={});var i=R.useRef(null),o={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||uW},a=R.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),u=a[0],c=a[1],d=R.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(y){var E=y.state,P=Object.keys(E.elements);Gu.flushSync(function(){c({styles:t1(P.map(function(x){return[x,E.styles[x]||{}]})),attributes:t1(P.map(function(x){return[x,E.attributes[x]]}))})})},requires:["computeStyles"]}},[]),f=R.useMemo(function(){var v={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[d,{name:"applyStyles",enabled:!1}])};return lW(i.current,v)?i.current||v:(i.current=v,v)},[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,d]),m=R.useRef();return n1(function(){m.current&&m.current.setOptions(f)},[f]),n1(function(){if(!(e==null||n==null)){var v=r.createPopper||nW,y=v(e,n,f);return m.current=y,function(){y.destroy(),m.current=null}}},[e,n,r.createPopper]),{state:m.current?m.current.state:null,styles:u.styles,attributes:u.attributes,update:m.current?m.current.update:null,forceUpdate:m.current?m.current.forceUpdate:null}},hW=function(){},dW=function(){return Promise.resolve(null)},fW=[];function pW(t){var e=t.placement,n=e===void 0?"bottom":e,r=t.strategy,i=r===void 0?"absolute":r,o=t.modifiers,a=o===void 0?fW:o,u=t.referenceElement,c=t.onFirstUpdate,d=t.innerRef,f=t.children,m=R.useContext(zx),v=R.useState(null),y=v[0],E=v[1],P=R.useState(null),x=P[0],T=P[1];R.useEffect(function(){Pv(d,y)},[d,y]);var w=R.useMemo(function(){return{placement:n,strategy:i,onFirstUpdate:c,modifiers:[].concat(a,[{name:"arrow",enabled:x!=null,options:{element:x}}])}},[n,i,c,a,x]),S=cW(u||m,y,w),D=S.state,O=S.styles,V=S.forceUpdate,F=S.update,H=R.useMemo(function(){return{ref:E,style:O.popper,placement:D?D.placement:n,hasPopperEscaped:D&&D.modifiersData.hide?D.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:D&&D.modifiersData.hide?D.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:O.arrow,ref:T},forceUpdate:V||hW,update:F||dW}},[E,T,n,D,O,F,V]);return Hx(f)(H)}var mW=function(){},gW=mW;const vW=Ia(gW);function _W(t){var e=t.children,n=t.innerRef,r=R.useContext(Wx),i=R.useCallback(function(o){Pv(n,o),Yx(r,o)},[n,r]);return R.useEffect(function(){return function(){return Pv(n,null)}},[]),R.useEffect(function(){vW(!!r,"`Reference` should not be used outside of a `Manager` component.")},[r]),Hx(e)({ref:i})}function yW(t,e){if(q(2,arguments),Jn(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=J(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=dn(n,e.month)),e.date!=null&&n.setDate(Ee(e.date)),e.hours!=null&&n.setHours(Ee(e.hours)),e.minutes!=null&&n.setMinutes(Ee(e.minutes)),e.seconds!=null&&n.setSeconds(Ee(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(Ee(e.milliseconds)),n)}function d1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d1(Object(n),!0).forEach(function(r){C(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iv(t){return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(t)}function Vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nD(r.key),r)}}function Ft(t,e,n){return e&&p1(t.prototype,e),n&&p1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function C(t,e,n){return(e=nD(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wu.apply(this,arguments)}function Ut(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kv(t,e)}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zd(t)}function kv(t,e){return kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},kv(t,e)}function I(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bt(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Zd(t);if(e){var i=Zd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(o,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I(o)}(this,n)}}function xv(t){return function(e){if(Array.isArray(e))return Om(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,n){if(e){if(typeof e=="string")return Om(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Om(e,n)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Om(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nD(t){var e=function(n,r){if(typeof n!="object"||n===null)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var o=i.call(n,r||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(t,"string");return typeof e=="symbol"?e:String(e)}var m1=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},g1=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},wW={p:g1,P:function(t,e){var n,r=t.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return m1(t,e);switch(i){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;default:n=e.dateTime({width:"full"})}return n.replace("{{date}}",m1(i,e)).replace("{{time}}",g1(o,e))}},ru=12,EW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Ye(t){var e=t?typeof t=="string"||t instanceof String?S3(t):J(t):new Date;return Pi(e)?e:null}function Pi(t,e){return e=e||new Date("1/1/1000"),Ud(t)&&!ni(t,e)}function vt(t,e,n){if(n==="en")return YT(t,e,{awareOfUnicodeTokens:!0});var r=Qi(n);return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&No()&&Qi(No())&&(r=Qi(No())),YT(t,e,{locale:r||null,awareOfUnicodeTokens:!0})}function Tr(t,e){var n=e.dateFormat,r=e.locale;return t&&vt(t,Array.isArray(n)?n[0]:n,r)||""}function v1(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,o=i===void 0?0:i,a=e.second;return eu(Jl(mz(t,a===void 0?0:a),o),r)}function ew(t,e,n){var r=Qi(e||No());return Mx(t,{locale:r,weekStartsOn:n})}function Gi(t){return Lx(t)}function Ll(t){return Nx(t)}function _1(t){return _v(t)}function y1(){return Vr(Ye())}function Mi(t,e){return t&&e?Pz(t,e):!t&&!e}function lr(t,e){return t&&e?Tz(t,e):!t&&!e}function Gd(t,e){return t&&e?Sz(t,e):!t&&!e}function fn(t,e){return t&&e?Ez(t,e):!t&&!e}function Li(t,e){return t&&e?wz(t,e):!t&&!e}function Bh(t,e,n){var r,i=Vr(e),o=yv(n);try{r=$u(t,{start:i,end:o})}catch{r=!1}return r}function No(){return(typeof window<"u"?window:globalThis).__localeId__}function Qi(t){if(typeof t=="string"){var e=typeof window<"u"?window:globalThis;return e.__localeData__?e.__localeData__[t]:null}return t}function tw(t,e){return vt(dn(Ye(),t),"LLLL",e)}function rD(t,e){return vt(dn(Ye(),t),"LLL",e)}function tp(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,i=e.excludeDates,o=e.excludeDateIntervals,a=e.includeDates,u=e.includeDateIntervals,c=e.filterDate;return np(t,{minDate:n,maxDate:r})||i&&i.some(function(d){return fn(t,d)})||o&&o.some(function(d){var f=d.start,m=d.end;return $u(t,{start:f,end:m})})||a&&!a.some(function(d){return fn(t,d)})||u&&!u.some(function(d){var f=d.start,m=d.end;return $u(t,{start:f,end:m})})||c&&!c(Ye(t))||!1}function nw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.excludeDates,r=e.excludeDateIntervals;return r&&r.length>0?r.some(function(i){var o=i.start,a=i.end;return $u(t,{start:o,end:a})}):n&&n.some(function(i){return fn(t,i)})||!1}function iD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,i=e.excludeDates,o=e.includeDates,a=e.filterDate;return np(t,{minDate:Lx(n),maxDate:_z(r)})||i&&i.some(function(u){return lr(t,u)})||o&&!o.some(function(u){return lr(t,u)})||a&&!a(Ye(t))||!1}function Mm(t,e,n,r){var i=Pe(t),o=nn(t),a=Pe(e),u=nn(e),c=Pe(r);return i===a&&i===c?o<=n&&n<=u:i<a?c===i&&o<=n||c===a&&u>=n||c<a&&c>i:void 0}function TW(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,i=e.excludeDates,o=e.includeDates,a=e.filterDate;return np(t,{minDate:n,maxDate:r})||i&&i.some(function(u){return Gd(t,u)})||o&&!o.some(function(u){return Gd(t,u)})||a&&!a(Ye(t))||!1}function Lm(t,e,n){if(!Ud(e)||!Ud(n))return!1;var r=Pe(e),i=Pe(n);return r<=t&&i>=t}function oD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,i=e.excludeDates,o=e.includeDates,a=e.filterDate,u=new Date(t,0,1);return np(u,{minDate:Nx(n),maxDate:yz(r)})||i&&i.some(function(c){return Mi(u,c)})||o&&!o.some(function(c){return Mi(u,c)})||a&&!a(Ye(u))||!1}function Nm(t,e,n,r){var i=Pe(t),o=zs(t),a=Pe(e),u=zs(e),c=Pe(r);return i===a&&i===c?o<=n&&n<=u:i<a?c===i&&o<=n||c===a&&u>=n||c<a&&c>i:void 0}function np(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate;return n&&zd(t,n)<0||r&&zd(t,r)>0}function w1(t,e){return e.some(function(n){return On(n)===On(t)&&bn(n)===bn(t)})}function E1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.excludeTimes,r=e.includeTimes,i=e.filterTime;return n&&w1(t,n)||r&&!w1(t,r)||i&&!i(t)||!1}function T1(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i,o=Ye(),a=eu(Jl(o,bn(t)),On(t)),u=eu(Jl(o,bn(n)),On(n)),c=eu(Jl(o,bn(r)),On(r));try{i=!$u(a,{start:u,end:c})}catch{i=!1}return i}function P1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.includeDates,i=Ea(t,1);return n&&Wd(n,i)>0||r&&r.every(function(o){return Wd(o,i)>0})||!1}function S1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.includeDates,i=pr(t,1);return n&&Wd(i,n)>0||r&&r.every(function(o){return Wd(i,o)>0})||!1}function C1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.includeDates,i=Bu(t,1);return n&&Hd(n,i)>0||r&&r.every(function(o){return Hd(o,i)>0})||!1}function I1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.includeDates,i=wa(t,1);return n&&Hd(i,n)>0||r&&r.every(function(o){return Hd(i,o)>0})||!1}function sD(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return zd(i,e)>=0});return KT(r)}return n?KT(n):e}function aD(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return zd(i,e)<=0});return ZT(r)}return n?ZT(n):e}function k1(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--highlighted",n=new Map,r=0,i=t.length;r<i;r++){var o=t[r];if(Uy(o)){var a=vt(o,"MM.dd.yyyy"),u=n.get(a)||[];u.includes(e)||(u.push(e),n.set(a,u))}else if(Iv(o)==="object"){var c=Object.keys(o),d=c[0],f=o[c[0]];if(typeof d=="string"&&f.constructor===Array)for(var m=0,v=f.length;m<v;m++){var y=vt(f[m],"MM.dd.yyyy"),E=n.get(y)||[];E.includes(d)||(E.push(d),n.set(y,E))}}}return n}function PW(t,e,n,r,i){for(var o=i.length,a=[],u=0;u<o;u++){var c=gv(sz(t,On(i[u])),bn(i[u])),d=gv(t,(n+1)*r);ro(c,e)&&ni(c,d)&&a.push(i[u])}return a}function x1(t){return t<10?"0".concat(t):"".concat(t)}function Ws(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ru,n=Math.ceil(Pe(t)/e)*e;return{startPeriod:n-(e-1),endPeriod:n}}function SW(t,e,n,r){for(var i=[],o=0;o<2*e+1;o++){var a=t+e-o,u=!0;n&&(u=Pe(n)<=a),r&&u&&(u=Pe(r)>=a),u&&i.push(a)}return i}var CW=Jf(function(t){Ut(n,M.Component);var e=Bt(n);function n(r){var i;Vt(this,n),C(I(i=e.call(this,r)),"renderOptions",function(){var c=i.props.year,d=i.state.yearsList.map(function(v){return M.createElement("div",{className:c===v?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:v,onClick:i.onChange.bind(I(i),v),"aria-selected":c===v?"true":void 0},c===v?M.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",v)}),f=i.props.minDate?Pe(i.props.minDate):null,m=i.props.maxDate?Pe(i.props.maxDate):null;return m&&i.state.yearsList.find(function(v){return v===m})||d.unshift(M.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:i.incrementYears},M.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),f&&i.state.yearsList.find(function(v){return v===f})||d.push(M.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:i.decrementYears},M.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),d}),C(I(i),"onChange",function(c){i.props.onChange(c)}),C(I(i),"handleClickOutside",function(){i.props.onCancel()}),C(I(i),"shiftYears",function(c){var d=i.state.yearsList.map(function(f){return f+c});i.setState({yearsList:d})}),C(I(i),"incrementYears",function(){return i.shiftYears(1)}),C(I(i),"decrementYears",function(){return i.shiftYears(-1)});var o=r.yearDropdownItemNumber,a=r.scrollableYearDropdown,u=o||(a?10:5);return i.state={yearsList:SW(i.props.year,u,i.props.minDate,i.props.maxDate)},i.dropdownRef=R.createRef(),i}return Ft(n,[{key:"componentDidMount",value:function(){var r=this.dropdownRef.current;if(r){var i=r.children?Array.from(r.children):null,o=i?i.find(function(a){return a.ariaSelected}):null;r.scrollTop=o?o.offsetTop+(o.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}}},{key:"render",value:function(){var r=gn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return M.createElement("div",{className:r,ref:this.dropdownRef},this.renderOptions())}}]),n}()),IW=function(t){Ut(n,M.Component);var e=Bt(n);function n(){var r;Vt(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return C(I(r=e.call.apply(e,[this].concat(o))),"state",{dropdownVisible:!1}),C(I(r),"renderSelectOptions",function(){for(var u=r.props.minDate?Pe(r.props.minDate):1900,c=r.props.maxDate?Pe(r.props.maxDate):2100,d=[],f=u;f<=c;f++)d.push(M.createElement("option",{key:f,value:f},f));return d}),C(I(r),"onSelectChange",function(u){r.onChange(u.target.value)}),C(I(r),"renderSelectMode",function(){return M.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())}),C(I(r),"renderReadView",function(u){return M.createElement("div",{key:"read",style:{visibility:u?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(c){return r.toggleDropdown(c)}},M.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),M.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))}),C(I(r),"renderDropdown",function(){return M.createElement(CW,{key:"dropdown",year:r.props.year,onChange:r.onChange,onCancel:r.toggleDropdown,minDate:r.props.minDate,maxDate:r.props.maxDate,scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})}),C(I(r),"renderScrollMode",function(){var u=r.state.dropdownVisible,c=[r.renderReadView(!u)];return u&&c.unshift(r.renderDropdown()),c}),C(I(r),"onChange",function(u){r.toggleDropdown(),u!==r.props.year&&r.props.onChange(u)}),C(I(r),"toggleDropdown",function(u){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,u)})}),C(I(r),"handleYearChange",function(u,c){r.onSelect(u,c),r.setOpen()}),C(I(r),"onSelect",function(u,c){r.props.onSelect&&r.props.onSelect(u,c)}),C(I(r),"setOpen",function(){r.props.setOpen&&r.props.setOpen(!0)}),r}return Ft(n,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode()}return M.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)}}]),n}(),kW=Jf(function(t){Ut(n,M.Component);var e=Bt(n);function n(){var r;Vt(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return C(I(r=e.call.apply(e,[this].concat(o))),"isSelectedMonth",function(u){return r.props.month===u}),C(I(r),"renderOptions",function(){return r.props.monthNames.map(function(u,c){return M.createElement("div",{className:r.isSelectedMonth(c)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:u,onClick:r.onChange.bind(I(r),c),"aria-selected":r.isSelectedMonth(c)?"true":void 0},r.isSelectedMonth(c)?M.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",u)})}),C(I(r),"onChange",function(u){return r.props.onChange(u)}),C(I(r),"handleClickOutside",function(){return r.props.onCancel()}),r}return Ft(n,[{key:"render",value:function(){return M.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}]),n}()),xW=function(t){Ut(n,M.Component);var e=Bt(n);function n(){var r;Vt(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return C(I(r=e.call.apply(e,[this].concat(o))),"state",{dropdownVisible:!1}),C(I(r),"renderSelectOptions",function(u){return u.map(function(c,d){return M.createElement("option",{key:d,value:d},c)})}),C(I(r),"renderSelectMode",function(u){return M.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(c){return r.onChange(c.target.value)}},r.renderSelectOptions(u))}),C(I(r),"renderReadView",function(u,c){return M.createElement("div",{key:"read",style:{visibility:u?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},M.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),M.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},c[r.props.month]))}),C(I(r),"renderDropdown",function(u){return M.createElement(kW,{key:"dropdown",month:r.props.month,monthNames:u,onChange:r.onChange,onCancel:r.toggleDropdown})}),C(I(r),"renderScrollMode",function(u){var c=r.state.dropdownVisible,d=[r.renderReadView(!c,u)];return c&&d.unshift(r.renderDropdown(u)),d}),C(I(r),"onChange",function(u){r.toggleDropdown(),u!==r.props.month&&r.props.onChange(u)}),C(I(r),"toggleDropdown",function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})}),r}return Ft(n,[{key:"render",value:function(){var r,i=this,o=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return rD(a,i.props.locale)}:function(a){return tw(a,i.props.locale)});switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode(o);break;case"select":r=this.renderSelectMode(o)}return M.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},r)}}]),n}();function DW(t,e){for(var n=[],r=Gi(t),i=Gi(e);!ro(r,i);)n.push(Ye(r)),r=pr(r,1);return n}var gh,AW=Jf(function(t){Ut(n,M.Component);var e=Bt(n);function n(r){var i;return Vt(this,n),C(I(i=e.call(this,r)),"renderOptions",function(){return i.state.monthYearsList.map(function(o){var a=vv(o),u=Mi(i.props.date,o)&&lr(i.props.date,o);return M.createElement("div",{className:u?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:i.onChange.bind(I(i),a),"aria-selected":u?"true":void 0},u?M.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",vt(o,i.props.dateFormat,i.props.locale))})}),C(I(i),"onChange",function(o){return i.props.onChange(o)}),C(I(i),"handleClickOutside",function(){i.props.onCancel()}),i.state={monthYearsList:DW(i.props.minDate,i.props.maxDate)},i}return Ft(n,[{key:"render",value:function(){var r=gn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return M.createElement("div",{className:r},this.renderOptions())}}]),n}()),RW=function(t){Ut(n,M.Component);var e=Bt(n);function n(){var r;Vt(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return C(I(r=e.call.apply(e,[this].concat(o))),"state",{dropdownVisible:!1}),C(I(r),"renderSelectOptions",function(){for(var u=Gi(r.props.minDate),c=Gi(r.props.maxDate),d=[];!ro(u,c);){var f=vv(u);d.push(M.createElement("option",{key:f,value:f},vt(u,r.props.dateFormat,r.props.locale))),u=pr(u,1)}return d}),C(I(r),"onSelectChange",function(u){r.onChange(u.target.value)}),C(I(r),"renderSelectMode",function(){return M.createElement("select",{value:vv(Gi(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())}),C(I(r),"renderReadView",function(u){var c=vt(r.props.date,r.props.dateFormat,r.props.locale);return M.createElement("div",{key:"read",style:{visibility:u?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(d){return r.toggleDropdown(d)}},M.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),M.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},c))}),C(I(r),"renderDropdown",function(){return M.createElement(AW,{key:"dropdown",date:r.props.date,dateFormat:r.props.dateFormat,onChange:r.onChange,onCancel:r.toggleDropdown,minDate:r.props.minDate,maxDate:r.props.maxDate,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,locale:r.props.locale})}),C(I(r),"renderScrollMode",function(){var u=r.state.dropdownVisible,c=[r.renderReadView(!u)];return u&&c.unshift(r.renderDropdown()),c}),C(I(r),"onChange",function(u){r.toggleDropdown();var c=Ye(parseInt(u));Mi(r.props.date,c)&&lr(r.props.date,c)||r.props.onChange(c)}),C(I(r),"toggleDropdown",function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})}),r}return Ft(n,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode()}return M.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)}}]),n}(),bW=function(t){Ut(n,M.Component);var e=Bt(n);function n(){var r;Vt(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return C(I(r=e.call.apply(e,[this].concat(o))),"dayEl",M.createRef()),C(I(r),"handleClick",function(u){!r.isDisabled()&&r.props.onClick&&r.props.onClick(u)}),C(I(r),"handleMouseEnter",function(u){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(u)}),C(I(r),"handleOnKeyDown",function(u){u.key===" "&&(u.preventDefault(),u.key="Enter"),r.props.handleOnKeyDown(u)}),C(I(r),"isSameDay",function(u){return fn(r.props.day,u)}),C(I(r),"isKeyboardSelected",function(){return!r.props.disabledKeyboardNavigation&&!r.isSameDay(r.props.selected)&&r.isSameDay(r.props.preSelection)}),C(I(r),"isDisabled",function(){return tp(r.props.day,r.props)}),C(I(r),"isExcluded",function(){return nw(r.props.day,r.props)}),C(I(r),"getHighLightedClass",function(){var u=r.props,c=u.day,d=u.highlightDates;if(!d)return!1;var f=vt(c,"MM.dd.yyyy");return d.get(f)}),C(I(r),"isInRange",function(){var u=r.props,c=u.day,d=u.startDate,f=u.endDate;return!(!d||!f)&&Bh(c,d,f)}),C(I(r),"isInSelectingRange",function(){var u,c=r.props,d=c.day,f=c.selectsStart,m=c.selectsEnd,v=c.selectsRange,y=c.selectsDisabledDaysInRange,E=c.startDate,P=c.endDate,x=(u=r.props.selectingDate)!==null&&u!==void 0?u:r.props.preSelection;return!(!(f||m||v)||!x||!y&&r.isDisabled())&&(f&&P&&(ni(x,P)||Li(x,P))?Bh(d,x,P):(m&&E&&(ro(x,E)||Li(x,E))||!(!v||!E||P||!ro(x,E)&&!Li(x,E)))&&Bh(d,E,x))}),C(I(r),"isSelectingRangeStart",function(){var u;if(!r.isInSelectingRange())return!1;var c=r.props,d=c.day,f=c.startDate,m=c.selectsStart,v=(u=r.props.selectingDate)!==null&&u!==void 0?u:r.props.preSelection;return fn(d,m?v:f)}),C(I(r),"isSelectingRangeEnd",function(){var u;if(!r.isInSelectingRange())return!1;var c=r.props,d=c.day,f=c.endDate,m=c.selectsEnd,v=c.selectsRange,y=(u=r.props.selectingDate)!==null&&u!==void 0?u:r.props.preSelection;return fn(d,m||v?y:f)}),C(I(r),"isRangeStart",function(){var u=r.props,c=u.day,d=u.startDate,f=u.endDate;return!(!d||!f)&&fn(d,c)}),C(I(r),"isRangeEnd",function(){var u=r.props,c=u.day,d=u.startDate,f=u.endDate;return!(!d||!f)&&fn(f,c)}),C(I(r),"isWeekend",function(){var u=cz(r.props.day);return u===0||u===6}),C(I(r),"isAfterMonth",function(){return r.props.month!==void 0&&(r.props.month+1)%12===nn(r.props.day)}),C(I(r),"isBeforeMonth",function(){return r.props.month!==void 0&&(nn(r.props.day)+1)%12===r.props.month}),C(I(r),"isCurrentDay",function(){return r.isSameDay(Ye())}),C(I(r),"isSelected",function(){return r.isSameDay(r.props.selected)}),C(I(r),"getClassNames",function(u){var c,d=r.props.dayClassName?r.props.dayClassName(u):void 0;return gn("react-datepicker__day",d,"react-datepicker__day--"+vt(r.props.day,"ddd",c),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass("react-datepicker__day--highlighted"))}),C(I(r),"getAriaLabel",function(){var u=r.props,c=u.day,d=u.ariaLabelPrefixWhenEnabled,f=d===void 0?"Choose":d,m=u.ariaLabelPrefixWhenDisabled,v=m===void 0?"Not available":m,y=r.isDisabled()||r.isExcluded()?v:f;return"".concat(y," ").concat(vt(c,"PPPP",r.props.locale))}),C(I(r),"getTabIndex",function(u,c){var d=u||r.props.selected,f=c||r.props.preSelection;return r.isKeyboardSelected()||r.isSameDay(d)&&fn(f,d)?0:-1}),C(I(r),"handleFocusDay",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=!1;r.getTabIndex()===0&&!u.isInputFocused&&r.isSameDay(r.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(c=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(c=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(c=!0),r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()&&(c=!1),r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()&&(c=!1)),c&&r.dayEl.current.focus({preventScroll:!0})}),C(I(r),"renderDayContents",function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(qT(r.props.day),r.props.day):qT(r.props.day)}),C(I(r),"render",function(){return M.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.handleMouseEnter,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"option","aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents())}),r}return Ft(n,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(r){this.handleFocusDay(r)}}]),n}(),OW=function(t){Ut(n,M.Component);var e=Bt(n);function n(){var r;Vt(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return C(I(r=e.call.apply(e,[this].concat(o))),"handleClick",function(u){r.props.onClick&&r.props.onClick(u)}),r}return Ft(n,[{key:"render",value:function(){var r=this.props,i=r.weekNumber,o=r.ariaLabelPrefix,a=o===void 0?"week ":o,u={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!r.onClick};return M.createElement("div",{className:gn(u),"aria-label":"".concat(a," ").concat(this.props.weekNumber),onClick:this.handleClick},i)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}]),n}(),MW=function(t){Ut(n,M.Component);var e=Bt(n);function n(){var r;Vt(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return C(I(r=e.call.apply(e,[this].concat(o))),"handleDayClick",function(u,c){r.props.onDayClick&&r.props.onDayClick(u,c)}),C(I(r),"handleDayMouseEnter",function(u){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(u)}),C(I(r),"handleWeekClick",function(u,c,d){typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(u,c,d),r.props.shouldCloseOnSelect&&r.props.setOpen(!1)}),C(I(r),"formatWeekNumber",function(u){return r.props.formatWeekNumber?r.props.formatWeekNumber(u):function(c,d){var f=d&&Qi(d)||No()&&Qi(No());return pz(c,f?{locale:f}:null)}(u)}),C(I(r),"renderDays",function(){var u=ew(r.props.day,r.props.locale,r.props.calendarStartDay),c=[],d=r.formatWeekNumber(u);if(r.props.showWeekNumber){var f=r.props.onWeekSelect?r.handleWeekClick.bind(I(r),u,d):void 0;c.push(M.createElement(OW,{key:"W",weekNumber:d,onClick:f,ariaLabelPrefix:r.props.ariaLabelPrefix}))}return c.concat([0,1,2,3,4,5,6].map(function(m){var v=ja(u,m);return M.createElement(bW,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:v.valueOf(),day:v,month:r.props.month,onClick:r.handleDayClick.bind(I(r),v),onMouseEnter:r.handleDayMouseEnter.bind(I(r),v),minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,highlightDates:r.props.highlightDates,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,startDate:r.props.startDate,endDate:r.props.endDate,dayClassName:r.props.dayClassName,renderDayContents:r.props.renderDayContents,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,handleOnKeyDown:r.props.handleOnKeyDown,isInputFocused:r.props.isInputFocused,containerRef:r.props.containerRef,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:r.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:r.props.monthShowsDuplicateDaysStart,locale:r.props.locale})}))}),r}return Ft(n,[{key:"render",value:function(){return M.createElement("div",{className:"react-datepicker__week"},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}]),n}(),lD="two_columns",uD="three_columns",cD="four_columns",Vm=(C(gh={},lD,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),C(gh,uD,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),C(gh,cD,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4}),gh);function D1(t,e){return t?cD:e?lD:uD}var LW=function(t){Ut(n,M.Component);var e=Bt(n);function n(){var r;Vt(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return C(I(r=e.call.apply(e,[this].concat(o))),"MONTH_REFS",xv(Array(12)).map(function(){return M.createRef()})),C(I(r),"QUARTER_REFS",xv(Array(4)).map(function(){return M.createRef()})),C(I(r),"isDisabled",function(u){return tp(u,r.props)}),C(I(r),"isExcluded",function(u){return nw(u,r.props)}),C(I(r),"handleDayClick",function(u,c){r.props.onDayClick&&r.props.onDayClick(u,c,r.props.orderInDisplay)}),C(I(r),"handleDayMouseEnter",function(u){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(u)}),C(I(r),"handleMouseLeave",function(){r.props.onMouseLeave&&r.props.onMouseLeave()}),C(I(r),"isRangeStartMonth",function(u){var c=r.props,d=c.day,f=c.startDate,m=c.endDate;return!(!f||!m)&&lr(dn(d,u),f)}),C(I(r),"isRangeStartQuarter",function(u){var c=r.props,d=c.day,f=c.startDate,m=c.endDate;return!(!f||!m)&&Gd(Cs(d,u),f)}),C(I(r),"isRangeEndMonth",function(u){var c=r.props,d=c.day,f=c.startDate,m=c.endDate;return!(!f||!m)&&lr(dn(d,u),m)}),C(I(r),"isRangeEndQuarter",function(u){var c=r.props,d=c.day,f=c.startDate,m=c.endDate;return!(!f||!m)&&Gd(Cs(d,u),m)}),C(I(r),"isInSelectingRangeMonth",function(u){var c,d=r.props,f=d.day,m=d.selectsStart,v=d.selectsEnd,y=d.selectsRange,E=d.startDate,P=d.endDate,x=(c=r.props.selectingDate)!==null&&c!==void 0?c:r.props.preSelection;return!(!(m||v||y)||!x)&&(m&&P?Mm(x,P,u,f):(v&&E||!(!y||!E||P))&&Mm(E,x,u,f))}),C(I(r),"isSelectingMonthRangeStart",function(u){var c;if(!r.isInSelectingRangeMonth(u))return!1;var d=r.props,f=d.day,m=d.startDate,v=d.selectsStart,y=dn(f,u),E=(c=r.props.selectingDate)!==null&&c!==void 0?c:r.props.preSelection;return lr(y,v?E:m)}),C(I(r),"isSelectingMonthRangeEnd",function(u){var c;if(!r.isInSelectingRangeMonth(u))return!1;var d=r.props,f=d.day,m=d.endDate,v=d.selectsEnd,y=d.selectsRange,E=dn(f,u),P=(c=r.props.selectingDate)!==null&&c!==void 0?c:r.props.preSelection;return lr(E,v||y?P:m)}),C(I(r),"isInSelectingRangeQuarter",function(u){var c,d=r.props,f=d.day,m=d.selectsStart,v=d.selectsEnd,y=d.selectsRange,E=d.startDate,P=d.endDate,x=(c=r.props.selectingDate)!==null&&c!==void 0?c:r.props.preSelection;return!(!(m||v||y)||!x)&&(m&&P?Nm(x,P,u,f):(v&&E||!(!y||!E||P))&&Nm(E,x,u,f))}),C(I(r),"isWeekInMonth",function(u){var c=r.props.day,d=ja(u,6);return lr(u,c)||lr(d,c)}),C(I(r),"isCurrentMonth",function(u,c){return Pe(u)===Pe(Ye())&&c===nn(Ye())}),C(I(r),"isCurrentQuarter",function(u,c){return Pe(u)===Pe(Ye())&&c===zs(Ye())}),C(I(r),"isSelectedMonth",function(u,c,d){return nn(d)===c&&Pe(u)===Pe(d)}),C(I(r),"isSelectedQuarter",function(u,c,d){return zs(u)===c&&Pe(u)===Pe(d)}),C(I(r),"renderWeeks",function(){for(var u=[],c=r.props.fixedHeight,d=0,f=!1,m=ew(Gi(r.props.day),r.props.locale,r.props.calendarStartDay);u.push(M.createElement(MW,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,key:d,day:m,month:nn(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,onWeekSelect:r.props.onWeekSelect,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,highlightDates:r.props.highlightDates,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showWeekNumber:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,dayClassName:r.props.dayClassName,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderDayContents:r.props.renderDayContents,handleOnKeyDown:r.props.handleOnKeyDown,isInputFocused:r.props.isInputFocused,containerRef:r.props.containerRef,calendarStartDay:r.props.calendarStartDay,monthShowsDuplicateDaysEnd:r.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:r.props.monthShowsDuplicateDaysStart})),!f;){d++,m=jy(m,1);var v=c&&d>=6,y=!c&&!r.isWeekInMonth(m);if(v||y){if(!r.props.peekNextMonth)break;f=!0}}return u}),C(I(r),"onMonthClick",function(u,c){r.handleDayClick(Gi(dn(r.props.day,c)),u)}),C(I(r),"onMonthMouseEnter",function(u){r.handleDayMouseEnter(Gi(dn(r.props.day,u)))}),C(I(r),"handleMonthNavigation",function(u,c){r.isDisabled(c)||r.isExcluded(c)||(r.props.setPreSelection(c),r.MONTH_REFS[u].current&&r.MONTH_REFS[u].current.focus())}),C(I(r),"onMonthKeyDown",function(u,c){var d=r.props,f=d.selected,m=d.preSelection,v=d.disabledKeyboardNavigation,y=d.showTwoColumnMonthYearPicker,E=d.showFourColumnMonthYearPicker,P=d.setPreSelection,x=u.key;if(x!=="Tab"&&u.preventDefault(),!v){var T=D1(E,y),w=Vm[T].verticalNavigationOffset,S=Vm[T].grid;switch(x){case"Enter":r.onMonthClick(u,c),P(f);break;case"ArrowRight":r.handleMonthNavigation(c===11?0:c+1,pr(m,1));break;case"ArrowLeft":r.handleMonthNavigation(c===0?11:c-1,Ea(m,1));break;case"ArrowUp":r.handleMonthNavigation(S[0].includes(c)?c+12-w:c-w,Ea(m,w));break;case"ArrowDown":r.handleMonthNavigation(S[S.length-1].includes(c)?c-12+w:c+w,pr(m,w))}}}),C(I(r),"onQuarterClick",function(u,c){r.handleDayClick(_1(Cs(r.props.day,c)),u)}),C(I(r),"onQuarterMouseEnter",function(u){r.handleDayMouseEnter(_1(Cs(r.props.day,u)))}),C(I(r),"handleQuarterNavigation",function(u,c){r.isDisabled(c)||r.isExcluded(c)||(r.props.setPreSelection(c),r.QUARTER_REFS[u-1].current&&r.QUARTER_REFS[u-1].current.focus())}),C(I(r),"onQuarterKeyDown",function(u,c){var d=u.key;if(!r.props.disabledKeyboardNavigation)switch(d){case"Enter":r.onQuarterClick(u,c),r.props.setPreSelection(r.props.selected);break;case"ArrowRight":r.handleQuarterNavigation(c===4?1:c+1,Ox(r.props.preSelection,1));break;case"ArrowLeft":r.handleQuarterNavigation(c===1?4:c-1,uz(r.props.preSelection,1))}}),C(I(r),"getMonthClassNames",function(u){var c=r.props,d=c.day,f=c.startDate,m=c.endDate,v=c.selected,y=c.minDate,E=c.maxDate,P=c.preSelection,x=c.monthClassName,T=c.excludeDates,w=c.includeDates,S=x?x(dn(d,u)):void 0,D=dn(d,u);return gn("react-datepicker__month-text","react-datepicker__month-".concat(u),S,{"react-datepicker__month-text--disabled":(y||E||T||w)&&iD(D,r.props),"react-datepicker__month-text--selected":r.isSelectedMonth(d,u,v),"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&nn(P)===u,"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(u),"react-datepicker__month-text--in-range":Mm(f,m,u,d),"react-datepicker__month-text--range-start":r.isRangeStartMonth(u),"react-datepicker__month-text--range-end":r.isRangeEndMonth(u),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(u),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(u),"react-datepicker__month-text--today":r.isCurrentMonth(d,u)})}),C(I(r),"getTabIndex",function(u){var c=nn(r.props.preSelection);return r.props.disabledKeyboardNavigation||u!==c?"-1":"0"}),C(I(r),"getQuarterTabIndex",function(u){var c=zs(r.props.preSelection);return r.props.disabledKeyboardNavigation||u!==c?"-1":"0"}),C(I(r),"getAriaLabel",function(u){var c=r.props,d=c.chooseDayAriaLabelPrefix,f=d===void 0?"Choose":d,m=c.disabledDayAriaLabelPrefix,v=m===void 0?"Not available":m,y=c.day,E=dn(y,u),P=r.isDisabled(E)||r.isExcluded(E)?v:f;return"".concat(P," ").concat(vt(E,"MMMM yyyy"))}),C(I(r),"getQuarterClassNames",function(u){var c=r.props,d=c.day,f=c.startDate,m=c.endDate,v=c.selected,y=c.minDate,E=c.maxDate,P=c.preSelection;return gn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(u),{"react-datepicker__quarter-text--disabled":(y||E)&&TW(Cs(d,u),r.props),"react-datepicker__quarter-text--selected":r.isSelectedQuarter(d,u,v),"react-datepicker__quarter-text--keyboard-selected":zs(P)===u,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(u),"react-datepicker__quarter-text--in-range":Nm(f,m,u,d),"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(u),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(u)})}),C(I(r),"getMonthContent",function(u){var c=r.props,d=c.showFullMonthYearPicker,f=c.renderMonthContent,m=c.locale,v=rD(u,m),y=tw(u,m);return f?f(u,v,y):d?y:v}),C(I(r),"getQuarterContent",function(u){var c=r.props,d=c.renderQuarterContent,f=function(m,v){return vt(Cs(Ye(),m),"QQQ",v)}(u,c.locale);return d?d(u,f):f}),C(I(r),"renderMonths",function(){var u=r.props,c=u.showTwoColumnMonthYearPicker,d=u.showFourColumnMonthYearPicker,f=u.day,m=u.selected;return Vm[D1(d,c)].grid.map(function(v,y){return M.createElement("div",{className:"react-datepicker__month-wrapper",key:y},v.map(function(E,P){return M.createElement("div",{ref:r.MONTH_REFS[E],key:P,onClick:function(x){r.onMonthClick(x,E)},onKeyDown:function(x){r.onMonthKeyDown(x,E)},onMouseEnter:function(){return r.onMonthMouseEnter(E)},tabIndex:r.getTabIndex(E),className:r.getMonthClassNames(E),role:"option","aria-label":r.getAriaLabel(E),"aria-current":r.isCurrentMonth(f,E)?"date":void 0,"aria-selected":r.isSelectedMonth(f,E,m)},r.getMonthContent(E))}))})}),C(I(r),"renderQuarters",function(){var u=r.props,c=u.day,d=u.selected;return M.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map(function(f,m){return M.createElement("div",{key:m,ref:r.QUARTER_REFS[m],role:"option",onClick:function(v){r.onQuarterClick(v,f)},onKeyDown:function(v){r.onQuarterKeyDown(v,f)},onMouseEnter:function(){return r.onQuarterMouseEnter(f)},className:r.getQuarterClassNames(f),"aria-selected":r.isSelectedQuarter(c,f,d),tabIndex:r.getQuarterTabIndex(f),"aria-current":r.isCurrentQuarter(c,f)?"date":void 0},r.getQuarterContent(f))}))}),C(I(r),"getClassNames",function(){var u=r.props,c=u.selectingDate,d=u.selectsStart,f=u.selectsEnd,m=u.showMonthYearPicker,v=u.showQuarterYearPicker;return gn("react-datepicker__month",{"react-datepicker__month--selecting-range":c&&(d||f)},{"react-datepicker__monthPicker":m},{"react-datepicker__quarterPicker":v})}),r}return Ft(n,[{key:"render",value:function(){var r=this.props,i=r.showMonthYearPicker,o=r.showQuarterYearPicker,a=r.day,u=r.ariaLabelPrefix,c=u===void 0?"month ":u;return M.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,"aria-label":"".concat(c," ").concat(vt(a,"yyyy-MM")),role:"listbox"},i?this.renderMonths():o?this.renderQuarters():this.renderWeeks())}}]),n}(),hD=function(t){Ut(n,M.Component);var e=Bt(n);function n(){var r;Vt(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return C(I(r=e.call.apply(e,[this].concat(o))),"state",{height:null}),C(I(r),"handleClick",function(u){(r.props.minTime||r.props.maxTime)&&T1(u,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&E1(u,r.props)||r.props.onChange(u)}),C(I(r),"isSelectedTime",function(u,c,d){return r.props.selected&&c===On(u)&&d===bn(u)}),C(I(r),"liClasses",function(u,c,d){var f=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(u,c,d):void 0];return r.isSelectedTime(u,c,d)&&f.push("react-datepicker__time-list-item--selected"),((r.props.minTime||r.props.maxTime)&&T1(u,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&E1(u,r.props))&&f.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(60*On(u)+bn(u))%r.props.intervals!=0&&f.push("react-datepicker__time-list-item--injected"),f.join(" ")}),C(I(r),"handleOnKeyDown",function(u,c){u.key===" "&&(u.preventDefault(),u.key="Enter"),u.key==="Enter"&&r.handleClick(c),r.props.handleOnKeyDown(u)}),C(I(r),"renderTimes",function(){for(var u,c=[],d=r.props.format?r.props.format:"p",f=r.props.intervals,m=(u=Ye(r.props.selected),Vr(u)),v=1440/f,y=r.props.injectTimes&&r.props.injectTimes.sort(function(O,V){return O-V}),E=r.props.selected||r.props.openToDate||Ye(),P=On(E),x=bn(E),T=eu(Jl(m,x),P),w=0;w<v;w++){var S=gv(m,w*f);if(c.push(S),y){var D=PW(m,S,w,f,y);c=c.concat(D)}}return c.map(function(O,V){return M.createElement("li",{key:V,onClick:r.handleClick.bind(I(r),O),className:r.liClasses(O,P,x),ref:function(F){(ni(O,T)||Li(O,T))&&(r.centerLi=F)},onKeyDown:function(F){r.handleOnKeyDown(F,O)},tabIndex:"0","aria-selected":r.isSelectedTime(O,P,x)?"true":void 0},vt(O,d,r.props.locale))})}),r}return Ft(n,[{key:"componentDidMount",value:function(){this.list.scrollTop=this.centerLi&&n.calcCenterPosition(this.props.monthRef?this.props.monthRef.clientHeight-this.header.clientHeight:this.list.clientHeight,this.centerLi),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var r=this,i=this.state.height;return M.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},M.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(o){r.header=o}},M.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),M.createElement("div",{className:"react-datepicker__time"},M.createElement("div",{className:"react-datepicker__time-box"},M.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){r.list=o},style:i?{height:i}:{},tabIndex:"0"},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}]),n}();C(hD,"calcCenterPosition",function(t,e){return e.offsetTop-(t/2-e.clientHeight/2)});var NW=function(t){Ut(n,M.Component);var e=Bt(n);function n(r){var i;return Vt(this,n),C(I(i=e.call(this,r)),"YEAR_REFS",xv(Array(i.props.yearItemNumber)).map(function(){return M.createRef()})),C(I(i),"isDisabled",function(o){return tp(o,i.props)}),C(I(i),"isExcluded",function(o){return nw(o,i.props)}),C(I(i),"selectingDate",function(){var o;return(o=i.props.selectingDate)!==null&&o!==void 0?o:i.props.preSelection}),C(I(i),"updateFocusOnPaginate",function(o){var a=(function(){this.YEAR_REFS[o].current.focus()}).bind(I(i));window.requestAnimationFrame(a)}),C(I(i),"handleYearClick",function(o,a){i.props.onDayClick&&i.props.onDayClick(o,a)}),C(I(i),"handleYearNavigation",function(o,a){var u=i.props,c=u.date,d=u.yearItemNumber,f=Ws(c,d).startPeriod;i.isDisabled(a)||i.isExcluded(a)||(i.props.setPreSelection(a),o-f==-1?i.updateFocusOnPaginate(d-1):o-f===d?i.updateFocusOnPaginate(0):i.YEAR_REFS[o-f].current.focus())}),C(I(i),"isSameDay",function(o,a){return fn(o,a)}),C(I(i),"isCurrentYear",function(o){return o===Pe(Ye())}),C(I(i),"isRangeStart",function(o){return i.props.startDate&&i.props.endDate&&Mi(Gr(Ye(),o),i.props.startDate)}),C(I(i),"isRangeEnd",function(o){return i.props.startDate&&i.props.endDate&&Mi(Gr(Ye(),o),i.props.endDate)}),C(I(i),"isInRange",function(o){return Lm(o,i.props.startDate,i.props.endDate)}),C(I(i),"isInSelectingRange",function(o){var a=i.props,u=a.selectsStart,c=a.selectsEnd,d=a.selectsRange,f=a.startDate,m=a.endDate;return!(!(u||c||d)||!i.selectingDate())&&(u&&m?Lm(o,i.selectingDate(),m):(c&&f||!(!d||!f||m))&&Lm(o,f,i.selectingDate()))}),C(I(i),"isSelectingRangeStart",function(o){if(!i.isInSelectingRange(o))return!1;var a=i.props,u=a.startDate,c=a.selectsStart,d=Gr(Ye(),o);return Mi(d,c?i.selectingDate():u)}),C(I(i),"isSelectingRangeEnd",function(o){if(!i.isInSelectingRange(o))return!1;var a=i.props,u=a.endDate,c=a.selectsEnd,d=a.selectsRange,f=Gr(Ye(),o);return Mi(f,c||d?i.selectingDate():u)}),C(I(i),"isKeyboardSelected",function(o){var a=Ll(Gr(i.props.date,o));return!i.props.disabledKeyboardNavigation&&!i.props.inline&&!fn(a,Ll(i.props.selected))&&fn(a,Ll(i.props.preSelection))}),C(I(i),"onYearClick",function(o,a){var u=i.props.date;i.handleYearClick(Ll(Gr(u,a)),o)}),C(I(i),"onYearKeyDown",function(o,a){var u=o.key;if(!i.props.disabledKeyboardNavigation)switch(u){case"Enter":i.onYearClick(o,a),i.props.setPreSelection(i.props.selected);break;case"ArrowRight":i.handleYearNavigation(a+1,wa(i.props.preSelection,1));break;case"ArrowLeft":i.handleYearNavigation(a-1,Bu(i.props.preSelection,1))}}),C(I(i),"getYearClassNames",function(o){var a=i.props,u=a.minDate,c=a.maxDate,d=a.selected,f=a.excludeDates,m=a.includeDates,v=a.filterDate;return gn("react-datepicker__year-text",{"react-datepicker__year-text--selected":o===Pe(d),"react-datepicker__year-text--disabled":(u||c||f||m||v)&&oD(o,i.props),"react-datepicker__year-text--keyboard-selected":i.isKeyboardSelected(o),"react-datepicker__year-text--range-start":i.isRangeStart(o),"react-datepicker__year-text--range-end":i.isRangeEnd(o),"react-datepicker__year-text--in-range":i.isInRange(o),"react-datepicker__year-text--in-selecting-range":i.isInSelectingRange(o),"react-datepicker__year-text--selecting-range-start":i.isSelectingRangeStart(o),"react-datepicker__year-text--selecting-range-end":i.isSelectingRangeEnd(o),"react-datepicker__year-text--today":i.isCurrentYear(o)})}),C(I(i),"getYearTabIndex",function(o){return i.props.disabledKeyboardNavigation?"-1":o===Pe(i.props.preSelection)?"0":"-1"}),C(I(i),"getYearContainerClassNames",function(){var o=i.props,a=o.selectingDate,u=o.selectsStart,c=o.selectsEnd,d=o.selectsRange;return gn("react-datepicker__year",{"react-datepicker__year--selecting-range":a&&(u||c||d)})}),C(I(i),"getYearContent",function(o){return i.props.renderYearContent?i.props.renderYearContent(o):o}),i}return Ft(n,[{key:"render",value:function(){for(var r=this,i=[],o=this.props,a=o.date,u=o.yearItemNumber,c=o.onYearMouseEnter,d=o.onYearMouseLeave,f=Ws(a,u),m=f.startPeriod,v=f.endPeriod,y=function(P){i.push(M.createElement("div",{ref:r.YEAR_REFS[P-m],onClick:function(x){r.onYearClick(x,P)},onKeyDown:function(x){r.onYearKeyDown(x,P)},tabIndex:r.getYearTabIndex(P),className:r.getYearClassNames(P),onMouseEnter:function(x){return c(x,P)},onMouseLeave:function(x){return d(x,P)},key:P,"aria-current":r.isCurrentYear(P)?"date":void 0},r.getYearContent(P)))},E=m;E<=v;E++)y(E);return M.createElement("div",{className:this.getYearContainerClassNames()},M.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.clearSelectingDate},i))}}]),n}(),VW=function(t){Ut(n,M.Component);var e=Bt(n);function n(r){var i;return Vt(this,n),C(I(i=e.call(this,r)),"onTimeChange",function(o){i.setState({time:o});var a=new Date;a.setHours(o.split(":")[0]),a.setMinutes(o.split(":")[1]),i.props.onChange(a)}),C(I(i),"renderTimeInput",function(){var o=i.state.time,a=i.props,u=a.date,c=a.timeString,d=a.customTimeInput;return d?M.cloneElement(d,{date:u,value:o,onChange:i.onTimeChange}):M.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:o,onChange:function(f){i.onTimeChange(f.target.value||c)}})}),i.state={time:i.props.timeString},i}return Ft(n,[{key:"render",value:function(){return M.createElement("div",{className:"react-datepicker__input-time-container"},M.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),M.createElement("div",{className:"react-datepicker-time__input-container"},M.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.timeString!==i.time?{time:r.timeString}:null}}]),n}();function FW(t){var e=t.className,n=t.children,r=t.showPopperArrow,i=t.arrowProps,o=i===void 0?{}:i;return M.createElement("div",{className:e},r&&M.createElement("div",Wu({className:"react-datepicker__triangle"},o)),n)}var UW=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],BW=function(t){Ut(n,M.Component);var e=Bt(n);function n(r){var i;return Vt(this,n),C(I(i=e.call(this,r)),"handleClickOutside",function(o){i.props.onClickOutside(o)}),C(I(i),"setClickOutsideRef",function(){return i.containerRef.current}),C(I(i),"handleDropdownFocus",function(o){(function(){var a=((arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).className||"").split(/\s+/);return UW.some(function(u){return a.indexOf(u)>=0})})(o.target)&&i.props.onDropdownFocus()}),C(I(i),"getDateInView",function(){var o=i.props,a=o.preSelection,u=o.selected,c=o.openToDate,d=sD(i.props),f=aD(i.props),m=Ye(),v=c||u||a;return v||(d&&ni(m,d)?d:f&&ro(m,f)?f:m)}),C(I(i),"increaseMonth",function(){i.setState(function(o){var a=o.date;return{date:pr(a,1)}},function(){return i.handleMonthChange(i.state.date)})}),C(I(i),"decreaseMonth",function(){i.setState(function(o){var a=o.date;return{date:Ea(a,1)}},function(){return i.handleMonthChange(i.state.date)})}),C(I(i),"handleDayClick",function(o,a,u){i.props.onSelect(o,a,u),i.props.setPreSelection&&i.props.setPreSelection(o)}),C(I(i),"handleDayMouseEnter",function(o){i.setState({selectingDate:o}),i.props.onDayMouseEnter&&i.props.onDayMouseEnter(o)}),C(I(i),"handleMonthMouseLeave",function(){i.setState({selectingDate:null}),i.props.onMonthMouseLeave&&i.props.onMonthMouseLeave()}),C(I(i),"handleYearMouseEnter",function(o,a){i.setState({selectingDate:Gr(Ye(),a)}),i.props.onYearMouseEnter&&i.props.onYearMouseEnter(o,a)}),C(I(i),"handleYearMouseLeave",function(o,a){i.props.onYearMouseLeave&&i.props.onYearMouseLeave(o,a)}),C(I(i),"handleYearChange",function(o){i.props.onYearChange&&(i.props.onYearChange(o),i.setState({isRenderAriaLiveMessage:!0})),i.props.adjustDateOnChange&&(i.props.onSelect&&i.props.onSelect(o),i.props.setOpen&&i.props.setOpen(!0)),i.props.setPreSelection&&i.props.setPreSelection(o)}),C(I(i),"handleMonthChange",function(o){i.handleCustomMonthChange(o),i.props.adjustDateOnChange&&(i.props.onSelect&&i.props.onSelect(o),i.props.setOpen&&i.props.setOpen(!0)),i.props.setPreSelection&&i.props.setPreSelection(o)}),C(I(i),"handleCustomMonthChange",function(o){i.props.onMonthChange&&(i.props.onMonthChange(o),i.setState({isRenderAriaLiveMessage:!0}))}),C(I(i),"handleMonthYearChange",function(o){i.handleYearChange(o),i.handleMonthChange(o)}),C(I(i),"changeYear",function(o){i.setState(function(a){var u=a.date;return{date:Gr(u,o)}},function(){return i.handleYearChange(i.state.date)})}),C(I(i),"changeMonth",function(o){i.setState(function(a){var u=a.date;return{date:dn(u,o)}},function(){return i.handleMonthChange(i.state.date)})}),C(I(i),"changeMonthYear",function(o){i.setState(function(a){var u=a.date;return{date:Gr(dn(u,nn(o)),Pe(o))}},function(){return i.handleMonthYearChange(i.state.date)})}),C(I(i),"header",function(){var o=ew(arguments.length>0&&arguments[0]!==void 0?arguments[0]:i.state.date,i.props.locale,i.props.calendarStartDay),a=[];return i.props.showWeekNumbers&&a.push(M.createElement("div",{key:"W",className:"react-datepicker__day-name"},i.props.weekLabel||"#")),a.concat([0,1,2,3,4,5,6].map(function(u){var c=ja(o,u),d=i.formatWeekday(c,i.props.locale),f=i.props.weekDayClassName?i.props.weekDayClassName(c):void 0;return M.createElement("div",{key:u,className:gn("react-datepicker__day-name",f)},d)}))}),C(I(i),"formatWeekday",function(o,a){return i.props.formatWeekDay?function(u,c,d){return c(vt(u,"EEEE",d))}(o,i.props.formatWeekDay,a):i.props.useWeekdaysShort?function(u,c){return vt(u,"EEE",c)}(o,a):function(u,c){return vt(u,"EEEEEE",c)}(o,a)}),C(I(i),"decreaseYear",function(){i.setState(function(o){var a=o.date;return{date:Bu(a,i.props.showYearPicker?i.props.yearItemNumber:1)}},function(){return i.handleYearChange(i.state.date)})}),C(I(i),"clearSelectingDate",function(){i.setState({selectingDate:null})}),C(I(i),"renderPreviousButton",function(){if(!i.props.renderCustomHeader){var o;switch(!0){case i.props.showMonthYearPicker:o=C1(i.state.date,i.props);break;case i.props.showYearPicker:o=function(T){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=w.minDate,D=w.yearItemNumber,O=D===void 0?ru:D,V=Ws(Ll(Bu(T,O)),O).endPeriod,F=S&&Pe(S);return F&&F>V||!1}(i.state.date,i.props);break;default:o=P1(i.state.date,i.props)}if((i.props.forceShowMonthNavigation||i.props.showDisabledMonthNavigation||!o)&&!i.props.showTimeSelectOnly){var a=["react-datepicker__navigation","react-datepicker__navigation--previous"],u=i.decreaseMonth;(i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker)&&(u=i.decreaseYear),o&&i.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--previous--disabled"),u=null);var c=i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker,d=i.props,f=d.previousMonthButtonLabel,m=d.previousYearButtonLabel,v=i.props,y=v.previousMonthAriaLabel,E=y===void 0?typeof f=="string"?f:"Previous Month":y,P=v.previousYearAriaLabel,x=P===void 0?typeof m=="string"?m:"Previous Year":P;return M.createElement("button",{type:"button",className:a.join(" "),onClick:u,onKeyDown:i.props.handleOnKeyDown,"aria-label":c?x:E},M.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},c?i.props.previousYearButtonLabel:i.props.previousMonthButtonLabel))}}}),C(I(i),"increaseYear",function(){i.setState(function(o){var a=o.date;return{date:wa(a,i.props.showYearPicker?i.props.yearItemNumber:1)}},function(){return i.handleYearChange(i.state.date)})}),C(I(i),"renderNextButton",function(){if(!i.props.renderCustomHeader){var o;switch(!0){case i.props.showMonthYearPicker:o=I1(i.state.date,i.props);break;case i.props.showYearPicker:o=function(T){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=w.maxDate,D=w.yearItemNumber,O=D===void 0?ru:D,V=Ws(wa(T,O),O).startPeriod,F=S&&Pe(S);return F&&F<V||!1}(i.state.date,i.props);break;default:o=S1(i.state.date,i.props)}if((i.props.forceShowMonthNavigation||i.props.showDisabledMonthNavigation||!o)&&!i.props.showTimeSelectOnly){var a=["react-datepicker__navigation","react-datepicker__navigation--next"];i.props.showTimeSelect&&a.push("react-datepicker__navigation--next--with-time"),i.props.todayButton&&a.push("react-datepicker__navigation--next--with-today-button");var u=i.increaseMonth;(i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker)&&(u=i.increaseYear),o&&i.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--next--disabled"),u=null);var c=i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker,d=i.props,f=d.nextMonthButtonLabel,m=d.nextYearButtonLabel,v=i.props,y=v.nextMonthAriaLabel,E=y===void 0?typeof f=="string"?f:"Next Month":y,P=v.nextYearAriaLabel,x=P===void 0?typeof m=="string"?m:"Next Year":P;return M.createElement("button",{type:"button",className:a.join(" "),onClick:u,onKeyDown:i.props.handleOnKeyDown,"aria-label":c?x:E},M.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},c?i.props.nextYearButtonLabel:i.props.nextMonthButtonLabel))}}}),C(I(i),"renderCurrentMonth",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i.state.date,a=["react-datepicker__current-month"];return i.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),i.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),i.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),M.createElement("div",{className:a.join(" ")},vt(o,i.props.dateFormat,i.props.locale))}),C(I(i),"renderYearDropdown",function(){var o=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(i.props.showYearDropdown&&!o)return M.createElement(IW,{adjustDateOnChange:i.props.adjustDateOnChange,date:i.state.date,onSelect:i.props.onSelect,setOpen:i.props.setOpen,dropdownMode:i.props.dropdownMode,onChange:i.changeYear,minDate:i.props.minDate,maxDate:i.props.maxDate,year:Pe(i.state.date),scrollableYearDropdown:i.props.scrollableYearDropdown,yearDropdownItemNumber:i.props.yearDropdownItemNumber})}),C(I(i),"renderMonthDropdown",function(){var o=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(i.props.showMonthDropdown&&!o)return M.createElement(xW,{dropdownMode:i.props.dropdownMode,locale:i.props.locale,onChange:i.changeMonth,month:nn(i.state.date),useShortMonthInDropdown:i.props.useShortMonthInDropdown})}),C(I(i),"renderMonthYearDropdown",function(){var o=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(i.props.showMonthYearDropdown&&!o)return M.createElement(RW,{dropdownMode:i.props.dropdownMode,locale:i.props.locale,dateFormat:i.props.dateFormat,onChange:i.changeMonthYear,minDate:i.props.minDate,maxDate:i.props.maxDate,date:i.state.date,scrollableMonthYearDropdown:i.props.scrollableMonthYearDropdown})}),C(I(i),"handleTodayButtonClick",function(o){i.props.onSelect(y1(),o),i.props.setPreSelection&&i.props.setPreSelection(y1())}),C(I(i),"renderTodayButton",function(){if(i.props.todayButton&&!i.props.showTimeSelectOnly)return M.createElement("div",{className:"react-datepicker__today-button",onClick:function(o){return i.handleTodayButtonClick(o)}},i.props.todayButton)}),C(I(i),"renderDefaultHeader",function(o){var a=o.monthDate,u=o.i;return M.createElement("div",{className:"react-datepicker__header ".concat(i.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},i.renderCurrentMonth(a),M.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(i.props.dropdownMode),onFocus:i.handleDropdownFocus},i.renderMonthDropdown(u!==0),i.renderMonthYearDropdown(u!==0),i.renderYearDropdown(u!==0)),M.createElement("div",{className:"react-datepicker__day-names"},i.header(a)))}),C(I(i),"renderCustomHeader",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=o.monthDate,u=o.i;if(i.props.showTimeSelect&&!i.state.monthContainer||i.props.showTimeSelectOnly)return null;var c=P1(i.state.date,i.props),d=S1(i.state.date,i.props),f=C1(i.state.date,i.props),m=I1(i.state.date,i.props),v=!i.props.showMonthYearPicker&&!i.props.showQuarterYearPicker&&!i.props.showYearPicker;return M.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:i.props.onDropdownFocus},i.props.renderCustomHeader(f1(f1({},i.state),{},{customHeaderCount:u,monthDate:a,changeMonth:i.changeMonth,changeYear:i.changeYear,decreaseMonth:i.decreaseMonth,increaseMonth:i.increaseMonth,decreaseYear:i.decreaseYear,increaseYear:i.increaseYear,prevMonthButtonDisabled:c,nextMonthButtonDisabled:d,prevYearButtonDisabled:f,nextYearButtonDisabled:m})),v&&M.createElement("div",{className:"react-datepicker__day-names"},i.header(a)))}),C(I(i),"renderYearHeader",function(){var o=i.state.date,a=i.props,u=a.showYearPicker,c=Ws(o,a.yearItemNumber),d=c.startPeriod,f=c.endPeriod;return M.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(d," - ").concat(f):Pe(o))}),C(I(i),"renderHeader",function(o){switch(!0){case i.props.renderCustomHeader!==void 0:return i.renderCustomHeader(o);case(i.props.showMonthYearPicker||i.props.showQuarterYearPicker||i.props.showYearPicker):return i.renderYearHeader(o);default:return i.renderDefaultHeader(o)}}),C(I(i),"renderMonths",function(){if(!i.props.showTimeSelectOnly&&!i.props.showYearPicker){for(var o=[],a=i.props.showPreviousMonths?i.props.monthsShown-1:0,u=Ea(i.state.date,a),c=0;c<i.props.monthsShown;++c){var d=c-i.props.monthSelectedIn,f=pr(u,d),m="month-".concat(c),v=c<i.props.monthsShown-1,y=c>0;o.push(M.createElement("div",{key:m,ref:function(E){i.monthContainer=E},className:"react-datepicker__month-container"},i.renderHeader({monthDate:f,i:c}),M.createElement(LW,{chooseDayAriaLabelPrefix:i.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:i.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:i.props.weekAriaLabelPrefix,ariaLabelPrefix:i.props.monthAriaLabelPrefix,onChange:i.changeMonthYear,day:f,dayClassName:i.props.dayClassName,calendarStartDay:i.props.calendarStartDay,monthClassName:i.props.monthClassName,onDayClick:i.handleDayClick,handleOnKeyDown:i.props.handleOnDayKeyDown,onDayMouseEnter:i.handleDayMouseEnter,onMouseLeave:i.handleMonthMouseLeave,onWeekSelect:i.props.onWeekSelect,orderInDisplay:c,formatWeekNumber:i.props.formatWeekNumber,locale:i.props.locale,minDate:i.props.minDate,maxDate:i.props.maxDate,excludeDates:i.props.excludeDates,excludeDateIntervals:i.props.excludeDateIntervals,highlightDates:i.props.highlightDates,selectingDate:i.state.selectingDate,includeDates:i.props.includeDates,includeDateIntervals:i.props.includeDateIntervals,inline:i.props.inline,shouldFocusDayInline:i.props.shouldFocusDayInline,fixedHeight:i.props.fixedHeight,filterDate:i.props.filterDate,preSelection:i.props.preSelection,setPreSelection:i.props.setPreSelection,selected:i.props.selected,selectsStart:i.props.selectsStart,selectsEnd:i.props.selectsEnd,selectsRange:i.props.selectsRange,selectsDisabledDaysInRange:i.props.selectsDisabledDaysInRange,showWeekNumbers:i.props.showWeekNumbers,startDate:i.props.startDate,endDate:i.props.endDate,peekNextMonth:i.props.peekNextMonth,setOpen:i.props.setOpen,shouldCloseOnSelect:i.props.shouldCloseOnSelect,renderDayContents:i.props.renderDayContents,renderMonthContent:i.props.renderMonthContent,renderQuarterContent:i.props.renderQuarterContent,renderYearContent:i.props.renderYearContent,disabledKeyboardNavigation:i.props.disabledKeyboardNavigation,showMonthYearPicker:i.props.showMonthYearPicker,showFullMonthYearPicker:i.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:i.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:i.props.showFourColumnMonthYearPicker,showYearPicker:i.props.showYearPicker,showQuarterYearPicker:i.props.showQuarterYearPicker,isInputFocused:i.props.isInputFocused,containerRef:i.containerRef,monthShowsDuplicateDaysEnd:v,monthShowsDuplicateDaysStart:y})))}return o}}),C(I(i),"renderYears",function(){if(!i.props.showTimeSelectOnly)return i.props.showYearPicker?M.createElement("div",{className:"react-datepicker__year--container"},i.renderHeader(),M.createElement(NW,Wu({onDayClick:i.handleDayClick,selectingDate:i.state.selectingDate,clearSelectingDate:i.clearSelectingDate,date:i.state.date},i.props,{onYearMouseEnter:i.handleYearMouseEnter,onYearMouseLeave:i.handleYearMouseLeave}))):void 0}),C(I(i),"renderTimeSection",function(){if(i.props.showTimeSelect&&(i.state.monthContainer||i.props.showTimeSelectOnly))return M.createElement(hD,{selected:i.props.selected,openToDate:i.props.openToDate,onChange:i.props.onTimeChange,timeClassName:i.props.timeClassName,format:i.props.timeFormat,includeTimes:i.props.includeTimes,intervals:i.props.timeIntervals,minTime:i.props.minTime,maxTime:i.props.maxTime,excludeTimes:i.props.excludeTimes,filterTime:i.props.filterTime,timeCaption:i.props.timeCaption,todayButton:i.props.todayButton,showMonthDropdown:i.props.showMonthDropdown,showMonthYearDropdown:i.props.showMonthYearDropdown,showYearDropdown:i.props.showYearDropdown,withPortal:i.props.withPortal,monthRef:i.state.monthContainer,injectTimes:i.props.injectTimes,locale:i.props.locale,handleOnKeyDown:i.props.handleOnKeyDown,showTimeSelectOnly:i.props.showTimeSelectOnly})}),C(I(i),"renderInputTimeSection",function(){var o=new Date(i.props.selected),a=Pi(o)&&i.props.selected?"".concat(x1(o.getHours()),":").concat(x1(o.getMinutes())):"";if(i.props.showTimeInput)return M.createElement(VW,{date:o,timeString:a,timeInputLabel:i.props.timeInputLabel,onChange:i.props.onTimeChange,customTimeInput:i.props.customTimeInput})}),C(I(i),"renderAriaLiveRegion",function(){var o,a=Ws(i.state.date,i.props.yearItemNumber),u=a.startPeriod,c=a.endPeriod;return o=i.props.showYearPicker?"".concat(u," - ").concat(c):i.props.showMonthYearPicker||i.props.showQuarterYearPicker?Pe(i.state.date):"".concat(tw(nn(i.state.date),i.props.locale)," ").concat(Pe(i.state.date)),M.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},i.state.isRenderAriaLiveMessage&&o)}),C(I(i),"renderChildren",function(){if(i.props.children)return M.createElement("div",{className:"react-datepicker__children-container"},i.props.children)}),i.containerRef=M.createRef(),i.state={date:i.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},i}return Ft(n,[{key:"componentDidMount",value:function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=void r.setState({monthContainer:r.monthContainer}))}},{key:"componentDidUpdate",value:function(r){var i=this;if(!this.props.preSelection||fn(this.props.preSelection,r.preSelection)&&this.props.monthSelectedIn===r.monthSelectedIn)this.props.openToDate&&!fn(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate});else{var o=!lr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return o&&i.handleCustomMonthChange(i.state.date)})}}},{key:"render",value:function(){var r=this.props.container||FW;return M.createElement("div",{ref:this.containerRef},M.createElement(r,{className:gn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showPopperArrow:this.props.showPopperArrow,arrowProps:this.props.arrowProps},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,monthSelectedIn:0,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:ru}}}]),n}(),dD=function(t){Ut(n,M.Component);var e=Bt(n);function n(r){var i;return Vt(this,n),(i=e.call(this,r)).el=document.createElement("div"),i}return Ft(n,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return lO.createPortal(this.props.children,this.el)}}]),n}(),$W=function(t){return!t.disabled&&t.tabIndex!==-1},fD=function(t){Ut(n,M.Component);var e=Bt(n);function n(r){var i;return Vt(this,n),C(I(i=e.call(this,r)),"getTabChildren",function(){return Array.prototype.slice.call(i.tabLoopRef.current.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter($W)}),C(I(i),"handleFocusStart",function(){var o=i.getTabChildren();o&&o.length>1&&o[o.length-1].focus()}),C(I(i),"handleFocusEnd",function(){var o=i.getTabChildren();o&&o.length>1&&o[0].focus()}),i.tabLoopRef=M.createRef(),i}return Ft(n,[{key:"render",value:function(){return this.props.enableTabLoop?M.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},M.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,M.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}]),n}(),jW=function(t){Ut(n,M.Component);var e=Bt(n);function n(){return Vt(this,n),e.apply(this,arguments)}return Ft(n,[{key:"render",value:function(){var r,i=this.props,o=i.className,a=i.wrapperClassName,u=i.hidePopper,c=i.popperComponent,d=i.popperModifiers,f=i.popperPlacement,m=i.popperProps,v=i.targetComponent,y=i.enableTabLoop,E=i.popperOnKeyDown,P=i.portalId,x=i.portalHost;if(!u){var T=gn("react-datepicker-popper",o);r=M.createElement(pW,Wu({modifiers:d,placement:f},m),function(S){var D=S.ref,O=S.style,V=S.placement,F=S.arrowProps;return M.createElement(fD,{enableTabLoop:y},M.createElement("div",{ref:D,style:O,className:T,"data-placement":V,onKeyDown:E},M.cloneElement(c,{arrowProps:F})))})}this.props.popperContainer&&(r=M.createElement(this.props.popperContainer,{},r)),P&&!u&&(r=M.createElement(dD,{portalId:P,portalHost:x},r));var w=gn("react-datepicker-wrapper",a);return M.createElement(G3,{className:"react-datepicker-manager"},M.createElement(_W,null,function(S){var D=S.ref;return M.createElement("div",{ref:D,className:w},v)}),r)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0,popperModifiers:[],popperProps:{},popperPlacement:"bottom-start"}}}]),n}(),A1="react-datepicker-ignore-onclickoutside",zW=Jf(BW),Fm="Date input not valid.",WW=function(t){Ut(n,M.Component);var e=Bt(n);function n(r){var i;return Vt(this,n),C(I(i=e.call(this,r)),"getPreSelection",function(){return i.props.openToDate?i.props.openToDate:i.props.selectsEnd&&i.props.startDate?i.props.startDate:i.props.selectsStart&&i.props.endDate?i.props.endDate:Ye()}),C(I(i),"calcInitialState",function(){var o,a=i.getPreSelection(),u=sD(i.props),c=aD(i.props),d=u&&ni(a,Vr(u))?u:c&&ro(a,yv(c))?c:a;return{open:i.props.startOpen||!1,preventFocus:!1,preSelection:(o=i.props.selectsRange?i.props.startDate:i.props.selected)!==null&&o!==void 0?o:d,highlightDates:k1(i.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),C(I(i),"clearPreventFocusTimeout",function(){i.preventFocusTimeout&&clearTimeout(i.preventFocusTimeout)}),C(I(i),"setFocus",function(){i.input&&i.input.focus&&i.input.focus({preventScroll:!0})}),C(I(i),"setBlur",function(){i.input&&i.input.blur&&i.input.blur(),i.cancelFocusInput()}),C(I(i),"setOpen",function(o){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i.setState({open:o,preSelection:o&&i.state.open?i.state.preSelection:i.calcInitialState().preSelection,lastPreSelectChange:Um},function(){o||i.setState(function(u){return{focused:!!a&&u.focused}},function(){!a&&i.setBlur(),i.setState({inputValue:null})})})}),C(I(i),"inputOk",function(){return Uy(i.state.preSelection)}),C(I(i),"isCalendarOpen",function(){return i.props.open===void 0?i.state.open&&!i.props.disabled&&!i.props.readOnly:i.props.open}),C(I(i),"handleFocus",function(o){i.state.preventFocus||(i.props.onFocus(o),i.props.preventOpenOnFocus||i.props.readOnly||i.setOpen(!0)),i.setState({focused:!0})}),C(I(i),"cancelFocusInput",function(){clearTimeout(i.inputFocusTimeout),i.inputFocusTimeout=null}),C(I(i),"deferFocusInput",function(){i.cancelFocusInput(),i.inputFocusTimeout=setTimeout(function(){return i.setFocus()},1)}),C(I(i),"handleDropdownFocus",function(){i.cancelFocusInput()}),C(I(i),"handleBlur",function(o){(!i.state.open||i.props.withPortal||i.props.showTimeInput)&&i.props.onBlur(o),i.setState({focused:!1})}),C(I(i),"handleCalendarClickOutside",function(o){i.props.inline||i.setOpen(!1),i.props.onClickOutside(o),i.props.withPortal&&o.preventDefault()}),C(I(i),"handleChange",function(){for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];var c=a[0];if(!i.props.onChangeRaw||(i.props.onChangeRaw.apply(I(i),a),typeof c.isDefaultPrevented=="function"&&!c.isDefaultPrevented())){i.setState({inputValue:c.target.value,lastPreSelectChange:HW});var d,f,m,v,y,E,P,x,T=(d=c.target.value,f=i.props.dateFormat,m=i.props.locale,v=i.props.strictParsing,y=i.props.minDate,E=null,P=Qi(m)||Qi(No()),x=!0,Array.isArray(f)?(f.forEach(function(w){var S=Am(d,w,new Date,{locale:P});v&&(x=Pi(S,y)&&d===vt(S,w,m)),Pi(S,y)&&x&&(E=S)}),E):(E=Am(d,f,new Date,{locale:P}),v?x=Pi(E)&&d===vt(E,f,m):Pi(E)||(f=f.match(EW).map(function(w){var S=w[0];return S==="p"||S==="P"?P?(0,wW[S])(w,P.formatLong):S:w}).join(""),d.length>0&&(E=Am(d,f.slice(0,d.length),new Date)),Pi(E)||(E=new Date(d))),Pi(E)&&x?E:null));i.props.showTimeSelectOnly&&i.props.selected&&!fn(T,i.props.selected)&&(T=yW(i.props.selected,T==null?{hours:On(i.props.selected),minutes:bn(i.props.selected),seconds:Dm(i.props.selected)}:{hours:On(T),minutes:bn(T),seconds:Dm(T)})),!T&&c.target.value||i.setSelected(T,c,!0)}}),C(I(i),"handleSelect",function(o,a,u){if(i.setState({preventFocus:!0},function(){return i.preventFocusTimeout=setTimeout(function(){return i.setState({preventFocus:!1})},50),i.preventFocusTimeout}),i.props.onChangeRaw&&i.props.onChangeRaw(a),i.setSelected(o,a,!1,u),i.props.showDateSelect&&i.setState({isRenderAriaLiveMessage:!0}),!i.props.shouldCloseOnSelect||i.props.showTimeSelect)i.setPreSelection(o);else if(!i.props.inline){i.props.selectsRange||i.setOpen(!1);var c=i.props,d=c.startDate,f=c.endDate;!d||f||ni(o,d)||i.setOpen(!1)}}),C(I(i),"setSelected",function(o,a,u,c){var d=o;if(i.props.showYearPicker){if(d!==null&&oD(Pe(d),i.props))return}else if(i.props.showMonthYearPicker){if(d!==null&&iD(d,i.props))return}else if(d!==null&&tp(d,i.props))return;var f=i.props,m=f.onChange,v=f.selectsRange,y=f.startDate,E=f.endDate;if(!Li(i.props.selected,d)||i.props.allowSameDay||v)if(d!==null&&(!i.props.selected||u&&(i.props.showTimeSelect||i.props.showTimeSelectOnly||i.props.showTimeInput)||(d=v1(d,{hour:On(i.props.selected),minute:bn(i.props.selected),second:Dm(i.props.selected)})),i.props.inline||i.setState({preSelection:d}),i.props.focusSelectedMonth||i.setState({monthSelectedIn:c})),v){var P=y&&!E,x=y&&E;!y&&!E?m([d,null],a):P&&(ni(d,y)?m([d,null],a):m([y,d],a)),x&&m([d,null],a)}else m(d,a);u||(i.props.onSelect(d,a),i.setState({inputValue:null}))}),C(I(i),"setPreSelection",function(o){var a=i.props.minDate!==void 0,u=i.props.maxDate!==void 0,c=!0;if(o){var d=Vr(o);if(a&&u)c=Bh(o,i.props.minDate,i.props.maxDate);else if(a){var f=Vr(i.props.minDate);c=ro(o,f)||Li(d,f)}else if(u){var m=yv(i.props.maxDate);c=ni(o,m)||Li(d,m)}}c&&i.setState({preSelection:o})}),C(I(i),"handleTimeChange",function(o){var a=v1(i.props.selected?i.props.selected:i.getPreSelection(),{hour:On(o),minute:bn(o)});i.setState({preSelection:a}),i.props.onChange(a),i.props.shouldCloseOnSelect&&i.setOpen(!1),i.props.showTimeInput&&i.setOpen(!0),(i.props.showTimeSelectOnly||i.props.showTimeSelect)&&i.setState({isRenderAriaLiveMessage:!0}),i.setState({inputValue:null})}),C(I(i),"onInputClick",function(){i.props.disabled||i.props.readOnly||i.setOpen(!0),i.props.onInputClick()}),C(I(i),"onInputKeyDown",function(o){i.props.onKeyDown(o);var a=o.key;if(i.state.open||i.props.inline||i.props.preventOpenOnFocus){if(i.state.open){if(a==="ArrowDown"||a==="ArrowUp"){o.preventDefault();var u=i.calendar.componentNode&&i.calendar.componentNode.querySelector('.react-datepicker__day[tabindex="0"]');return void(u&&u.focus({preventScroll:!0}))}var c=Ye(i.state.preSelection);a==="Enter"?(o.preventDefault(),i.inputOk()&&i.state.lastPreSelectChange===Um?(i.handleSelect(c,o),!i.props.shouldCloseOnSelect&&i.setPreSelection(c)):i.setOpen(!1)):a==="Escape"?(o.preventDefault(),i.setOpen(!1)):a==="Tab"&&o.shiftKey&&i.setOpen(!1),i.inputOk()||i.props.onInputError({code:1,msg:Fm})}}else a!=="ArrowDown"&&a!=="ArrowUp"&&a!=="Enter"||i.onInputClick()}),C(I(i),"onPortalKeyDown",function(o){o.key==="Escape"&&(o.preventDefault(),i.setState({preventFocus:!0},function(){i.setOpen(!1),setTimeout(function(){i.setFocus(),i.setState({preventFocus:!1})})}))}),C(I(i),"onDayKeyDown",function(o){i.props.onKeyDown(o);var a=o.key,u=Ye(i.state.preSelection);if(a==="Enter")o.preventDefault(),i.handleSelect(u,o),!i.props.shouldCloseOnSelect&&i.setPreSelection(u);else if(a==="Escape")o.preventDefault(),i.setOpen(!1),i.inputOk()||i.props.onInputError({code:1,msg:Fm});else if(!i.props.disabledKeyboardNavigation){var c;switch(a){case"ArrowLeft":c=az(u,1);break;case"ArrowRight":c=ja(u,1);break;case"ArrowUp":c=lz(u,1);break;case"ArrowDown":c=jy(u,1);break;case"PageUp":c=Ea(u,1);break;case"PageDown":c=pr(u,1);break;case"Home":c=Bu(u,1);break;case"End":c=wa(u,1)}if(!c)return void(i.props.onInputError&&i.props.onInputError({code:1,msg:Fm}));if(o.preventDefault(),i.setState({lastPreSelectChange:Um}),i.props.adjustDateOnChange&&i.setSelected(c),i.setPreSelection(c),i.props.inline){var d=nn(u),f=nn(c),m=Pe(u),v=Pe(c);d!==f||m!==v?i.setState({shouldFocusDayInline:!0}):i.setState({shouldFocusDayInline:!1})}}}),C(I(i),"onPopperKeyDown",function(o){o.key==="Escape"&&(o.preventDefault(),i.setState({preventFocus:!0},function(){i.setOpen(!1),setTimeout(function(){i.setFocus(),i.setState({preventFocus:!1})})}))}),C(I(i),"onClearClick",function(o){o&&o.preventDefault&&o.preventDefault(),i.props.selectsRange?i.props.onChange([null,null],o):i.props.onChange(null,o),i.setState({inputValue:null})}),C(I(i),"clear",function(){i.onClearClick()}),C(I(i),"onScroll",function(o){typeof i.props.closeOnScroll=="boolean"&&i.props.closeOnScroll?o.target!==document&&o.target!==document.documentElement&&o.target!==document.body||i.setOpen(!1):typeof i.props.closeOnScroll=="function"&&i.props.closeOnScroll(o)&&i.setOpen(!1)}),C(I(i),"renderCalendar",function(){return i.props.inline||i.isCalendarOpen()?M.createElement(zW,{ref:function(o){i.calendar=o},locale:i.props.locale,calendarStartDay:i.props.calendarStartDay,chooseDayAriaLabelPrefix:i.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:i.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:i.props.weekAriaLabelPrefix,monthAriaLabelPrefix:i.props.monthAriaLabelPrefix,adjustDateOnChange:i.props.adjustDateOnChange,setOpen:i.setOpen,shouldCloseOnSelect:i.props.shouldCloseOnSelect,dateFormat:i.props.dateFormatCalendar,useWeekdaysShort:i.props.useWeekdaysShort,formatWeekDay:i.props.formatWeekDay,dropdownMode:i.props.dropdownMode,selected:i.props.selected,preSelection:i.state.preSelection,onSelect:i.handleSelect,onWeekSelect:i.props.onWeekSelect,openToDate:i.props.openToDate,minDate:i.props.minDate,maxDate:i.props.maxDate,selectsStart:i.props.selectsStart,selectsEnd:i.props.selectsEnd,selectsRange:i.props.selectsRange,startDate:i.props.startDate,endDate:i.props.endDate,excludeDates:i.props.excludeDates,excludeDateIntervals:i.props.excludeDateIntervals,filterDate:i.props.filterDate,onClickOutside:i.handleCalendarClickOutside,formatWeekNumber:i.props.formatWeekNumber,highlightDates:i.state.highlightDates,includeDates:i.props.includeDates,includeDateIntervals:i.props.includeDateIntervals,includeTimes:i.props.includeTimes,injectTimes:i.props.injectTimes,inline:i.props.inline,shouldFocusDayInline:i.state.shouldFocusDayInline,peekNextMonth:i.props.peekNextMonth,showMonthDropdown:i.props.showMonthDropdown,showPreviousMonths:i.props.showPreviousMonths,useShortMonthInDropdown:i.props.useShortMonthInDropdown,showMonthYearDropdown:i.props.showMonthYearDropdown,showWeekNumbers:i.props.showWeekNumbers,showYearDropdown:i.props.showYearDropdown,withPortal:i.props.withPortal,forceShowMonthNavigation:i.props.forceShowMonthNavigation,showDisabledMonthNavigation:i.props.showDisabledMonthNavigation,scrollableYearDropdown:i.props.scrollableYearDropdown,scrollableMonthYearDropdown:i.props.scrollableMonthYearDropdown,todayButton:i.props.todayButton,weekLabel:i.props.weekLabel,outsideClickIgnoreClass:A1,fixedHeight:i.props.fixedHeight,monthsShown:i.props.monthsShown,monthSelectedIn:i.state.monthSelectedIn,onDropdownFocus:i.handleDropdownFocus,onMonthChange:i.props.onMonthChange,onYearChange:i.props.onYearChange,dayClassName:i.props.dayClassName,weekDayClassName:i.props.weekDayClassName,monthClassName:i.props.monthClassName,timeClassName:i.props.timeClassName,showDateSelect:i.props.showDateSelect,showTimeSelect:i.props.showTimeSelect,showTimeSelectOnly:i.props.showTimeSelectOnly,onTimeChange:i.handleTimeChange,timeFormat:i.props.timeFormat,timeIntervals:i.props.timeIntervals,minTime:i.props.minTime,maxTime:i.props.maxTime,excludeTimes:i.props.excludeTimes,filterTime:i.props.filterTime,timeCaption:i.props.timeCaption,className:i.props.calendarClassName,container:i.props.calendarContainer,yearItemNumber:i.props.yearItemNumber,yearDropdownItemNumber:i.props.yearDropdownItemNumber,previousMonthAriaLabel:i.props.previousMonthAriaLabel,previousMonthButtonLabel:i.props.previousMonthButtonLabel,nextMonthAriaLabel:i.props.nextMonthAriaLabel,nextMonthButtonLabel:i.props.nextMonthButtonLabel,previousYearAriaLabel:i.props.previousYearAriaLabel,previousYearButtonLabel:i.props.previousYearButtonLabel,nextYearAriaLabel:i.props.nextYearAriaLabel,nextYearButtonLabel:i.props.nextYearButtonLabel,timeInputLabel:i.props.timeInputLabel,disabledKeyboardNavigation:i.props.disabledKeyboardNavigation,renderCustomHeader:i.props.renderCustomHeader,popperProps:i.props.popperProps,renderDayContents:i.props.renderDayContents,renderMonthContent:i.props.renderMonthContent,renderQuarterContent:i.props.renderQuarterContent,renderYearContent:i.props.renderYearContent,onDayMouseEnter:i.props.onDayMouseEnter,onMonthMouseLeave:i.props.onMonthMouseLeave,onYearMouseEnter:i.props.onYearMouseEnter,onYearMouseLeave:i.props.onYearMouseLeave,selectsDisabledDaysInRange:i.props.selectsDisabledDaysInRange,showTimeInput:i.props.showTimeInput,showMonthYearPicker:i.props.showMonthYearPicker,showFullMonthYearPicker:i.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:i.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:i.props.showFourColumnMonthYearPicker,showYearPicker:i.props.showYearPicker,showQuarterYearPicker:i.props.showQuarterYearPicker,showPopperArrow:i.props.showPopperArrow,excludeScrollbar:i.props.excludeScrollbar,handleOnKeyDown:i.props.onKeyDown,handleOnDayKeyDown:i.onDayKeyDown,isInputFocused:i.state.focused,customTimeInput:i.props.customTimeInput,setPreSelection:i.setPreSelection},i.props.children):null}),C(I(i),"renderAriaLiveRegion",function(){var o,a=i.props,u=a.dateFormat,c=a.locale,d=i.props.showTimeInput||i.props.showTimeSelect?"PPPPp":"PPPP";return o=i.props.selectsRange?"Selected start date: ".concat(Tr(i.props.startDate,{dateFormat:d,locale:c}),". ").concat(i.props.endDate?"End date: "+Tr(i.props.endDate,{dateFormat:d,locale:c}):""):i.props.showTimeSelectOnly?"Selected time: ".concat(Tr(i.props.selected,{dateFormat:u,locale:c})):i.props.showYearPicker?"Selected year: ".concat(Tr(i.props.selected,{dateFormat:"yyyy",locale:c})):i.props.showMonthYearPicker?"Selected month: ".concat(Tr(i.props.selected,{dateFormat:"MMMM yyyy",locale:c})):i.props.showQuarterYearPicker?"Selected quarter: ".concat(Tr(i.props.selected,{dateFormat:"yyyy, QQQ",locale:c})):"Selected date: ".concat(Tr(i.props.selected,{dateFormat:d,locale:c})),M.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},o)}),C(I(i),"renderDateInput",function(){var o,a=gn(i.props.className,C({},A1,i.state.open)),u=i.props.customInput||M.createElement("input",{type:"text"}),c=i.props.customInputRef||"ref",d=typeof i.props.value=="string"?i.props.value:typeof i.state.inputValue=="string"?i.state.inputValue:i.props.selectsRange?function(f,m,v){if(!f)return"";var y=Tr(f,v),E=m?Tr(m,v):"";return"".concat(y," - ").concat(E)}(i.props.startDate,i.props.endDate,i.props):Tr(i.props.selected,i.props);return M.cloneElement(u,(C(o={},c,function(f){i.input=f}),C(o,"value",d),C(o,"onBlur",i.handleBlur),C(o,"onChange",i.handleChange),C(o,"onClick",i.onInputClick),C(o,"onFocus",i.handleFocus),C(o,"onKeyDown",i.onInputKeyDown),C(o,"id",i.props.id),C(o,"name",i.props.name),C(o,"form",i.props.form),C(o,"autoFocus",i.props.autoFocus),C(o,"placeholder",i.props.placeholderText),C(o,"disabled",i.props.disabled),C(o,"autoComplete",i.props.autoComplete),C(o,"className",gn(u.props.className,a)),C(o,"title",i.props.title),C(o,"readOnly",i.props.readOnly),C(o,"required",i.props.required),C(o,"tabIndex",i.props.tabIndex),C(o,"aria-describedby",i.props.ariaDescribedBy),C(o,"aria-invalid",i.props.ariaInvalid),C(o,"aria-labelledby",i.props.ariaLabelledBy),C(o,"aria-required",i.props.ariaRequired),o))}),C(I(i),"renderClearButton",function(){var o=i.props,a=o.isClearable,u=o.selected,c=o.startDate,d=o.endDate,f=o.clearButtonTitle,m=o.clearButtonClassName,v=m===void 0?"":m,y=o.ariaLabelClose,E=y===void 0?"Close":y;return!a||u==null&&c==null&&d==null?null:M.createElement("button",{type:"button",className:"react-datepicker__close-icon ".concat(v).trim(),"aria-label":E,onClick:i.onClearClick,title:f,tabIndex:-1})}),i.state=i.calcInitialState(),i}return Ft(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(r,i){var o,a;r.inline&&(o=r.selected,a=this.props.selected,o&&a?nn(o)!==nn(a)||Pe(o)!==Pe(a):o!==a)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:k1(this.props.highlightDates)}),i.focused||Li(r.selected,this.props.selected)||this.setState({inputValue:null}),i.open!==this.state.open&&(i.open===!1&&this.state.open===!0&&this.props.onCalendarOpen(),i.open===!0&&this.state.open===!1&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var r=this.props.showIcon;return M.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&M.createElement("svg",{className:"react-datepicker__calendar-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},M.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"})),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var i=this.state.open?M.createElement(fD,{enableTabLoop:this.props.enableTabLoop},M.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(i=M.createElement(dD,{portalId:this.props.portalId,portalHost:this.props.portalHost},i)),M.createElement("div",null,this.renderInputContainer(),i)}return M.createElement(jW,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:r,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,strictParsing:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:ru,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0}}}]),n}(),HW="input",Um="navigate";const YW="_form_yr8p9_1",qW="_row_yr8p9_11",KW="_buttons_yr8p9_18",ZW="_flag_yr8p9_23",GW="_loading_yr8p9_30",wo={form:YW,row:qW,buttons:KW,flag:ZW,loading:GW};function QW(t){const e=t.toUpperCase().split("").map(n=>127397+n.charCodeAt());return String.fromCodePoint(...e)}const XW="https://api.bigdatacloud.net/data/reverse-geocode-client";function JW(){const{createCity:t,isLoading:e}=$a(),[n,r]=R.useState(""),[i,o]=R.useState(""),[a,u]=R.useState(!1),[c,d]=R.useState(new Date),[f,m]=R.useState(""),[v,y]=yx(),[E,P]=R.useState(""),[x,T]=R.useState(""),w=ao();R.useEffect(function(){if(!v&&!y)return;async function D(){try{u(!0),T("");const V=await(await fetch(`${XW}?latitude=${v}&longitude=${y}`)).json();if(!V.countryCode)throw new Error("That doesn't seem to be a city. Click somewhere else ");o(V.city||V.locality||""),r(V.countryName),P(QW(V.countryCode))}catch(O){T(O.message)}finally{u(!1)}}D()},[v,y]);async function S(D){if(D.preventDefault(),!i||!c)return;const O={cityName:i,country:n,emoji:E,date:St.fromDate(c),notes:f,id:v+y,position:{lat:v,lng:y}};await t(O),w("/app")}return!v&&!y?A.jsx(Uu,{message:"Start by clicking somewhere on the map"}):x?A.jsx(Uu,{message:x}):A.jsxs("form",{className:`${wo.form} ${e?wo.loading:""}`,onSubmit:S,children:[A.jsxs("div",{className:wo.row,children:[A.jsx("label",{htmlFor:"cityName",children:"City name"}),A.jsx("input",{id:"cityName",onChange:D=>o(D.target.value),value:i}),A.jsx("span",{className:wo.flag,children:E})]}),A.jsxs("div",{className:wo.row,children:[A.jsxs("label",{htmlFor:"date",children:["When did you go to ",i,"?"]}),A.jsx(WW,{id:"date",onChange:D=>d(D),selected:c,dateFormat:"dd/MM/yyyy"})]}),A.jsxs("div",{className:wo.row,children:[A.jsxs("label",{htmlFor:"notes",children:["Notes about your trip to ",i]}),A.jsx("textarea",{id:"notes",onChange:D=>m(D.target.value),value:f})]}),A.jsxs("div",{className:wo.buttons,children:[A.jsx(Xf,{type:"primary",children:"Add"}),A.jsx(Px,{})]})]})}function pD({children:t}){const{currentUser:e}=R.useContext(Ba);return e?t:A.jsx(XS,{to:"/login"})}pD.propTypes={children:Ot.any};function eH(){return A.jsx(ux,{children:A.jsx(_x,{children:A.jsx(sM,{children:A.jsxs(JO,{children:[A.jsx(xn,{path:"product",element:A.jsx(x$,{})}),A.jsx(xn,{path:"pricing",element:A.jsx(D$,{})}),A.jsx(xn,{path:"login",element:A.jsx(x4,{})}),A.jsx(xn,{path:"signup",element:A.jsx(D4,{})}),A.jsx(xn,{index:!0,element:A.jsx(b$,{})}),A.jsxs(xn,{path:"app",element:A.jsx(pD,{children:A.jsx(E4,{})}),children:[A.jsx(xn,{index:!0,element:A.jsx(XS,{replace:!0,to:"cities"})}),A.jsx(xn,{path:"cities",element:A.jsx(z4,{})}),A.jsx(xn,{path:"cities/:id",element:A.jsx(X4,{})}),A.jsx(xn,{path:"countries",element:A.jsx(K4,{})}),A.jsx(xn,{path:"form",element:A.jsx(JW,{})})]}),A.jsx(xn,{path:"*",element:A.jsx(O$,{})})]})})})})}Bm.createRoot(document.getElementById("root")).render(A.jsx(M.StrictMode,{children:A.jsx(eH,{})}));
